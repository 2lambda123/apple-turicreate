<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Turi Create: turi::timer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Turi Create
   &#160;<span id="projectnumber">4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classturi_1_1timer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classturi_1_1timer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">turi::timer Class Reference<div class="ingroups"><a class="el" href="group__util.html">Utility Classes and Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A simple class that can be used for benchmarking/timing up to microsecond resolution.  
 <a href="classturi_1_1timer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="timer_8hpp_source.html">core/system/platform/timer/timer.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9e43df2afaeed847dafdd0395201f7f4"><td class="memItemLeft" align="right" valign="top"><a id="a9e43df2afaeed847dafdd0395201f7f4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#a9e43df2afaeed847dafdd0395201f7f4">timer</a> ()</td></tr>
<tr class="memdesc:a9e43df2afaeed847dafdd0395201f7f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timer starts on construction but can be restarted by calling <a class="el" href="classturi_1_1timer.html#a02ea4162d49d2503d941fbdc83df6f7c">turi::timer::start</a>. <br /></td></tr>
<tr class="separator:a9e43df2afaeed847dafdd0395201f7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ea4162d49d2503d941fbdc83df6f7c"><td class="memItemLeft" align="right" valign="top"><a id="a02ea4162d49d2503d941fbdc83df6f7c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#a02ea4162d49d2503d941fbdc83df6f7c">start</a> ()</td></tr>
<tr class="memdesc:a02ea4162d49d2503d941fbdc83df6f7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the timer. <br /></td></tr>
<tr class="separator:a02ea4162d49d2503d941fbdc83df6f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a64ed864bf4444564407f0d7b6b5725"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#a2a64ed864bf4444564407f0d7b6b5725">current_time</a> () const</td></tr>
<tr class="memdesc:a2a64ed864bf4444564407f0d7b6b5725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the elapsed time in seconds since <a class="el" href="classturi_1_1timer.html#a02ea4162d49d2503d941fbdc83df6f7c">turi::timer::start</a> was last called.  <a href="#a2a64ed864bf4444564407f0d7b6b5725">More...</a><br /></td></tr>
<tr class="separator:a2a64ed864bf4444564407f0d7b6b5725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87620ef95313564c7f7202f84eb5b47"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#aa87620ef95313564c7f7202f84eb5b47">current_time_millis</a> () const</td></tr>
<tr class="memdesc:aa87620ef95313564c7f7202f84eb5b47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the elapsed time in milliseconds since <a class="el" href="classturi_1_1timer.html#a02ea4162d49d2503d941fbdc83df6f7c">turi::timer::start</a> was last called.  <a href="#aa87620ef95313564c7f7202f84eb5b47">More...</a><br /></td></tr>
<tr class="separator:aa87620ef95313564c7f7202f84eb5b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a8f6ab8ba11929b018514ccc4fe5dce7e"><td class="memItemLeft" align="right" valign="top"><a id="a8f6ab8ba11929b018514ccc4fe5dce7e"></a>
static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#a8f6ab8ba11929b018514ccc4fe5dce7e">sec_of_day</a> ()</td></tr>
<tr class="memdesc:a8f6ab8ba11929b018514ccc4fe5dce7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of seconds (as a floating point value) since the Unix Epoch. <br /></td></tr>
<tr class="separator:a8f6ab8ba11929b018514ccc4fe5dce7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa81d10ea866f9919fae8916e0da6b797"><td class="memItemLeft" align="right" valign="top"><a id="aa81d10ea866f9919fae8916e0da6b797"></a>
static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#aa81d10ea866f9919fae8916e0da6b797">usec_of_day</a> ()</td></tr>
<tr class="memdesc:aa81d10ea866f9919fae8916e0da6b797"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns only the micro-second component of the time since the Unix Epoch. <br /></td></tr>
<tr class="separator:aa81d10ea866f9919fae8916e0da6b797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c57c6ce3fa05d78315158d237183543"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#a6c57c6ce3fa05d78315158d237183543">approx_time_seconds</a> ()</td></tr>
<tr class="memdesc:a6c57c6ce3fa05d78315158d237183543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time since program start.  <a href="#a6c57c6ce3fa05d78315158d237183543">More...</a><br /></td></tr>
<tr class="separator:a6c57c6ce3fa05d78315158d237183543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3258a67330b4dc1165e4d7a5bd6e74a"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#ac3258a67330b4dc1165e4d7a5bd6e74a">approx_time_millis</a> ()</td></tr>
<tr class="memdesc:ac3258a67330b4dc1165e4d7a5bd6e74a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time since program start.  <a href="#ac3258a67330b4dc1165e4d7a5bd6e74a">More...</a><br /></td></tr>
<tr class="separator:ac3258a67330b4dc1165e4d7a5bd6e74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84820169ed20c5a312099a3a62cac60"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#ad84820169ed20c5a312099a3a62cac60">stop_approx_timer</a> ()</td></tr>
<tr class="memdesc:ad84820169ed20c5a312099a3a62cac60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the approximate timer.  <a href="#ad84820169ed20c5a312099a3a62cac60">More...</a><br /></td></tr>
<tr class="separator:ad84820169ed20c5a312099a3a62cac60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaea3cbf4314af52d9743812b5d9931c6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#aaea3cbf4314af52d9743812b5d9931c6">sleep</a> (size_t sleeplen)</td></tr>
<tr class="separator:aaea3cbf4314af52d9743812b5d9931c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61046e710ebb0916fd5255c6fa482178"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1timer.html#a61046e710ebb0916fd5255c6fa482178">sleep_ms</a> (size_t sleeplen)</td></tr>
<tr class="separator:a61046e710ebb0916fd5255c6fa482178"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A simple class that can be used for benchmarking/timing up to microsecond resolution. </p>
<h1>Standard Usage </h1>
<p>The timer is used by calling <a class="el" href="classturi_1_1timer.html#a02ea4162d49d2503d941fbdc83df6f7c">turi::timer::start</a> and then by getting the current time since start by calling <a class="el" href="classturi_1_1timer.html#a2a64ed864bf4444564407f0d7b6b5725">turi::timer::current_time</a>.</p>
<p>For example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;timer/timer.hpp&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"><a class="code" href="classturi_1_1timer.html">turi::timer</a> <a class="code" href="classturi_1_1timer.html#a9e43df2afaeed847dafdd0395201f7f4">timer</a>;</div><div class="line">timer.<a class="code" href="classturi_1_1timer.html#a02ea4162d49d2503d941fbdc83df6f7c">start</a>();</div><div class="line"><span class="comment">// do something</span></div><div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Elapsed time: &quot;</span> &lt;&lt; timer.<a class="code" href="classturi_1_1timer.html#a2a64ed864bf4444564407f0d7b6b5725">current_time</a>() &lt;&lt; std::endl;</div></div><!-- fragment --><h1>Sleeping </h1>
<p>The sleep routines here are preferred than the sleep method provided by the standard C library. On Linux, the C sleep method can be woken up by signals, hence it may not sleep the full prescribed interval. The sleep implemented in the timer are more resilient.</p>
<h1>Fast approximate time </h1>
<p>Calling current item in a tight loop can be costly and so we provide a faster less accurate timing primitive which reads a local time variable that is updated roughly every 100 millisecond. These are the <a class="el" href="classturi_1_1timer.html#a6c57c6ce3fa05d78315158d237183543">turi::timer::approx_time_seconds</a> and <a class="el" href="classturi_1_1timer.html#ac3258a67330b4dc1165e4d7a5bd6e74a">turi::timer::approx_time_millis</a>. </p>

<p class="definition">Definition at line <a class="el" href="timer_8hpp_source.html#l00059">59</a> of file <a class="el" href="timer_8hpp_source.html">timer.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac3258a67330b4dc1165e4d7a5bd6e74a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3258a67330b4dc1165e4d7a5bd6e74a">&#9670;&nbsp;</a></span>approx_time_millis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t turi::timer::approx_time_millis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the time since program start. </p>
<p>This value is only updated once every 100ms and is therefore approximate (but fast). </p>

</div>
</div>
<a id="a6c57c6ce3fa05d78315158d237183543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c57c6ce3fa05d78315158d237183543">&#9670;&nbsp;</a></span>approx_time_seconds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float turi::timer::approx_time_seconds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the time since program start. </p>
<p>This value is only updated once every 100ms and is therefore approximate (but fast). </p>

</div>
</div>
<a id="a2a64ed864bf4444564407f0d7b6b5725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a64ed864bf4444564407f0d7b6b5725">&#9670;&nbsp;</a></span>current_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double turi::timer::current_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the elapsed time in seconds since <a class="el" href="classturi_1_1timer.html#a02ea4162d49d2503d941fbdc83df6f7c">turi::timer::start</a> was last called. </p>
<dl class="section return"><dt>Returns</dt><dd>time in seconds since <a class="el" href="classturi_1_1timer.html#a02ea4162d49d2503d941fbdc83df6f7c">turi::timer::start</a> was called. </dd></dl>

<p class="definition">Definition at line <a class="el" href="timer_8hpp_source.html#l00083">83</a> of file <a class="el" href="timer_8hpp_source.html">timer.hpp</a>.</p>

</div>
</div>
<a id="aa87620ef95313564c7f7202f84eb5b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa87620ef95313564c7f7202f84eb5b47">&#9670;&nbsp;</a></span>current_time_millis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double turi::timer::current_time_millis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the elapsed time in milliseconds since <a class="el" href="classturi_1_1timer.html#a02ea4162d49d2503d941fbdc83df6f7c">turi::timer::start</a> was last called. </p>
<dl class="section return"><dt>Returns</dt><dd>time in milliseconds since <a class="el" href="classturi_1_1timer.html#a02ea4162d49d2503d941fbdc83df6f7c">turi::timer::start</a> was called. </dd></dl>

<p class="definition">Definition at line <a class="el" href="timer_8hpp_source.html#l00100">100</a> of file <a class="el" href="timer_8hpp_source.html">timer.hpp</a>.</p>

</div>
</div>
<a id="aaea3cbf4314af52d9743812b5d9931c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaea3cbf4314af52d9743812b5d9931c6">&#9670;&nbsp;</a></span>sleep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void turi::timer::sleep </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sleeplen</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sleeps for sleeplen seconds </p>

</div>
</div>
<a id="a61046e710ebb0916fd5255c6fa482178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61046e710ebb0916fd5255c6fa482178">&#9670;&nbsp;</a></span>sleep_ms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void turi::timer::sleep_ms </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sleeplen</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sleeps for sleeplen milliseconds. </p>

</div>
</div>
<a id="ad84820169ed20c5a312099a3a62cac60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad84820169ed20c5a312099a3a62cac60">&#9670;&nbsp;</a></span>stop_approx_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void turi::timer::stop_approx_timer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops the approximate timer. </p>
<p>This stops the approximate timer thread. Once stoped, the approximate time will never be advanced again. This function should not generally be used, but it seems like on certain platforms (windows for instance) it does not like terminating threads inside DLLs at program terminiation. This can be used to force thread termination.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classturi_1_1timer.html#a6c57c6ce3fa05d78315158d237183543" title="Returns the time since program start. ">approx_time_seconds</a> <a class="el" href="classturi_1_1timer.html#ac3258a67330b4dc1165e4d7a5bd6e74a" title="Returns the time since program start. ">approx_time_millis</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>core/system/platform/timer/<a class="el" href="timer_8hpp_source.html">timer.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceturi.html">turi</a></li><li class="navelem"><a class="el" href="classturi_1_1timer.html">timer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
