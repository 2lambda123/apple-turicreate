<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Turi Create: Line Search</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Turi Create
   &#160;<span id="projectnumber">4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__line__search.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Line Search<div class="ingroups"><a class="el" href="group__group__optimization.html">Convex Optimization</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga82e27ad98c7a6958f194dd7f3a16e738"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__line__search.html#ga82e27ad98c7a6958f194dd7f3a16e738">turi::optimization::cstep</a> (double &amp;stx, double &amp;fx, double &amp;dx, double &amp;sty, double &amp;fy, double &amp;dy, double &amp;stp, double &amp;fp, double &amp;dp, bool &amp;brackt, double stpmin, double stpmax)</td></tr>
<tr class="separator:ga82e27ad98c7a6958f194dd7f3a16e738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga064108b834678ae86d321f07913332a4"><td class="memTemplParams" colspan="2">template&lt;typename Vector &gt; </td></tr>
<tr class="memitem:ga064108b834678ae86d321f07913332a4"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structturi_1_1optimization_1_1__ls__return.html">ls_return</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__line__search.html#ga064108b834678ae86d321f07913332a4">turi::optimization::more_thuente</a> (<a class="el" href="classturi_1_1optimization_1_1first__order__opt__interface.html">first_order_opt_interface</a> &amp;model, double init_step, double init_func_value, DenseVector point, Vector gradient, DenseVector direction, double function_scaling=1.0, const std::shared_ptr&lt; <a class="el" href="classturi_1_1optimization_1_1smooth__regularizer__interface.html">smooth_regularizer_interface</a> &gt; reg=NULL, size_t max_function_evaluations=LS_MAX_ITER)</td></tr>
<tr class="separator:ga064108b834678ae86d321f07913332a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga389a7193cee26f6801f0378b3acdefb5"><td class="memTemplParams" colspan="2">template&lt;typename Vector &gt; </td></tr>
<tr class="memitem:ga389a7193cee26f6801f0378b3acdefb5"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structturi_1_1optimization_1_1__ls__return.html">ls_return</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__line__search.html#ga389a7193cee26f6801f0378b3acdefb5">turi::optimization::armijo_backtracking</a> (<a class="el" href="classturi_1_1optimization_1_1first__order__opt__interface.html">first_order_opt_interface</a> &amp;model, double init_step, double init_func_value, DenseVector point, Vector gradient, DenseVector direction)</td></tr>
<tr class="separator:ga389a7193cee26f6801f0378b3acdefb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37da8a26c6f355aed361728fa35a2c20"><td class="memTemplParams" colspan="2">template&lt;typename Vector &gt; </td></tr>
<tr class="memitem:ga37da8a26c6f355aed361728fa35a2c20"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structturi_1_1optimization_1_1__ls__return.html">ls_return</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__line__search.html#ga37da8a26c6f355aed361728fa35a2c20">turi::optimization::backtracking</a> (<a class="el" href="classturi_1_1optimization_1_1first__order__opt__interface.html">first_order_opt_interface</a> &amp;model, double init_step, double init_func_value, DenseVector point, Vector gradient, DenseVector direction, const std::shared_ptr&lt; <a class="el" href="classturi_1_1optimization_1_1regularizer__interface.html">regularizer_interface</a> &gt; reg=NULL)</td></tr>
<tr class="separator:ga37da8a26c6f355aed361728fa35a2c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11cf280b1eb34451171ffa5f92637631"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__line__search.html#ga11cf280b1eb34451171ffa5f92637631">turi::optimization::gradient_bracketed_linesearch</a> (double dist, double f1, double f2, double g1, double g2)</td></tr>
<tr class="separator:ga11cf280b1eb34451171ffa5f92637631"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga389a7193cee26f6801f0378b3acdefb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga389a7193cee26f6801f0378b3acdefb5">&#9670;&nbsp;</a></span>armijo_backtracking()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Vector &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structturi_1_1optimization_1_1__ls__return.html">ls_return</a> turi::optimization::armijo_backtracking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classturi_1_1optimization_1_1first__order__opt__interface.html">first_order_opt_interface</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>init_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>init_func_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseVector&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector&#160;</td>
          <td class="paramname"><em>gradient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseVector&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Armijo backtracking to compute step sizes for line search methods.</p>
<dl class="section note"><dt>Note</dt><dd>Applicable for smooth functions only.</dd></dl>
<p>Line search based on an backtracking strategy to ensure sufficient decrease in function values at each iteration.</p>
<p>References: (1) Wright S.J and J. Nocedal. Numerical optimization. Vol. 2. New York: Springer, 1999.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">model</td><td>Any model with a first order optimization interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_step</td><td>Initial step size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_func</td><td>Initial function value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">point</td><td>Starting point for the solver. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gradient</td><td>Gradient value at this point. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">direction</td><td>Direction of the next step .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>stats Line searnorm ch return object </dd></dl>

<p class="definition">Definition at line <a class="el" href="line__search-inl_8hpp_source.html#l00615">615</a> of file <a class="el" href="line__search-inl_8hpp_source.html">line_search-inl.hpp</a>.</p>

</div>
</div>
<a id="ga37da8a26c6f355aed361728fa35a2c20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37da8a26c6f355aed361728fa35a2c20">&#9670;&nbsp;</a></span>backtracking()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Vector &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structturi_1_1optimization_1_1__ls__return.html">ls_return</a> turi::optimization::backtracking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classturi_1_1optimization_1_1first__order__opt__interface.html">first_order_opt_interface</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>init_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>init_func_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseVector&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector&#160;</td>
          <td class="paramname"><em>gradient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseVector&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classturi_1_1optimization_1_1regularizer__interface.html">regularizer_interface</a> &gt;&#160;</td>
          <td class="paramname"><em>reg</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Backtracking to compute step sizes for line search methods.</p>
<dl class="section note"><dt>Note</dt><dd>Applicable for non-smooth functions.</dd></dl>
<p>Line search based on an backtracking strategy to "some" decrease in function values at each iteration.</p>
<p>References: (1) Wright S.J and J. Nocedal. Numerical optimization. Vol. 2. New York: Springer, 1999.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">model</td><td>Any model with a first order optimization interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_step</td><td>Initial step size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_func</td><td>Initial function value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">point</td><td>Starting point for the solver. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gradient</td><td>Gradient value at this point. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">direction</td><td>Direction of the next step . </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>Regularizer interface!</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>stats Line searnorm ch return object </dd></dl>

<p class="definition">Definition at line <a class="el" href="line__search-inl_8hpp_source.html#l00681">681</a> of file <a class="el" href="line__search-inl_8hpp_source.html">line_search-inl.hpp</a>.</p>

</div>
</div>
<a id="ga82e27ad98c7a6958f194dd7f3a16e738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga82e27ad98c7a6958f194dd7f3a16e738">&#9670;&nbsp;</a></span>cstep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool turi::optimization::cstep </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>stx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>fx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>sty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>fy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>stp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>dp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>brackt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stpmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stpmax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>"Zoom" phase for More and Thuente line seach.</p>
<dl class="section note"><dt>Note</dt><dd>Applicable for smooth functions only.</dd></dl>
<p>This code is a C++ port of Jorge Nocedal's implementaiton of More and Thuente [2] line search. This code was availiable at <a href="http://www.ece.northwestern.edu/~nocedal/lbfgs.html">http://www.ece.northwestern.edu/~nocedal/lbfgs.html</a></p>
<p>Nocedal's Condition for Use: This software is freely available for educational or commercial purposes. We expect that all publications describing work using this software quote at least one of the references given below. This software is released under the BSD License</p>
<p>The purpose of cstep is to compute a safeguarded step for a linesearch and to update an interval of uncertainty for a minimizer of the function.</p>
<p>The parameter stx contains the step with the least function value. The parameter stp contains the current step. It is assumed that the derivative at stx is negative in the direction of the step. If brackt is set true then a minimizer has been bracketed in an interval of uncertainty with endpoints stx and sty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stx</td><td>Best step obtained so far. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fx</td><td>Function value at the best step so far. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dx</td><td>Directional derivative at the best step so far. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sty</td><td>Step at the end point of the uncertainty interval. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fy</td><td>Function value at end point of uncertainty interval. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dy</td><td>Directional derivative at end point of uncertainty interval. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stp</td><td>Current step. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fp</td><td>Function value at current step. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dp</td><td>Directional derivative at the current step. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">brackt</td><td>Has the minimizer has been bracketed? </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stpmin</td><td>Min step size </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stpmax</td><td>Max step size. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="line__search-inl_8hpp_source.html#l00076">76</a> of file <a class="el" href="line__search-inl_8hpp_source.html">line_search-inl.hpp</a>.</p>

</div>
</div>
<a id="ga11cf280b1eb34451171ffa5f92637631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11cf280b1eb34451171ffa5f92637631">&#9670;&nbsp;</a></span>gradient_bracketed_linesearch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double turi::optimization::gradient_bracketed_linesearch </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>f1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>f2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>g1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>g2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function estimates a minumum point between two function values with known gradients.</p>
<p>The minimum value must lie between the two function values, f1 and f2, and the gradients must indicate the minimum lies between the two values and that the function is convex.</p>
<p>Under these situations, a third degree polynomial / cubic spline can be fit to the two function points, and this is gauranteed to have a single minimum between f1 and f2. This is what this function returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dist</td><td>The distance between the points f1 and f2. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f1</td><td>The value of the function at the left point. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f2</td><td>The value of the function at the right point. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">g1</td><td>The derivative of the function at the left point. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">g2</td><td>The derivative of the function at the right point. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="line__search-inl_8hpp_source.html#l00744">744</a> of file <a class="el" href="line__search-inl_8hpp_source.html">line_search-inl.hpp</a>.</p>

</div>
</div>
<a id="ga064108b834678ae86d321f07913332a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga064108b834678ae86d321f07913332a4">&#9670;&nbsp;</a></span>more_thuente()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Vector &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structturi_1_1optimization_1_1__ls__return.html">ls_return</a> turi::optimization::more_thuente </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classturi_1_1optimization_1_1first__order__opt__interface.html">first_order_opt_interface</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>init_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>init_func_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseVector&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Vector&#160;</td>
          <td class="paramname"><em>gradient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DenseVector&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>function_scaling</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classturi_1_1optimization_1_1smooth__regularizer__interface.html">smooth_regularizer_interface</a> &gt;&#160;</td>
          <td class="paramname"><em>reg</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_function_evaluations</em> = <code>LS_MAX_ITER</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute step sizes for line search methods to satisfy Strong Wolfe conditions.</p>
<dl class="section note"><dt>Note</dt><dd>Applicable for smooth functions only.</dd></dl>
<p>This code is a C++ port of Jorge Nocedal's implementaiton of More and Thuente [2] line search. This code was availiable at <a href="http://www.ece.northwestern.edu/~nocedal/lbfgs.html">http://www.ece.northwestern.edu/~nocedal/lbfgs.html</a></p>
<p>Line search based on More' and Thuente [1] to find a step which satisfies a Wolfe conditions for sufficient decrease condition and a curvature condition.</p>
<p>At each stage the function updates an interval of uncertainty with endpoints. The interval of uncertainty is initially chosen so that it contains a minimizer of the modified function </p><pre class="fragment"> f(x+stp*s) - f(x) - ftol*stp*(gradf(x)'s).
</pre><p>If a step is obtained for which the modified function has a nonpositive function value and nonnegative derivative, then the interval of uncertainty is chosen so that it contains a minimizer of f(x+stp*s).</p>
<p>The algorithm is designed to find a step which satisfies the sufficient decrease condition f(x+stp*s) .le. f(x) + ftol*stp*(gradf(x)'s), [W1] and the curvature condition std::abs(gradf(x+stp*s)'s)) .le. gtol*std::abs(gradf(x)'s). [W2]</p>
<p>References:</p>
<p>(1) More, J. J. and D. J. Thuente. "Line Search Algorithms with
 Guaranteed Sufficient Decrease." ACM Transactions on Mathematical Software 20, no. 3 (1994): 286-307.</p>
<p>(2) Wright S.J and J. Nocedal. Numerical optimization. Vol. 2. New York: Springer, 1999. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">model</td><td>Any model with a first order optimization interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_step</td><td>Initial step size </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">point</td><td>Starting point for the solver. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gradient</td><td>Gradient value at this point (saves computation) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>Shared ptr to an interface to a smooth regularizer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>stats Line searnorm ch return object </dd></dl>

<p class="definition">Definition at line <a class="el" href="line__search-inl_8hpp_source.html#l00329">329</a> of file <a class="el" href="line__search-inl_8hpp_source.html">line_search-inl.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
