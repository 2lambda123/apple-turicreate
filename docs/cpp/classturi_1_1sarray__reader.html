<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Turi Create: turi::sarray_reader&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Turi Create
   &#160;<span id="projectnumber">4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classturi_1_1sarray__reader.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classturi_1_1sarray__reader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">turi::sarray_reader&lt; T &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__sframe__physical.html">SFrame : Physical</a> &raquo; <a class="el" href="group__sframe__main.html">Main SFrame Objects</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="sarray__reader_8hpp_source.html">core/storage/sframe_data/sarray_reader.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1e1d4d099b1713c932183c464d1b8f3a"><td class="memItemLeft" align="right" valign="top"><a id="a1e1d4d099b1713c932183c464d1b8f3a"></a>
typedef <a class="el" href="classturi_1_1sarray__iterator.html">sarray_iterator</a>&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a1e1d4d099b1713c932183c464d1b8f3a">iterator</a></td></tr>
<tr class="memdesc:a1e1d4d099b1713c932183c464d1b8f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The iterator type which <a class="el" href="classturi_1_1sarray__reader.html#afc04529106917fa5d3f6ba43356e9717">begin</a> and <a class="el" href="classturi_1_1sarray__reader.html#a66a87ee67862f28e20de555f6338566c">end</a> returns. <br /></td></tr>
<tr class="separator:a1e1d4d099b1713c932183c464d1b8f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf21cf41572d538631201ac11a71bc49"><td class="memItemLeft" align="right" valign="top"><a id="aaf21cf41572d538631201ac11a71bc49"></a>
typedef iterator::value_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#aaf21cf41572d538631201ac11a71bc49">value_type</a></td></tr>
<tr class="memdesc:aaf21cf41572d538631201ac11a71bc49"><td class="mdescLeft">&#160;</td><td class="mdescRight">The value type the sarray stores. <br /></td></tr>
<tr class="separator:aaf21cf41572d538631201ac11a71bc49"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4ce304d33c85f31a1ce13c2b987dedaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a4ce304d33c85f31a1ce13c2b987dedaf">sarray_reader</a> ()=default</td></tr>
<tr class="separator:a4ce304d33c85f31a1ce13c2b987dedaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b2670218ff9008723936d73f8befd78"><td class="memItemLeft" align="right" valign="top"><a id="a4b2670218ff9008723936d73f8befd78"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a4b2670218ff9008723936d73f8befd78">sarray_reader</a> (const <a class="el" href="classturi_1_1sarray__reader.html">sarray_reader</a> &amp;other)=delete</td></tr>
<tr class="memdesc:a4b2670218ff9008723936d73f8befd78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted Copy constructor. <br /></td></tr>
<tr class="separator:a4b2670218ff9008723936d73f8befd78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951a9e17bbcd808ec4f6ecc3b2851e33"><td class="memItemLeft" align="right" valign="top"><a id="a951a9e17bbcd808ec4f6ecc3b2851e33"></a>
<a class="el" href="classturi_1_1sarray__reader.html">sarray_reader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a951a9e17bbcd808ec4f6ecc3b2851e33">operator=</a> (const <a class="el" href="classturi_1_1sarray__reader.html">sarray_reader</a> &amp;other)=delete</td></tr>
<tr class="memdesc:a951a9e17bbcd808ec4f6ecc3b2851e33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator. <br /></td></tr>
<tr class="separator:a951a9e17bbcd808ec4f6ecc3b2851e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c22734644ac63ebd1567d5edb4d62a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a5c22734644ac63ebd1567d5edb4d62a2">init</a> (const <a class="el" href="classturi_1_1sarray.html">sarray</a>&lt; T &gt; &amp;array, size_t <a class="el" href="classturi_1_1sarray__reader.html#a03c5d60f0e8c844fcbae73e6fbc49a88">num_segments</a>=(size_t)(-1))</td></tr>
<tr class="separator:a5c22734644ac63ebd1567d5edb4d62a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb804106e9264c64dacc32053ade75b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a8fb804106e9264c64dacc32053ade75b">init</a> (const <a class="el" href="classturi_1_1sarray.html">sarray</a>&lt; T &gt; &amp;array, const std::vector&lt; size_t &gt; &amp;segment_lengths)</td></tr>
<tr class="separator:a8fb804106e9264c64dacc32053ade75b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c5d60f0e8c844fcbae73e6fbc49a88"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a03c5d60f0e8c844fcbae73e6fbc49a88">num_segments</a> () const</td></tr>
<tr class="separator:a03c5d60f0e8c844fcbae73e6fbc49a88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1eebbdb86893a2b2ba5bf4566dfd0c8"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#ae1eebbdb86893a2b2ba5bf4566dfd0c8">segment_length</a> (size_t segment) const</td></tr>
<tr class="separator:ae1eebbdb86893a2b2ba5bf4566dfd0c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2624d0bf3d890eaee97c78c1c69c8a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a9a2624d0bf3d890eaee97c78c1c69c8a">get_index_file</a> () const</td></tr>
<tr class="separator:a9a2624d0bf3d890eaee97c78c1c69c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a70daf2197885f80b56868736736057"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a6a70daf2197885f80b56868736736057">get_file_names</a> () const</td></tr>
<tr class="separator:a6a70daf2197885f80b56868736736057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b705598d3dca90bf94034cf964285b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#af4b705598d3dca90bf94034cf964285b">get_metadata</a> (std::string key, std::string &amp;val) const</td></tr>
<tr class="separator:af4b705598d3dca90bf94034cf964285b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca9ddfb669ee6873f7f83f128b497ebe"><td class="memItemLeft" align="right" valign="top">std::pair&lt; bool, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#aca9ddfb669ee6873f7f83f128b497ebe">get_metadata</a> (std::string key) const</td></tr>
<tr class="separator:aca9ddfb669ee6873f7f83f128b497ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab382e2b3134508e5c2140679a418b11"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#aab382e2b3134508e5c2140679a418b11">size</a> () const</td></tr>
<tr class="separator:aab382e2b3134508e5c2140679a418b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc04529106917fa5d3f6ba43356e9717"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classturi_1_1sarray__reader.html#a1e1d4d099b1713c932183c464d1b8f3a">iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#afc04529106917fa5d3f6ba43356e9717">begin</a> (size_t segmentid) const</td></tr>
<tr class="separator:afc04529106917fa5d3f6ba43356e9717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66a87ee67862f28e20de555f6338566c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classturi_1_1sarray__reader.html#a1e1d4d099b1713c932183c464d1b8f3a">iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a66a87ee67862f28e20de555f6338566c">end</a> (size_t segmentid) const</td></tr>
<tr class="separator:a66a87ee67862f28e20de555f6338566c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a403b86f69dd3d31dc411206a4f986e94"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a403b86f69dd3d31dc411206a4f986e94">read_rows</a> (size_t row_start, size_t row_end, std::vector&lt; T &gt; &amp;out_obj)</td></tr>
<tr class="separator:a403b86f69dd3d31dc411206a4f986e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ddbb41a214072f11fb354542c3fea81"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sframe__main.html#ga7ddbb41a214072f11fb354542c3fea81">read_rows</a> (size_t row_start, size_t row_end, <a class="el" href="classturi_1_1sframe__rows.html">sframe_rows</a> &amp;out_obj)</td></tr>
<tr class="separator:ga7ddbb41a214072f11fb354542c3fea81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a7484c0e4eb2234377a7a212c6681f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a54a7484c0e4eb2234377a7a212c6681f">reset_iterators</a> ()</td></tr>
<tr class="separator:a54a7484c0e4eb2234377a7a212c6681f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e609095eb0b54a391fd0776fd8dc44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceturi.html#a232ed812da2796b7bd317ea4b3a21f76">flex_type_enum</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sarray__reader.html#a71e609095eb0b54a391fd0776fd8dc44">get_type</a> () const</td></tr>
<tr class="separator:a71e609095eb0b54a391fd0776fd8dc44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c699d2a0d709a457da479d4eedd62b"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1siterable.html#af5c699d2a0d709a457da479d4eedd62b">read_rows</a> (size_t row_start, size_t row_end, std::vector&lt; typename <a class="el" href="classturi_1_1sarray__iterator.html">sarray_iterator</a>&lt; T &gt; ::<a class="el" href="classturi_1_1sarray__reader.html#aaf21cf41572d538631201ac11a71bc49">value_type</a> &gt; &amp;out_obj)=0</td></tr>
<tr class="separator:af5c699d2a0d709a457da479d4eedd62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class turi::sarray_reader&lt; T &gt;</h3>

<p>The SArray reader provides a reading interface to an immutable, on disk, sequence of objects T.</p>
<p>The SArray is an immutable sequence of objects of type T, and is internally represented as a collection of files. The sequence is cut up into a collection of segments (not necessarily of equal length), where each segment covers a disjoint subset of the sequence. Each segment can then be read in parallel.</p>
<p>To read from an sarray&lt;T&gt; use <a class="el" href="classturi_1_1sarray.html#ab2d5d36cc07d04d9e8e4380746d3f785">sarray::get_reader()</a>: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> reader = array.get_reader();</div></div><!-- fragment --><p> reader will be of type sarray_reader&lt;T&gt;</p>
<p>reader can then provide input iterators from segments via the <a class="el" href="classturi_1_1sarray__reader.html#afc04529106917fa5d3f6ba43356e9717">begin()</a> and <a class="el" href="classturi_1_1sarray__reader.html#a66a87ee67862f28e20de555f6338566c">end()</a> functions. </p>

<p class="definition">Definition at line <a class="el" href="gl__sarray_8hpp_source.html#l00033">33</a> of file <a class="el" href="gl__sarray_8hpp_source.html">gl_sarray.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4ce304d33c85f31a1ce13c2b987dedaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ce304d33c85f31a1ce13c2b987dedaf">&#9670;&nbsp;</a></span>sarray_reader()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::<a class="el" href="classturi_1_1sarray__reader.html">sarray_reader</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default constructor. Does nothing. Use <a class="el" href="classturi_1_1sarray__reader.html#a5c22734644ac63ebd1567d5edb4d62a2">init()</a> </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afc04529106917fa5d3f6ba43356e9717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc04529106917fa5d3f6ba43356e9717">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classturi_1_1sarray__reader.html#a1e1d4d099b1713c932183c464d1b8f3a">iterator</a> <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::begin </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>segmentid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the begin iterator of the segment. The iterator (<a class="el" href="classturi_1_1sarray__iterator.html">sarray_iterator</a>) is of the input iterator type and has value_type T. See <a class="el" href="classturi_1_1sarray__reader.html#a66a87ee67862f28e20de555f6338566c">end()</a> to get the end iterator of the segment.</p>
<p>The iterator is invalid once the originating sarray is destroyed. Accessing the iterator after the sarray is destroyed is undefined behavior.</p>
<div class="fragment"><div class="line"><span class="comment">// example to print segment 1 to screen</span></div><div class="line"><span class="keyword">auto</span> iter = sarr.begin(1);</div><div class="line"><span class="keyword">auto</span> enditer =sarr.end(1);</div><div class="line"><span class="keywordflow">while</span>(iter != enditer) {</div><div class="line">  std::cout &lt;&lt; *iter &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  ++iter;</div><div class="line">}</div></div><!-- fragment --><p>Will throw an exception if the sarray is invalid (there is an error reading files) Also segmentid must be a valid segment ID. Will throw an exception otherwise. </p>

<p>Implements <a class="el" href="classturi_1_1siterable.html#a8abb5a4b2e0f292d1a6f1e54630dc911">turi::siterable&lt; sarray_iterator&lt; T &gt; &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00396">396</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="a66a87ee67862f28e20de555f6338566c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66a87ee67862f28e20de555f6338566c">&#9670;&nbsp;</a></span>end()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classturi_1_1sarray__reader.html#a1e1d4d099b1713c932183c464d1b8f3a">iterator</a> <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::end </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>segmentid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the end iterator of the segment. The iterator (<a class="el" href="classturi_1_1sarray__iterator.html">sarray_iterator</a>) is of the input iterator type and has value_type T. See <a class="el" href="classturi_1_1sarray__reader.html#a66a87ee67862f28e20de555f6338566c">end()</a> to get the end iterator of the segment.</p>
<p>The iterator is invalid once the originating sarray is destroyed. Accessing the iterator after the sarray is destroyed is undefined behavior.</p>
<div class="fragment"><div class="line"><span class="comment">// example to print segment 1 to screen</span></div><div class="line"><span class="keyword">auto</span> iter = sarr.begin(1);</div><div class="line"><span class="keyword">auto</span> enditer =sarr.end(1);</div><div class="line"><span class="keywordflow">while</span>(iter != enditer) {</div><div class="line">  std::cout &lt;&lt; *iter &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  ++iter;</div><div class="line">}</div></div><!-- fragment --><p>Will throw an exception if the sarray is invalid (there is an error reading files) Also segmentid must be a valid segment ID. Will throw an exception otherwise. </p>

<p>Implements <a class="el" href="classturi_1_1siterable.html#a49e7c29736d122292d880e820727975a">turi::siterable&lt; sarray_iterator&lt; T &gt; &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00429">429</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="a6a70daf2197885f80b56868736736057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a70daf2197885f80b56868736736057">&#9670;&nbsp;</a></span>get_file_names()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::get_file_names </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the collection of files storing the sarray. For instance: [file_prefix].sidx, [file_prefix].0001, etc. </p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00327">327</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="a9a2624d0bf3d890eaee97c78c1c69c8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a2624d0bf3d890eaee97c78c1c69c8a">&#9670;&nbsp;</a></span>get_index_file()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::get_index_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the file prefix of the sarray (paramter on construction) </p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00317">317</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="af4b705598d3dca90bf94034cf964285b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4b705598d3dca90bf94034cf964285b">&#9670;&nbsp;</a></span>get_metadata() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::get_metadata </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads the value of a key associated with the sarray. Returns true on success, false on failure. </p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00336">336</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="aca9ddfb669ee6873f7f83f128b497ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca9ddfb669ee6873f7f83f128b497ebe">&#9670;&nbsp;</a></span>get_metadata() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;bool, std::string&gt; <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::get_metadata </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads the value of a key associated with the sarray. Returns a pair of (true, value) on success, and (false, empty_string) on failure. </p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00349">349</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="a71e609095eb0b54a391fd0776fd8dc44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71e609095eb0b54a391fd0776fd8dc44">&#9670;&nbsp;</a></span>get_type()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceturi.html#a232ed812da2796b7bd317ea4b3a21f76">flex_type_enum</a> <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::get_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the type of the SArray (as set by swriter&lt;flexible_type&gt;::set_type). If the type of the SArray was not set, this returns <a class="el" href="namespaceturi.html#a232ed812da2796b7bd317ea4b3a21f76a0db45d2a4141101bdfe48e3314cfbca3">flex_type_enum::UNDEFINED</a>, in which case each row can be of arbitrary type.</p>
<p>This function should only be used for sarray&lt;flexible_type&gt; and will fail fatally otherwise. </p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00497">497</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="a5c22734644ac63ebd1567d5edb4d62a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c22734644ac63ebd1567d5edb4d62a2">&#9670;&nbsp;</a></span>init() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classturi_1_1sarray.html">sarray</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_segments</em> = <code>(size_t)(-1)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempts to construct an <a class="el" href="classturi_1_1sarray__iterator.html">sarray_iterator</a> which reads from an existing sarray. If the index file cannot be opened, an exception is thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array to read </td></tr>
    <tr><td class="paramname">num_segments</td><td>If num_segments == (size_t)(-1), the original file segmentation is used. Otherwise, the array is cut into num_segments number of logical segments which distribute the rows uniformly. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00227">227</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="a8fb804106e9264c64dacc32053ade75b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb804106e9264c64dacc32053ade75b">&#9670;&nbsp;</a></span>init() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classturi_1_1sarray.html">sarray</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>segment_lengths</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempts to construct an <a class="el" href="classturi_1_1sarray__iterator.html">sarray_iterator</a> which reads from an existing sarray and uses a segmentation defined by an argument. If the index file cannot be opened, an exception is thrown. If the sum of the lengths of all the segments do not add up to the length of the sarray, an exception is thrown</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array to read </td></tr>
    <tr><td class="paramname">segment_lengths</td><td>An array describing the lengths of each segment. This must sum up to the length of the array. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00271">271</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="a03c5d60f0e8c844fcbae73e6fbc49a88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c5d60f0e8c844fcbae73e6fbc49a88">&#9670;&nbsp;</a></span>num_segments()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::num_segments </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of segments in the collection. Will throw an exception if the sarray is invalid (there is an error reading files) </p>

<p>Implements <a class="el" href="classturi_1_1siterable.html#a830bf219b1c57f899c12dd02bf40469f">turi::siterable&lt; sarray_iterator&lt; T &gt; &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00299">299</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="af5c699d2a0d709a457da479d4eedd62b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5c699d2a0d709a457da479d4eedd62b">&#9670;&nbsp;</a></span>read_rows() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t <a class="el" href="classturi_1_1siterable.html">turi::siterable</a>&lt; <a class="el" href="classturi_1_1sarray__iterator.html">sarray_iterator</a>&lt; T &gt;  &gt;::read_rows </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; typename <a class="el" href="classturi_1_1sarray__iterator.html">sarray_iterator</a>&lt; T &gt; ::value_type &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads a collection of rows, storing the result in out_obj. This function is independent of the begin/end iterator functions, and can be called anytime. This function is also fully concurrent. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">row_start</td><td>First row to read </td></tr>
    <tr><td class="paramname">row_end</td><td>one past the last row to read (i.e. EXCLUSIVE). row_end can be beyond the end of the array, in which case, fewer rows will be read. </td></tr>
    <tr><td class="paramname">out_obj</td><td>The output array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Actual number of rows read. Return (size_t)(-1) on failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is not always efficient. Different file formats implementations will have different characteristics. </dd></dl>

</div>
</div>
<a id="a403b86f69dd3d31dc411206a4f986e94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a403b86f69dd3d31dc411206a4f986e94">&#9670;&nbsp;</a></span>read_rows() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::read_rows </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>row_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads a collection of rows, storing the result in out_obj. This function is independent of the open_segment/read_segment/close_segment functions, and can be called anytime. This function is also fully concurrent. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">row_start</td><td>First row to read </td></tr>
    <tr><td class="paramname">row_end</td><td>one past the last row to read (i.e. EXCLUSIVE). row_end can be beyond the end of the array, in which case, fewer rows will be read. </td></tr>
    <tr><td class="paramname">out_obj</td><td>The output array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Actual number of rows read. Return (size_t)(-1) on failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is not always efficient. Different file formats implementations will have different characteristics. </dd></dl>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00451">451</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="a54a7484c0e4eb2234377a7a212c6681f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a7484c0e4eb2234377a7a212c6681f">&#9670;&nbsp;</a></span>reset_iterators()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::reset_iterators </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Resets all the file handles. All existing iterators are invalidated. </p>

<p>Implements <a class="el" href="classturi_1_1siterable.html#af76dc4c470ab6894d1859a5f687c47d9">turi::siterable&lt; sarray_iterator&lt; T &gt; &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00481">481</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="ae1eebbdb86893a2b2ba5bf4566dfd0c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1eebbdb86893a2b2ba5bf4566dfd0c8">&#9670;&nbsp;</a></span>segment_length()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::segment_length </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>segment</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of rows in the segment. Will throw an exception if the sarray is invalid (there is an error reading files) </p>

<p>Implements <a class="el" href="classturi_1_1siterable.html#a3baae27254f172ed2df1d1f73bfeef27">turi::siterable&lt; sarray_iterator&lt; T &gt; &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00309">309</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<a id="aab382e2b3134508e5c2140679a418b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab382e2b3134508e5c2140679a418b11">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classturi_1_1sarray__reader.html">turi::sarray_reader</a>&lt; T &gt;::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of elements in the SArray </p>

<p class="definition">Definition at line <a class="el" href="sarray__reader_8hpp_source.html#l00363">363</a> of file <a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>core/data/sframe/<a class="el" href="gl__sarray_8hpp_source.html">gl_sarray.hpp</a></li>
<li>core/storage/sframe_data/<a class="el" href="sarray__reader_8hpp_source.html">sarray_reader.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceturi.html">turi</a></li><li class="navelem"><a class="el" href="classturi_1_1sarray__reader.html">sarray_reader</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
