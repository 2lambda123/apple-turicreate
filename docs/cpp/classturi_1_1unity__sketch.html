<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Turi Create: turi::unity_sketch Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Turi Create
   &#160;<span id="projectnumber">4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classturi_1_1unity__sketch.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classturi_1_1unity__sketch-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">turi::unity_sketch Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="unity__sketch_8hpp_source.html">ml/sketches/unity_sketch.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a00d8469abd05c22462d50e260afc5e1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a00d8469abd05c22462d50e260afc5e1d">construct_from_sarray</a> (std::shared_ptr&lt; unity_sarray_base &gt; uarray, bool background=false, const std::vector&lt; <a class="el" href="classturi_1_1flexible__type.html">flexible_type</a> &gt; &amp;<a class="el" href="group__set__and__map.html#ga918b8235a3af13f02053fdf76c17ae83">keys</a>={})</td></tr>
<tr class="separator:a00d8469abd05c22462d50e260afc5e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b356a7473ee3622a1e8a1d4256bf59c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a0b356a7473ee3622a1e8a1d4256bf59c">sketch_ready</a> ()</td></tr>
<tr class="separator:a0b356a7473ee3622a1e8a1d4256bf59c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015732d96b6f41c913e5a5ad600f9e6a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a015732d96b6f41c913e5a5ad600f9e6a">num_elements_processed</a> ()</td></tr>
<tr class="separator:a015732d96b6f41c913e5a5ad600f9e6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af214d707ac95b7df79f199db3a022dab"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#af214d707ac95b7df79f199db3a022dab">get_quantile</a> (double quantile)</td></tr>
<tr class="separator:af214d707ac95b7df79f199db3a022dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec81efc419b22de4a895b77f826093b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a3ec81efc419b22de4a895b77f826093b">frequency_count</a> (<a class="el" href="classturi_1_1flexible__type.html">flexible_type</a> value)</td></tr>
<tr class="separator:a3ec81efc419b22de4a895b77f826093b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0d6854b6a036c5b098231e8b76c35c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; <a class="el" href="classturi_1_1flexible__type.html">flexible_type</a>, size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a8d0d6854b6a036c5b098231e8b76c35c">frequent_items</a> ()</td></tr>
<tr class="separator:a8d0d6854b6a036c5b098231e8b76c35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c9e028f7f0b4ee22b00240f670db5a0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a5c9e028f7f0b4ee22b00240f670db5a0">num_unique</a> ()</td></tr>
<tr class="separator:a5c9e028f7f0b4ee22b00240f670db5a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5709a36e87f9fde15c8078646fcf5221"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classturi_1_1flexible__type.html">flexible_type</a>, std::shared_ptr&lt; unity_sketch_base &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a5709a36e87f9fde15c8078646fcf5221">element_sub_sketch</a> (const std::vector&lt; <a class="el" href="classturi_1_1flexible__type.html">flexible_type</a> &gt; &amp;<a class="el" href="group__set__and__map.html#ga918b8235a3af13f02053fdf76c17ae83">keys</a>)</td></tr>
<tr class="separator:a5709a36e87f9fde15c8078646fcf5221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34fbd13e7db1d35f83fc182cef36f292"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; unity_sketch_base &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a34fbd13e7db1d35f83fc182cef36f292">element_length_summary</a> ()</td></tr>
<tr class="separator:a34fbd13e7db1d35f83fc182cef36f292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc688cab0e8320ce32e56f86fe6a27ad"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; unity_sketch_base &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#acc688cab0e8320ce32e56f86fe6a27ad">element_summary</a> ()</td></tr>
<tr class="separator:acc688cab0e8320ce32e56f86fe6a27ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb80e6fe54653fc55d1453f6545af9d8"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; unity_sketch_base &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#aeb80e6fe54653fc55d1453f6545af9d8">dict_key_summary</a> ()</td></tr>
<tr class="separator:aeb80e6fe54653fc55d1453f6545af9d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e135732868eac724f727519d79dca7"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; unity_sketch_base &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#aa6e135732868eac724f727519d79dca7">dict_value_summary</a> ()</td></tr>
<tr class="separator:aa6e135732868eac724f727519d79dca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af84cc6befbbdbb2aa8b8735f25d23f4a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#af84cc6befbbdbb2aa8b8735f25d23f4a">mean</a> ()</td></tr>
<tr class="separator:af84cc6befbbdbb2aa8b8735f25d23f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab679855ff0f34b37306e262ebb13d3d9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#ab679855ff0f34b37306e262ebb13d3d9">max</a> ()</td></tr>
<tr class="separator:ab679855ff0f34b37306e262ebb13d3d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae785c8113cb083b9dc79646ab0e84a4a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#ae785c8113cb083b9dc79646ab0e84a4a">min</a> ()</td></tr>
<tr class="separator:ae785c8113cb083b9dc79646ab0e84a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993dd2e36eefdcaf5af6fa9e723fc7fc"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a993dd2e36eefdcaf5af6fa9e723fc7fc">sum</a> ()</td></tr>
<tr class="separator:a993dd2e36eefdcaf5af6fa9e723fc7fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb8aa7d8f199b62759068077a10c948"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#aebb8aa7d8f199b62759068077a10c948">var</a> ()</td></tr>
<tr class="separator:aebb8aa7d8f199b62759068077a10c948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aff4d6e5ca642baf90c1f3719b98f02"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a6aff4d6e5ca642baf90c1f3719b98f02">size</a> ()</td></tr>
<tr class="separator:a6aff4d6e5ca642baf90c1f3719b98f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dfbdbc08a8934e2e5732f04db063cbb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#a5dfbdbc08a8934e2e5732f04db063cbb">num_undefined</a> ()</td></tr>
<tr class="separator:a5dfbdbc08a8934e2e5732f04db063cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89edab7e606b83d15437f155525fe4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1unity__sketch.html#ad89edab7e606b83d15437f155525fe4b">cancel</a> ()</td></tr>
<tr class="separator:ad89edab7e606b83d15437f155525fe4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides a query interface to a collection of statistics about an SArray accumulated via various sketching methods. The <a class="el" href="classturi_1_1unity__sketch.html">unity_sketch</a> object contains a summary of a single SArray (a column of an SFrame). It contains sketched statistics about the Array which can be queried efficiently.</p>
<p>The sketch computation is fast and has complexity approximately linear in the length of the Array. After which, all queryable functions in the sketch can be performed nearly instantly.</p>
<p>The sketch's contents vary depending on whether it is a numeric array, or a non-numeric (string) array, or list type list vector/dict/recursive If numeric:</p>
<p>This is essentially a union among a collection of sketches, depend on value type of SArray, here is what's availble in the sketch for each sarray value type: numeric type (int, float):</p><ul>
<li>m_numeric_sketch &ndash; numeric summary like max/min/var/std/mean/quantile</li>
<li>m_discrete_sketch &ndash; discrete summary like unique items/counts/frequent_items string type:</li>
<li>m_discrete_sketch &ndash; discrete summary like unique items/counts/frequent_items dictionary type:</li>
<li>m_discrete_sketch &ndash; discrete summary like unique items/counts/frequent_items</li>
<li>m_dict_key_sketch &ndash; sketch summary of flattened dict keys, it is a sketch summary of string type where we treat each key as string</li>
<li>m_dict_value_sketch &ndash; sketch summary of flattened dictionary values. we infer the type of dictionary value by peek into first 100 rows of of data and then decide whether or not to use numeric sketch.</li>
<li>m_element_sub_sketch &ndash; optional. Available only if user explicitly asks for sketch summary for subset of dictionary keys. The sub sketch type is of the same type as m_dict_value_sketch vector(array) type:</li>
<li>m_discrete_sketch &ndash; discrete summary like unique items/counts/frequent_items</li>
<li>m_element_sketch &ndash; sketch summary for all values of the vector as if the values are flattened, and the element sketch is of type float (numeric sketch)</li>
<li>m_element_sub_sketch &ndash; optional. If user asks for sketch summary for certain columns in the vector value, then this will be available. It is a collection of sketches for the corresponding columns and the sketch type is numeric. list(recursive) type:</li>
<li>m_discrete_sketch &ndash; discrete summary like unique items/counts/frequent_items</li>
<li>m_element_sketch &ndash; sketch summary for all values of the vector as if the values are flattened. The element sketch is of type string. We convert all list values to string and then do a sketch on it</li>
</ul>
<p>The following information is provided exactly:</p><ul>
<li>length (<a class="el" href="classturi_1_1unity__sketch.html#a6aff4d6e5ca642baf90c1f3719b98f02">size()</a>)</li>
<li># Missing Values (<a class="el" href="classturi_1_1unity__sketch.html#a5dfbdbc08a8934e2e5732f04db063cbb">num_undefined()</a>)</li>
<li>Min (<a class="el" href="classturi_1_1unity__sketch.html#ae785c8113cb083b9dc79646ab0e84a4a">min()</a>)</li>
<li>Max (<a class="el" href="classturi_1_1unity__sketch.html#ab679855ff0f34b37306e262ebb13d3d9">max()</a>)</li>
<li>Mean (<a class="el" href="classturi_1_1unity__sketch.html#af84cc6befbbdbb2aa8b8735f25d23f4a">mean()</a>)</li>
<li>Variance (<a class="el" href="classturi_1_1unity__sketch.html#aebb8aa7d8f199b62759068077a10c948">var()</a>)</li>
</ul>
<p>And the following information is provided approximately:</p><ul>
<li># Unique Values (<a class="el" href="classturi_1_1unity__sketch.html#a5c9e028f7f0b4ee22b00240f670db5a0">num_unique()</a>)</li>
<li>Quantiles (<a class="el" href="classturi_1_1unity__sketch.html#af214d707ac95b7df79f199db3a022dab">get_quantile()</a>)</li>
<li>Frequent Items (<a class="el" href="classturi_1_1unity__sketch.html#a8d0d6854b6a036c5b098231e8b76c35c">frequent_items()</a>)</li>
<li>Frequency Count of any Value (<a class="el" href="classturi_1_1unity__sketch.html#a3ec81efc419b22de4a895b77f826093b">frequency_count()</a>)</li>
</ul>
<p>For SArray of type recursive/dict/array, additional sketch information is available:</p><ul>
<li><a class="el" href="classturi_1_1unity__sketch.html#a34fbd13e7db1d35f83fc182cef36f292">element_length_summary()</a> &ndash; sketch summary of element length.</li>
</ul>
<p>For SArray of type list, there is a sketch summary for all values inside the list element. Sketch summary flattens all list values and do a sketch summery over flattened values. Each value in list is casted to string for sketch summary. The summary can be retrieved by calling:</p><ul>
<li><a class="el" href="classturi_1_1unity__sketch.html#acc688cab0e8320ce32e56f86fe6a27ad">element_summary()</a> &ndash; sketch summary of all list elements</li>
</ul>
<p>For SArray of type array(vector), there is a sketch summary for all values inside vector element. Sketch summary flattens all vector values and do a sketch summery over flattened values. The summary can be retrieved by calling:</p><ul>
<li><a class="el" href="classturi_1_1unity__sketch.html#acc688cab0e8320ce32e56f86fe6a27ad">element_summary()</a> &ndash; sketch summary of all vector elements</li>
</ul>
<p>For SArray of type dict, additional sketch summary over the keys and values are provided. They can be retrieved by calling:</p><ul>
<li><a class="el" href="classturi_1_1unity__sketch.html#aeb80e6fe54653fc55d1453f6545af9d8">dict_key_summary()</a> &ndash; sketch summary of all keys in the dictionary</li>
<li><a class="el" href="classturi_1_1unity__sketch.html#aa6e135732868eac724f727519d79dca7">dict_value_summary()</a> &ndash; sketch summary of all values in the dictionary</li>
</ul>
<p>For SArray of type dict, user can also pass in a list of dictionary keys to sketch_summary function, this would cause one sub sketch for each of the key. For example: &gt;&gt;&gt; sketch = sa.sketch_summary(sub_sketch_keys=["a", "b"]) Then the sub summary may be retrieved by: &gt;&gt;&gt; sketch.element_sub_sketch() Or: &gt;&gt;&gt; sketch.element_sub_sketch(["key1", "key2"]) for subset of keys</p>
<p>Similarly, for SArray of type vector(array), user can also pass in a list of integers which is the index into the vector to get sub sketch For example: &gt;&gt;&gt; sketch = sa.sketch_summary(sub_sketch_keys=[1,3,5]) Then the sub summary may be retrieved by: &gt;&gt;&gt; sketch.element_sub_sketch() Or: &gt;&gt;&gt; sketch.element_sub_sketch([1,3]) for subset of keys </p>

<p class="definition">Definition at line <a class="el" href="unity__sketch_8hpp_source.html#l00139">139</a> of file <a class="el" href="unity__sketch_8hpp_source.html">unity_sketch.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad89edab7e606b83d15437f155525fe4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad89edab7e606b83d15437f155525fe4b">&#9670;&nbsp;</a></span>cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void turi::unity_sketch::cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cancels any ongoing sketch computation. </p>

</div>
</div>
<a id="a00d8469abd05c22462d50e260afc5e1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00d8469abd05c22462d50e260afc5e1d">&#9670;&nbsp;</a></span>construct_from_sarray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void turi::unity_sketch::construct_from_sarray </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; unity_sarray_base &gt;&#160;</td>
          <td class="paramname"><em>uarray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>background</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classturi_1_1flexible__type.html">flexible_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>keys</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generates all the sketch statistics from an input SArray. If background is true, the sketch will be constructed in the background. While the sketch is being constructed in a background thread, queries can be executed on the sketch, but none of the quality guarantees will apply. </p>

</div>
</div>
<a id="aeb80e6fe54653fc55d1453f6545af9d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb80e6fe54653fc55d1453f6545af9d8">&#9670;&nbsp;</a></span>dict_key_summary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;unity_sketch_base&gt; turi::unity_sketch::dict_key_summary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For SArray of dictionary type, returns the sketch summary for the dictionary keys It only counts the keys if the key can be converted to string </p>

</div>
</div>
<a id="aa6e135732868eac724f727519d79dca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e135732868eac724f727519d79dca7">&#9670;&nbsp;</a></span>dict_value_summary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;unity_sketch_base&gt; turi::unity_sketch::dict_value_summary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For SArray of dictionary type, returns the sketch summary for the dictionary values It only counts the values if the value can be converted to float </p>

</div>
</div>
<a id="a34fbd13e7db1d35f83fc182cef36f292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34fbd13e7db1d35f83fc182cef36f292">&#9670;&nbsp;</a></span>element_length_summary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;unity_sketch_base&gt; turi::unity_sketch::element_length_summary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns element length sketch summary if the sarray is a list/vector/dict type raises exception otherwise </p>

</div>
</div>
<a id="a5709a36e87f9fde15c8078646fcf5221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5709a36e87f9fde15c8078646fcf5221">&#9670;&nbsp;</a></span>element_sub_sketch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classturi_1_1flexible__type.html">flexible_type</a>, std::shared_ptr&lt;unity_sketch_base&gt; &gt; turi::unity_sketch::element_sub_sketch </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classturi_1_1flexible__type.html">flexible_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>keys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns sketch summary for a given key in dictionary SArray sketch, or a given index in SArray of vector</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>is either an index into vector or a key in dictionary </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc688cab0e8320ce32e56f86fe6a27ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc688cab0e8320ce32e56f86fe6a27ad">&#9670;&nbsp;</a></span>element_summary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;unity_sketch_base&gt; turi::unity_sketch::element_summary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For SArray of array/list(recursive) type, returns the sketch summary for the list values the summary only works if element can be converted to string. Elements that cannot be converted to string will be ignored </p>

</div>
</div>
<a id="a3ec81efc419b22de4a895b77f826093b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec81efc419b22de4a895b77f826093b">&#9670;&nbsp;</a></span>frequency_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double turi::unity_sketch::frequency_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classturi_1_1flexible__type.html">flexible_type</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a sketched estimate of the number of occurances of a given element. This estimate is based on the count sketch. The element type must be of the same type as the input SArray; throws an exception otherwise. </p>

</div>
</div>
<a id="a8d0d6854b6a036c5b098231e8b76c35c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0d6854b6a036c5b098231e8b76c35c">&#9670;&nbsp;</a></span>frequent_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::pair&lt;<a class="el" href="classturi_1_1flexible__type.html">flexible_type</a>, size_t&gt; &gt; turi::unity_sketch::frequent_items </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a sketched estimate of the most frequent elements in the SArray based on the SpaceSaving sketch. It is only guaranteed that all elements which appear in more than 0.01% (0.0001) rows of the array will appear in the set of returned elements. However, other elements may also appear in the result. The item counts are estimated using the CountSketch. </p>

</div>
</div>
<a id="af214d707ac95b7df79f199db3a022dab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af214d707ac95b7df79f199db3a022dab">&#9670;&nbsp;</a></span>get_quantile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double turi::unity_sketch::get_quantile </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>quantile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a sketched estimate of the value at a particular quantile between 0.0 and 1.0. The quantile is guaranteed to be accurate within 1%: meaning that if you ask for the 0.55 quantile, the returned value is guaranteed to be between the true 0.54 quantile and the true 0.56 quantile. The quantiles are only defined for numeric arrays and this function will throw an exception if called on a sketch constructed for a non-numeric column. </p>

</div>
</div>
<a id="ab679855ff0f34b37306e262ebb13d3d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab679855ff0f34b37306e262ebb13d3d9">&#9670;&nbsp;</a></span>max()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double turi::unity_sketch::max </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the max of the values in the sarray. Returns NaN on an empty array. Throws an exception if called on an sarray with non-numeric type. </p>

<p class="definition">Definition at line <a class="el" href="unity__sketch_8hpp_source.html#l00257">257</a> of file <a class="el" href="unity__sketch_8hpp_source.html">unity_sketch.hpp</a>.</p>

</div>
</div>
<a id="af84cc6befbbdbb2aa8b8735f25d23f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af84cc6befbbdbb2aa8b8735f25d23f4a">&#9670;&nbsp;</a></span>mean()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double turi::unity_sketch::mean </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the mean of the values in the sarray. Returns 0 on an empty array. Throws an exception if called on an sarray with non-numeric type. </p>

<p class="definition">Definition at line <a class="el" href="unity__sketch_8hpp_source.html#l00245">245</a> of file <a class="el" href="unity__sketch_8hpp_source.html">unity_sketch.hpp</a>.</p>

</div>
</div>
<a id="ae785c8113cb083b9dc79646ab0e84a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae785c8113cb083b9dc79646ab0e84a4a">&#9670;&nbsp;</a></span>min()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double turi::unity_sketch::min </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the min of the values in the sarray. Returns NaN on an empty array. Throws an exception if called on an sarray with non-numeric type. </p>

<p class="definition">Definition at line <a class="el" href="unity__sketch_8hpp_source.html#l00269">269</a> of file <a class="el" href="unity__sketch_8hpp_source.html">unity_sketch.hpp</a>.</p>

</div>
</div>
<a id="a015732d96b6f41c913e5a5ad600f9e6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a015732d96b6f41c913e5a5ad600f9e6a">&#9670;&nbsp;</a></span>num_elements_processed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t turi::unity_sketch::num_elements_processed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of elements processed by the sketch is complete. If the sketch is constructed with background == false, this will always return the number of elements of the array. If the sketch is constructed using a background thread this may return a value between 0 and the length of the array. </p>

</div>
</div>
<a id="a5dfbdbc08a8934e2e5732f04db063cbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dfbdbc08a8934e2e5732f04db063cbb">&#9670;&nbsp;</a></span>num_undefined()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t turi::unity_sketch::num_undefined </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of undefined elements in the input SArray. </p>

<p class="definition">Definition at line <a class="el" href="unity__sketch_8hpp_source.html#l00310">310</a> of file <a class="el" href="unity__sketch_8hpp_source.html">unity_sketch.hpp</a>.</p>

</div>
</div>
<a id="a5c9e028f7f0b4ee22b00240f670db5a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c9e028f7f0b4ee22b00240f670db5a0">&#9670;&nbsp;</a></span>num_unique()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double turi::unity_sketch::num_unique </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a sketched estimate of the number of unique values in the SArray based on the Hyperloglog sketch. </p>

</div>
</div>
<a id="a6aff4d6e5ca642baf90c1f3719b98f02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aff4d6e5ca642baf90c1f3719b98f02">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t turi::unity_sketch::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of elements in the input SArray. </p>

<p class="definition">Definition at line <a class="el" href="unity__sketch_8hpp_source.html#l00303">303</a> of file <a class="el" href="unity__sketch_8hpp_source.html">unity_sketch.hpp</a>.</p>

</div>
</div>
<a id="a0b356a7473ee3622a1e8a1d4256bf59c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b356a7473ee3622a1e8a1d4256bf59c">&#9670;&nbsp;</a></span>sketch_ready()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool turi::unity_sketch::sketch_ready </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if the sketch is complete. If the sketch is constructed with background == false, this will always return true. If not the sketch is constructed using a background thread and this will return false until the sketch is ready. </p>

</div>
</div>
<a id="a993dd2e36eefdcaf5af6fa9e723fc7fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a993dd2e36eefdcaf5af6fa9e723fc7fc">&#9670;&nbsp;</a></span>sum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double turi::unity_sketch::sum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the sum of the values in the sarray. Returns 0 on an empty array. Throws an exception if called on an sarray with non-numeric type. </p>

<p class="definition">Definition at line <a class="el" href="unity__sketch_8hpp_source.html#l00281">281</a> of file <a class="el" href="unity__sketch_8hpp_source.html">unity_sketch.hpp</a>.</p>

</div>
</div>
<a id="aebb8aa7d8f199b62759068077a10c948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb8aa7d8f199b62759068077a10c948">&#9670;&nbsp;</a></span>var()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double turi::unity_sketch::var </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the variance of the values in the sarray. Returns 0 on an empty array. Throws an exception if called on an sarray with non-numeric type. </p>

<p class="definition">Definition at line <a class="el" href="unity__sketch_8hpp_source.html#l00292">292</a> of file <a class="el" href="unity__sketch_8hpp_source.html">unity_sketch.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ml/sketches/<a class="el" href="unity__sketch_8hpp_source.html">unity_sketch.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceturi.html">turi</a></li><li class="navelem"><a class="el" href="classturi_1_1unity__sketch.html">unity_sketch</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
