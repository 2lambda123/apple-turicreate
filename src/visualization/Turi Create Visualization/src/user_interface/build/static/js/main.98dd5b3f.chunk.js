(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var i=a(6),l=a.n(i),n=a(46),r=a.n(n),s=a(29),o=a(27),c=a(31),d=a(30),h=a(32),u=(a(65),a(100)),m=a(75),p=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.addSpec(this.props.vega_spec)}},{key:"checkLoadedFlag",value:function(e,t){if(t.vegaLoading)window.setTimeout(t.checkLoadedFlag,100,e,t);else{t.vegaLoading,!e||e.values;var a=e.values.slice(),i=u.changeset();if(null!=e.progress){var l=parseFloat(e.progress);parseInt(100*l,10)>=100?(document.getElementById("progress_bar").style.width=parseInt(100*l)+"%",setTimeout(function(){document.getElementById("progress_bar").style.opacity="0.0"},1e3)):document.getElementById("progress_bar").style.width=parseInt(100*l)+"%"}for(var n=t.vegaView.data("source_2"),r=0;r<a.length;r++)if(null!=a[r].a)for(var s=0;s<n.length;s++)n[s].a===a[r].a&&(i=i.remove(n[s]));else if(n.length>0){i=i.remove(n);break}i=i.insert(a),t.vega_container.classList.remove("uninitialized"),t.vegaView.change("source_2",i).runAfter(function(e){}),t.vegaView.toCanvas().then(function(e){t.hidden_container.innerHTML="",t.hidden_container.appendChild(e)})}}},{key:"updateData",value:function(e){this.checkLoadedFlag(e,this)}},{key:"addSpec",value:function(e){this.bubbleOpts={showAllFields:!0},this.vega_json=e,this.vega_json.autosize={type:"fit",resize:!0,contains:"padding"},null!=this.vega_json.metadata&&null!=this.vega_json.metadata.bubbleOpts&&(this.bubbleOpts=this.vega_json.metadata.bubbleOpts),this.vegaLoading=!0,this.vegaView=new u.View(u.parse(this.vega_json),{renderer:"svg"}).initialize(this.vega_container).hover().run(),this.setState({initializedVega:!0}),this.vegaLoading=!1,m.vega(this.vegaView,this.bubbleOpts),"MacIntel"===window.navigator.platform&&window.webkit.messageHandlers.scriptHandler.postMessage({status:"ready"})}},{key:"getSpec",value:function(){for(var e=this.vega_json,t=this.vegaView.data("source_2"),a=0;a<e.data.length;a++)"source_2"===e.data[a].name&&(e.data[a].values=t);return JSON.stringify(e)}},{key:"getData",value:function(){for(var e=this.vegaView.data("source_2"),t="object"!=typeof e?JSON.parse(e):e,a="",i=0;i<t.length;i++){var l="";for(var n in t[i])""!=l&&(l+=","),l+=t[i][n];a+=l+"\r\n"}return a}},{key:"exportPNG",value:function(){return this.hidden_container.childNodes[0].toDataURL("image/png").replace(/^data:image\/(png|jpg);base64,/,"")}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:["vega_container","uninitialized"].join(" "),ref:function(t){e.vega_container=t}}),l.a.createElement("div",{className:["hidden_cont"].join(" "),ref:function(t){e.hidden_container=t}}))}}]),t}(i.Component),g=(a(84),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",Object.assign({},this.props,{className:"sticky-table-container "+(this.props.className||"")}),this.props.children)}}]),t}(i.Component)),y=(a(86),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"accordian_window"==this.props.className&&console.log(this.props),l.a.createElement("div",Object.assign({},this.props,{className:"sticky-table-row "+(this.props.className||"")}),this.props.children)}}]),t}(i.Component)),v=(a(88),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",Object.assign({},this.props,{className:"sticky-table-cell "+(this.props.className||"")}),this.props.children)}}]),t}(i.Component)),_=a(90),f=a(95),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).scrollToValue=function(){for(var e=document.getElementsByClassName("header_element"),t=0;t<e.length;t++)if(e[t].innerText==a.scrollVal||e[t].innerText==a.props.scrollVal){a.yScrollbar.scrollTop=e[t].offsetTop-e[t].offsetHeight-6,a.scrollVal=-1,a.props.scrollVal=-1;break}a.props.reset_scroll(a.props.parent_context)},a.setScrollData=function(){return a.suppressScrollX=!1,a.suppressScrollY=!1,a.scrollData={scrollTop:a.yScrollbar.scrollTop,scrollHeight:a.yScrollbar.scrollHeight,clientHeight:a.yScrollbar.clientHeight,scrollLeft:a.xScrollbar.scrollLeft,scrollWidth:a.xScrollbar.scrollWidth,clientWidth:a.xScrollbar.clientWidth}},a.onScrollBarX=function(){a.suppressScrollX?(a.handleScroll(),a.suppressScrollX=!1):(a.scrollData.scrollLeft=a.xWrapper.scrollLeft=a.xScrollbar.scrollLeft,a.suppressScrollX=!0)},a.onScrollBarY=function(){a.suppressScrollY?(a.handleScroll(),a.suppressScrollY=!1):(a.scrollData.scrollTop=a.yWrapper.scrollTop=a.yScrollbar.scrollTop,a.suppressScrollY=!0)},a.onScrollX=function(){var e=Math.max(a.xWrapper.scrollLeft,0);a.stickyHeader.style.transform="translate("+-1*e+"px, 0)"},a.scrollXScrollbar=function(){a.suppressScrollX?(a.handleScroll(),a.suppressScrollX=!1):(a.scrollData.scrollLeft=a.xScrollbar.scrollLeft=a.xWrapper.scrollLeft,a.suppressScrollX=!0)},a.scrollYScrollbar=function(){a.suppressScrollY?(a.handleScroll(),a.suppressScrollY=!1):(a.scrollData.scrollTop=a.yScrollbar.scrollTop=a.yWrapper.scrollTop,a.suppressScrollY=!0)},a.handleScroll=function(){a.props.onScroll&&a.props.onScroll(a.scrollData);var e=a.getScrollBottom(),t=a.getScrollTop();1==e&&a.updateScrollDown(),0==t&&a.updateScrollUp()},a.updateScrollDown=function(){if(a.props.set_higher*a.props.step_size>=a.props.size)return"Max value reached";if(a.props.scroll_state){var e=document.getElementsByClassName("header_element");if(e.length>0){for(var t=e[e.length-1].innerText,i=0;i<e.length;i++){if(e[i].getBoundingClientRect().top>0){t=e[i].innerText;break}}a.scrollVal=t,a.props.scroll_callback(a.scrollVal,a.props.parent_context,1)}}},a.updateScrollUp=function(){if(a.props.set_lower*a.props.step_size<=0)return"Min value reached";if(a.props.scroll_state){var e=document.getElementsByClassName("header_element");e.length>0&&(a.scrollVal=parseInt(e[0].innerText,10),a.props.scroll_callback(a.scrollVal,a.props.parent_context,-1))}},a.getScrollBottom=function(){return(a.yScrollbar.scrollTop+a.yScrollbar.clientHeight)/a.yScrollbar.scrollHeight},a.getScrollTop=function(){return a.yScrollbar.scrollTop/a.yScrollbar.scrollHeight},a.getRows=function(e,t){a.scroll=!1},a.onResize=function(){a.setScrollBarDims(),a.setScrollBarWrapperDims(),a.setRowHeights(),a.setColumnWidths(),a.setScrollData(),a.handleScroll()},a.setScrollBarWrapperDims=function(){a.xScrollbar.style.width="calc(100% - "+a.yScrollSize+"px)",a.yScrollbar.style.height="calc(100% - "+a.stickyHeader.offsetHeight+"px)",a.yScrollbar.style.top=a.stickyHeader.offsetHeight+"px"},a.id=Math.floor(1e9*Math.random())+"",a.rowCount=0,a.columnCount=0,a.xScrollSize=0,a.yScrollSize=0,a.stickyHeaderCount=0===e.stickyHeaderCount?0:a.stickyHeaderCount||1,a.container_ref=l.a.createRef(),a.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.table=document.getElementById("sticky-table-"+this.id),this.table&&(this.realTable=this.table.querySelector("#sticky-table-x-wrapper").firstChild,this.xScrollbar=this.table.querySelector("#x-scrollbar"),this.yScrollbar=this.table.querySelector("#y-scrollbar"),this.xWrapper=this.table.querySelector("#sticky-table-x-wrapper"),this.yWrapper=this.table.querySelector("#sticky-table-y-wrapper"),this.stickyHeader=this.table.querySelector("#sticky-table-header"),this.stickyColumn=this.table.querySelector("#sticky-table-column"),this.stickyCorner=this.table.querySelector("#sticky-table-corner"),this.setScrollData(),f(this.realTable,this.onResize),this.onResize(),setTimeout(this.onResize),this.addScrollBarEventHandlers(),this.scrollToValue())}},{key:"componentDidUpdate",value:function(){this.scrollToValue(),this.onResize();for(var e=document.getElementsByClassName("header_element"),t=0;t<e.length;t++)e[t].style.height=this.getModeHeights()+"px"}},{key:"componentWillUnmount",value:function(){this.table&&(this.xWrapper.removeEventListener("scroll",this.onScrollX),this.xWrapper.removeEventListener("scroll",this.scrollXScrollbar),this.xScrollbar.removeEventListener("scroll",this.onScrollBarX),this.yWrapper.removeEventListener("scroll",this.scrollYScrollbar),this.yScrollbar.removeEventListener("scroll",this.onScrollBarY),f.unbind(this.realTable))}},{key:"addScrollBarEventHandlers",value:function(){this.xWrapper.addEventListener("scroll",this.onScrollX),this.xWrapper.addEventListener("scroll",this.scrollXScrollbar),this.xScrollbar.addEventListener("scroll",this.onScrollBarX),this.yWrapper.addEventListener("scroll",this.scrollYScrollbar),this.yScrollbar.addEventListener("scroll",this.onScrollBarY)}},{key:"setScrollBarPaddings",value:function(){var e="0px 0px "+this.xScrollSize+"px 0px";this.table.style.padding=e;e="0px "+this.yScrollSize+"px 0px 0px";this.xWrapper.firstChild.style.padding=e}},{key:"setScrollBarDims",value:function(){this.xScrollSize=this.xScrollbar.offsetHeight-this.xScrollbar.clientHeight,this.yScrollSize=this.yScrollbar.offsetWidth-this.yScrollbar.clientWidth,this.isFirefox||this.setScrollBarPaddings();var e=this.getSize(this.realTable.firstChild).width;this.xScrollbar.firstChild.style.width=e+"px";var t=this.getSize(this.realTable).height+this.xScrollSize-this.stickyHeader.offsetHeight;this.yScrollbar.firstChild.style.height=t+"px",this.xScrollSize&&(this.xScrollbar.style.height=this.xScrollSize+1+"px"),this.yScrollSize&&(this.yScrollbar.style.width=this.yScrollSize+1+"px")}},{key:"getModeHeights",value:function(){var e=[];if(this.props.stickyColumnCount)for(var t=0;t<this.rowCount;t++)e.push(this.getSize(this.realTable.childNodes[t].childNodes[0]).height);return function(e){var t,a={},i=0;return e.forEach(function(e){a[e]=(a[e]||0)+1,i<a[e]&&(i=a[e],t=e)}),+t}(e)}},{key:"setRowHeights",value:function(){var e,t,a,i=void 0!=this.props.y?this.props.y:-1,l=0;if(this.props.stickyColumnCount){for(e=1;e<this.rowCount;e++)(t=this.realTable.childNodes[e].firstChild)&&(this.realTable.childNodes[e].childNodes[1].style.height=this.getModeHeights()+"px",this.stickyColumn.firstChild.childNodes[e].style.height=this.getModeHeights()+"px",a=this.getSize(t).height,this.stickyColumn.firstChild.childNodes[e].firstChild.style.height=a+"px",0==e&&this.stickyCorner.firstChild.childNodes[e]&&(this.stickyCorner.firstChild.firstChild.firstChild.style.height=a+"px")),i==e&&(l=this.stickyColumn.firstChild.childNodes[e].offsetTop);this.stickyCorner.firstChild.firstChild.firstChild.style.height=this.stickyHeader.offsetHeight+"px",this.stickyColumn.firstChild.childNodes[0].firstChild.style.height=this.stickyHeader.offsetHeight+"px",document.getElementById("data_container")&&(document.getElementById("data_container").style.height=4*this.getModeHeights()-30+"px",document.getElementById("data_container").style.width=this.xScrollbar.clientWidth-30+"px",document.getElementById("data_container").style.left="15px",document.getElementById("data_container").style.top=l+this.getModeHeights()+15+"px")}}},{key:"setColumnWidths",value:function(){var e,t,a,i,l;if(this.stickyHeaderCount){for(l=0,e=0;e<this.columnCount;e++)if(t=this.realTable.firstChild.childNodes[e]){a=this.getSize(t).width,(i=this.table.querySelector("#sticky-header-cell-"+e)).style.width=a+"px",i.style.minWidth=a+"px";var n=this.stickyCorner.firstChild.firstChild;n&&n.childNodes[e]&&((i=n.childNodes[e]).style.width=a+"px",i.style.minWidth=a+"px",(i=n.childNodes[e]).style.width=a+"px",i.style.minWidth=a+"px",l+=a)}this.stickyColumn.firstChild.style.width=l+"px",this.stickyColumn.firstChild.style.minWidth=l+"px"}}},{key:"getStickyColumns",value:function(e){var t,a=this,i=this.props.stickyColumnCount,n=[],r=void 0!=this.props.y?parseInt(this.props.y,10):-1;return-1!=this.props.scrollVal&&(this.scroll=!1),e.forEach(function(e,s){if(t=l.a.Children.toArray(e.props.children),e.props.accordion&&r>0)if(a.props.data)if(a.props.data.index+1==parseInt(a.props.y,10)&&a.props.data.column==a.props.column_name&&void 0!=a.props.column_name){var o=[];switch(a.props.data.type){case window.flex_type_enum.string:o.push(l.a.createElement("div",{style:{"word-wrap":"break-word"}},a.props.data.data));break;case window.flex_type_enum.dict:case window.flex_type_enum.vector:case window.flex_type_enum.list:case window.flex_type_enum.nd_vector:o.push(l.a.createElement(_,{className:"json-pretty",json:a.props.data.data}))}n.push(l.a.createElement(y,e.props,l.a.createElement("div",{id:"data_container",style:{position:"absolute",overflow:"scroll",width:100,left:3,zIndex:99,textAlign:"left",background:"#F7F7F7"}},l.a.createElement("div",{style:{padding:10}},o))))}else n.push(l.a.createElement(y,e.props,l.a.createElement("div",{id:"data_container",style:{position:"absolute",overflow:"scroll",width:100,left:3,zIndex:99,textAlign:"left",background:"#F7F7F7"}},l.a.createElement("div",{style:{padding:10}},"Loading..."))));else n.push(l.a.createElement(y,e.props,l.a.createElement("div",{id:"data_container",style:{position:"absolute",overflow:"scroll",width:100,left:3,zIndex:99,textAlign:"left",background:"#F7F7F7"}},l.a.createElement("div",{style:{padding:10}},"Loading..."))));else e.props.spacers&&r>0?n.push(l.a.createElement(y,Object.assign({},e.props,{key:s}),t.slice(0,i))):n.push(l.a.createElement(y,Object.assign({},e.props,{id:"",key:s}),t.slice(0,i)))}),n}},{key:"getStickyHeader",value:function(e){var t=e[0],a=[];return l.a.Children.toArray(t.props.children).forEach(function(e,t){a.push(l.a.cloneElement(e,{id:"sticky-header-cell-"+t,key:t}))}),l.a.createElement(y,Object.assign({},t.props,{id:"sticky-header-row"}),a)}},{key:"getStickyCorner",value:function(e){var t,a=this.props.stickyColumnCount,i=[];return e.forEach(function(e,n){0===n&&(t=l.a.Children.toArray(e.props.children),i.push(l.a.createElement(y,Object.assign({},e.props,{id:"",key:n}),t.slice(0,a))))}),i}},{key:"getSize",value:function(e){return{width:e?e.getBoundingClientRect().width:0,height:e?e.getBoundingClientRect().height:0}}},{key:"render",value:function(){var e,t,a,i=l.a.Children.toArray(this.props.children);return this.rowCount=i.length,this.columnCount=i[0]&&l.a.Children.toArray(i[0].props.children).length||0,i.length&&(this.props.stickyColumnCount>0&&this.stickyHeaderCount>0&&(a=this.getStickyCorner(i)),this.props.stickyColumnCount>0&&(e=this.getStickyColumns(i)),this.stickyHeaderCount>0&&(t=this.getStickyHeader(i))),l.a.createElement("div",{className:"sticky-table "+(this.props.className||""),id:"sticky-table-"+this.id},l.a.createElement("div",{id:"x-scrollbar"},l.a.createElement("div",null)),l.a.createElement("div",{id:"y-scrollbar"},l.a.createElement("div",null)),l.a.createElement("div",{className:"sticky-table-corner",id:"sticky-table-corner"},l.a.createElement(g,null,a)),l.a.createElement("div",{className:"sticky-table-header",id:"sticky-table-header"},l.a.createElement(g,null,t)),l.a.createElement("div",{className:"sticky-table-y-wrapper",id:"sticky-table-y-wrapper"},l.a.createElement("div",{className:"sticky-table-column",id:"sticky-table-column"},l.a.createElement(g,null,e)),l.a.createElement("div",{className:"sticky-table-x-wrapper",id:"sticky-table-x-wrapper"},l.a.createElement(g,null,i))))}}]),t}(i.PureComponent);b.defaultProps={stickyHeaderCount:1,stickyColumnCount:1};a(96);var w=a(39),k=a(48),E=a.n(k),C=a(49),S=a.n(C),x=a(102).format(","),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).image_array=[],a.image_dictionary={},a.data=void 0,a.step_size=a.props.step_size?a.props.step_size:50,a.test_this="element",a.scrollVal=-1,a.table_scroll=!0,a.state={windowHeight:window.innerHeight,windowWidth:window.innerWidth,table:[]},a.loading_image_timer=void 0,a.y=-1,a.column_name=void 0,a.data_sent=void 0,a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"renderCell",value:function(e,t){var a=this;switch(t){case"string":return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("div",{className:"string_val",onClick:function(e){return a.divClick(e)}},l.a.createElement("span",{className:"default_span_color",onClick:function(e){return a.spanClick(e)}},e)),l.a.createElement("div",{className:"arrow_right",onClick:function(e){return a.arrowClick(e)}},l.a.createElement(w.a,{icon:S.a,style:{display:"block"},onClick:function(e){return a.spanClick(e)}}),l.a.createElement(w.a,{icon:E.a,style:{display:"none"},onClick:function(e){return a.spanClick(e)}})));case"float":return l.a.createElement("div",{className:"float_val"},e);case"integer":return l.a.createElement("div",{className:"int_val"},e);case"image":return l.a.createElement("div",{className:"image_val"},l.a.createElement("img",{src:"data:image/"+e.format+";base64,"+e.data,height:32,"data-image-row":e.idx,"data-image-column":e.column,alt:e.width+"x"+e.height+" image"}));case"dictionary":return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("div",{className:"dictionary_value",onClick:function(e){return a.divClick(e)}},l.a.createElement("span",{className:"default_span_color",onClick:function(e){return a.spanClick(e)}},JSON.stringify(e))),l.a.createElement("div",{className:"arrow_right",onClick:function(e){return a.arrowClick(e)}},l.a.createElement(w.a,{icon:S.a,style:{display:"block"},onClick:function(e){return a.spanClick(e)}}),l.a.createElement(w.a,{icon:E.a,style:{display:"none"},onClick:function(e){return a.spanClick(e)}})));case"array":return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("div",{className:"array_value",onClick:function(e){return a.divClick(e)}},l.a.createElement("span",{className:"default_span_color",onClick:function(e){return a.spanClick(e)}},e)),l.a.createElement("div",{className:"arrow_right",onClick:function(e){return a.arrowClick(e)}},l.a.createElement(w.a,{icon:S.a,style:{display:"block"},onClick:function(e){return a.spanClick(e)}}),l.a.createElement(w.a,{icon:E.a,style:{display:"none"},onClick:function(e){return a.spanClick(e)}})));case"list":case"ndarray":return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("div",{className:"array_value",onClick:function(e){return a.divClick(e)}},l.a.createElement("span",{className:"default_span_color",onClick:function(e){return a.spanClick(e)}},JSON.stringify(e))),l.a.createElement("div",{className:"arrow_right",onClick:function(e){return a.arrowClick(e)}},l.a.createElement(w.a,{icon:S.a,style:{display:"block"},onClick:function(e){return a.spanClick(e)}}),l.a.createElement(w.a,{icon:E.a,style:{display:"none"},onClick:function(e){return a.spanClick(e)}})));default:return l.a.createElement("div",null,e)}}}]),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.table_spec=this.props.table_spec,this.size=this.props.table_spec.size,this.title=this.props.table_spec.title,this.image_source_container=document.getElementById("image_source_container"),this.arrow_left=document.getElementById("arrow_left"),this.image_loading_container=document.getElementById("image_loading_container"),this.rowNum=document.getElementById("rowNum"),window.addEventListener("resize",this.handleResize.bind(this)),"MacIntel"===window.navigator.platform&&window.webkit.messageHandlers.scriptHandler.postMessage({status:"ready"});for(var e=document.getElementsByClassName("string_val"),t=0;t<e.length;t++)e[t].getBoundingClientRect().width<e[t].children[0].getBoundingClientRect().width&&(e[t].parentElement.parentElement.classList.remove("hoverable_element"),e[t].parentElement.parentElement.classList.add("hoverable_element"));var a=document.getElementsByClassName("dictionary_value");for(t=0;t<a.length;t++)a[t].getBoundingClientRect().width<a[t].children[0].getBoundingClientRect().width&&(a[t].parentElement.parentElement.classList.remove("hoverable_element"),a[t].parentElement.parentElement.classList.add("hoverable_element"));var i=document.getElementsByClassName("array_value");for(t=0;t<i.length;t++)i[t].getBoundingClientRect().width<i[t].children[0].getBoundingClientRect().width&&(i[t].parentElement.parentElement.classList.remove("hoverable_element"),i[t].parentElement.parentElement.classList.add("hoverable_element"))}},{key:"componentDidUpdate",value:function(e,t,a){this.image_source_container=document.getElementById("image_source_container"),this.arrow_left=document.getElementById("arrow_left"),this.image_loading_container=document.getElementById("image_loading_container"),this.rowNum=document.getElementById("rowNum");for(var i=document.getElementsByClassName("string_val"),l=0;l<i.length;l++)i[l].getBoundingClientRect().width<i[l].children[0].getBoundingClientRect().width&&(i[l].parentElement.parentElement.classList.remove("hoverable_element"),i[l].parentElement.parentElement.classList.add("hoverable_element"));var n=document.getElementsByClassName("dictionary_value");for(l=0;l<n.length;l++)n[l].getBoundingClientRect().width<n[l].children[0].getBoundingClientRect().width&&(n[l].parentElement.parentElement.classList.remove("hoverable_element"),n[l].parentElement.parentElement.classList.add("hoverable_element"));var r=document.getElementsByClassName("array_value");for(l=0;l<r.length;l++)r[l].getBoundingClientRect().width<r[l].children[0].getBoundingClientRect().width&&(r[l].parentElement.parentElement.classList.remove("hoverable_element"),r[l].parentElement.parentElement.classList.add("hoverable_element"))}},{key:"componentWillMount",value:function(){window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"reset_scroll",value:function(e){e.table_scroll=!0}},{key:"callbackScroll",value:function(e,t,a){t.jump_to_wrapper(e,t,a)}},{key:"enterPressJumpRow",value:function(e){if(13==e.keyCode&&null!=this.rowNum&&this.table_scroll){var t=this.rowNum.value;this.rowNum.value="",isNaN(parseInt(t,10))||this.jump_to(t)}}},{key:"rowHandler",value:function(e){if(null!=this.rowNum&&this.table_scroll){var t=this.rowNum.value;this.rowNum.value="",isNaN(parseInt(t,10))||this.jump_to(t)}}},{key:"jump_to",value:function(e){this.jump_to_wrapper(e,this,0)}},{key:"jump_to_wrapper",value:function(e,t,a){if(t.table_scroll){var i,l,n,r;(e=parseInt(e,10))>=t.size?e=t.size-1:e<0&&(e=0),r=(n=Math.floor(e/t.step_size))+1,0==a?(t.set_lower=n-1>=0?n-1:0,t.set_higher=n-1>=0?r:2):(t.set_lower+=a,t.set_higher+=a),i=t.set_lower-1>=0?t.set_lower*t.step_size:0,l=t.set_higher*t.step_size>t.size?t.size:t.set_higher*t.step_size,t.getRows(i,l),t.scrollVal=e}t.table_scroll=!1,t.drawTable()}},{key:"getRows",value:function(e,t){"MacIntel"==window.navigator.platform?window.webkit.messageHandlers.scriptHandler.postMessage({status:"getRows",start:e,end:t}):window.postMessageToNativeClient('{"method":"get_rows", "start":'+e+', "end": '+t+"}")}},{key:"setAccordionData",value:function(e){this.data_sent=e.data,this.drawTable()}},{key:"handleResize",value:function(e){var t=this;this.setState(function(e){return{windowHeight:window.innerHeight,windowWidth:window.innerWidth}},function(){t.drawTable()})}},{key:"hoverImage",value:function(e){var t=this;return function(a){if("image"==e&&(t.image_source_container.style.display="block",t.arrow_left.style.display="block",null!=t.image_source_container&&a.target.getElementsByTagName("img")[0]&&a.target.classList.contains("elements"))){var i=a.target.getBoundingClientRect(),l=t.arrow_left.getBoundingClientRect(),n=parseInt(i.height/2-l.height/2+i.y,10),r=a.target.getElementsByTagName("img")[0].getAttribute("data-image-row"),s=a.target.getElementsByTagName("img")[0].getAttribute("data-image-column");if(t.image_dictionary[String(r)]){if(t.image_dictionary[String(r)][String(s)]){var o="data:image/"+t.image_dictionary[String(r)][String(s)].format+";base64,"+t.image_dictionary[String(r)][String(s)].image;t.image_source_container.src=o,t.arrow_left.style.top=n+"px";var c=t.image_source_container.getBoundingClientRect(),d=parseInt(i.height/2-c.height/2+i.y,10),h=(g=document.getElementsByClassName("header")[0].getBoundingClientRect()).y+g.height,u=document.getElementsByClassName("BottomTable")[0].getBoundingClientRect().y;h>d&&(d=h),d+c.height>u&&(d=u-c.height),t.image_source_container.style.top=d+"px";var m=i.width+i.left,p=i.width+i.left+10;t.arrow_left.style.left=m+"px",t.image_source_container.style.left=p+"px"}}else{t.image_source_container.style.display="none",t.image_loading_container.style.display="block",t.arrow_left.style.top=n+"px";var g;c=t.image_loading_container.getBoundingClientRect(),d=parseInt(i.height/2-c.height/2+i.y,10),h=(g=document.getElementsByClassName("header")[0].getBoundingClientRect()).y+g.height,u=document.getElementsByClassName("BottomTable")[0].getBoundingClientRect().y;h>d&&(d=h),d+c.height>u&&(d=u-c.height),t.image_loading_container.style.top=d+"px";m=i.width+i.left,p=i.width+i.left+10;t.arrow_left.style.left=m+"px",t.image_loading_container.style.left=p+"px";var y=a.target;t.loading_image_timer=setInterval(function(e,a,i){if(t.image_dictionary[String(e)]&&t.image_dictionary[String(e)][String(a)]){t.image_source_container.style.display="block",t.image_loading_container.style.display="none";var l=i.getBoundingClientRect(),n=t.arrow_left.getBoundingClientRect(),r=parseInt(l.height/2-n.height/2+l.y,10),s=(e=i.getElementsByTagName("img")[0].getAttribute("data-image-row"),a=i.getElementsByTagName("img")[0].getAttribute("data-image-column"),"data:image/"+t.image_dictionary[String(e)][String(a)].format+";base64,"+t.image_dictionary[String(e)][String(a)].image);t.image_source_container.src=s,t.arrow_left.style.top=r+"px";var o=t.image_source_container.getBoundingClientRect(),c=parseInt(l.height/2-o.height/2+l.y,10),d=document.getElementsByClassName("header")[0].getBoundingClientRect(),h=d.y+d.height,u=document.getElementsByClassName("BottomTable")[0].getBoundingClientRect().y;h>c&&(c=h),c+o.height>u&&(c=u-o.height),t.image_source_container.style.top=c+"px";var m=l.width+l.left,p=l.width+l.left+10;t.arrow_left.style.left=m+"px",t.image_source_container.style.left=p+"px",clearInterval(t.loading_image_timer)}},300,r,s,y)}}}}},{key:"hoverOutImage",value:function(e){var t=this;return function(a){"image"==e&&null!=t.image_source_container&&a.target.getElementsByTagName("img")[0]&&a.target.classList.contains("elements")&&(t.image_source_container.src=""),t.loading_image_timer&&clearInterval(t.loading_image_timer),t.image_source_container.style.display="none",t.image_loading_container.style.display="none",t.arrow_left.style.display="none"}}},{key:"divClick",value:function(e){var t={};t.target=e.target.parentElement.parentElement,this.cellClick(t)}},{key:"spanClick",value:function(e){var t={};t.target=e.target.parentElement.parentElement.parentElement,this.cellClick(t)}},{key:"arrowClick",value:function(e){var t={};t.target=e.target.parentElement.parentElement,this.cellClick(t)}},{key:"cellClick",value:function(e){var t=e.target.getAttribute("x"),a=e.target.getAttribute("y");switch(e.target.getAttribute("flex_type")){case"string":case"dictionary":case"array":case"ndarray":case"list":for(var i=e.target.parentElement.parentElement.getElementsByClassName("active_element"),l=0;l<i.length;l++)i[l]!=e.target&&(i[l].children[0].children[1].children[0].style.display="block",i[l].children[0].children[1].children[1].style.display="none",i[l].children[0].children[1].classList.remove("active_arrow"),i[l].classList.remove("active_element"));if(e.target.children[0].children[0].getBoundingClientRect().width<e.target.children[0].children[0].children[0].getBoundingClientRect().width)if("none"==e.target.children[0].children[1].children[0].style.display)e.target.children[0].children[1].children[0].style.display="block",e.target.children[0].children[1].children[1].style.display="none",e.target.classList.remove("active_element"),e.target.children[0].children[1].classList.remove("active_arrow"),this.data_sent=void 0,this.column_name=void 0,this.y=-1,this.drawTable();else{e.target.children[0].children[1].children[0].style.display="none",e.target.children[0].children[1].children[1].style.display="block",e.target.classList.add("active_element"),e.target.children[0].children[1].classList.add("active_arrow"),this.data_sent=void 0,this.column_name=void 0,this.y=-1;var n=a.replace('"','\\"');this.drawTable(!0,t,a,n)}}}},{key:"drawTable",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=[],s=[];this.table_array=[];for(var o=0;o<this.data.values.length+1;o++){for(var c=[],d=0;d<this.table_spec.column_names.length+1;d++)if(0===d)0===o?c.push(l.a.createElement(v,{className:"header",key:d+"_"+o})):(c.push(l.a.createElement(v,{className:"header_element",key:d+"_"+o},this.data.values[o-1].__idx)),s.push(this.data.values[o-1].__idx));else if(0===o)c.push(l.a.createElement(v,{className:"header",key:d+"_"+o},l.a.createElement("span",null,this.table_spec.column_names[d-1])));else{var h=this.table_spec.column_types[d-1],u=this.table_spec.column_names[d-1];c.push(l.a.createElement(v,{className:"elements",onMouseEnter:this.hoverImage(this.table_spec.column_types[d-1]),onMouseLeave:this.hoverOutImage(this.table_spec.column_types[d-1]),onClick:function(t){return e.cellClick(t)},x:o,x_c:d,y:u,flex_type:h,key:d+"_"+o},this.renderCell(this.data.values[o-1][u],h)))}if(r.push(l.a.createElement(y,{key:o},c)),this.y==o){var m=[];m.push(l.a.createElement(v,{className:"header_element accordion_helper",key:"0_"+o+"modal"},"\xa0"));for(var p=1;p<c.length;p++)m.push(l.a.createElement(v,{className:"elements accordion_helper",key:p+"_"+o+"modal"},"\xa0"));r.push(l.a.createElement(y,{key:"modal",accordion:!0},m));var g=[];g.push(l.a.createElement(v,{className:"header_element accordion_helper",key:"0_"+o+"spacer1"},"\xa0"));for(p=1;p<c.length;p++)g.push(l.a.createElement(v,{className:"elements accordion_helper",key:p+"_"+o+"spacer1"},"\xa0"));r.push(l.a.createElement(y,{key:"spacer1",spacers:!0},g));var _=[];_.push(l.a.createElement(v,{className:"header_element accordion_helper",key:"0_"+o+"spacer2"},"\xa0"));for(p=1;p<c.length;p++)_.push(l.a.createElement(v,{className:"elements accordion_helper",key:p+"_"+o+"spacer2"},"\xa0"));r.push(l.a.createElement(y,{key:"spacer2",spacers:!0},_));var f=[];f.push(l.a.createElement(v,{className:"header_element accordion_helper",key:"0_"+o+"spacer3"},"\xa0"));for(p=1;p<c.length;p++)f.push(l.a.createElement(v,{className:"elements accordion_helper",key:p+"_"+o+"spacer3"},"\xa0"));r.push(l.a.createElement(y,{key:"spacer3",spacers:!0},f))}}var w=Math.floor(Math.min.apply(Math,s)/this.step_size);this.set_higher=w+3,this.set_lower=w;if(""!=this.title){var k=l.a.createElement("h1",{className:"tableTitle",key:"tableTitle"},this.title);this.table_array.push(k)}var E=l.a.createElement("div",{className:"resize_container",key:"tableBody",style:{height:this.state.windowHeight-44,width:this.state.windowWidth}},l.a.createElement(b,{parent_context:this,scroll_state:this.table_scroll,scrollVal:this.scrollVal,size:this.size,step_size:this.step_size,set_lower:this.set_lower,set_higher:this.set_higher,y:this.y,data:this.data_sent,column_name:this.column_name,scroll_callback:this.callbackScroll,reset_scroll:this.reset_scroll,style:{height:this.state.windowHeight-44,width:this.state.windowWidth}},r)),C=l.a.createElement("div",{className:"BottomTable",key:"tableFooter"},"\xa0",l.a.createElement("div",{className:"numberOfRows"},x(this.size)," rows"),l.a.createElement("div",{className:"jumpToRowContainer"},l.a.createElement("input",{className:"rowNumber",id:"rowNum",onKeyDown:this.enterPressJumpRow.bind(this),placeholder:"Row #"}),l.a.createElement("img",{className:"enterSymbol",onClick:this.rowHandler.bind(this),src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAxCAYAAABnCd/9AAAAAXNSR0IArs4c6QAAA9RJREFUaAXtmk1oE0EUx80mahCiglKKpSAiHrTUSz1YBL9REEE8BBSqLQrRNm1BvPSk9ODHQSHpRywKwUMvxVIQrccqanvw5qEHD4LooQgeaqGY5svfK01Yt7t1d7Mpm00Wys6+nZl9/1/fm5mdrG9DlR0DAwNn8vn8HWRP9/T03DaS7zO64UV7LBa7jq4EfwHR5/f7d0ej0W9S1h6K1uDVa6D0o+0pf8tQRCdgQnLWO4qV9G56wTYyMrIxlUo9I32uWNHjaTDxeHwrUMaBcsoKFKnr2VRKJBINAHlvB4pnwQClKZ1OzyCwWUTaOTwXMUzHJ4DygUhptAOk0MZTY8zQ0NDebDY7CZTNBYF2z56KGIC0OAFFYHoNjGN6HOvIbsi6tZ1jYwxrhqOIjBDKiz6f7zHvIbNuFW3GL0cihuX2LR42BZRLnK9x/shAeMiMA26tUxIYAChESgxxjyirX0i3MzvccKtoM37ZTqVkMhlkzTAKkIt6D8LeomevFJstMIODgzsWFhZeIr7VSCjjjK2+jfpbb7vlVBoeHt6Ty+Wm14Ky3iLK8TxLYGRAzWQyM0DZVw5n3NSnaTAMsucZUN8Cpc5NAsrliykwDLIyw0wAZUu5HHFbv2uCAYSPNcp9xpQEZb/bnC+nP4Yzx9jY2CbSJ8nDL5fTAbf2rQuGfdJtc3NzEzh93K2Ol9uvVWCYeRrZJ31D6hwo5eG0r2NsuldKH1bb8sz9VtsY1f8HDKlzcGWjZ5dRAwv2nYxNfRbqu6pqcfBlNXsa4rJ57AQUV4m048wyGKBc5b/7mg4Mf4Cy03kltwmQPu2kj8w+tUNFQCF14qrrWnGFgKRSLX10wkFheyClY696k0SMfCtSOzQEFDatHxI1NThaMHINnH6+FWkHUFpzv2oviws8vix6rijKOeD8rgYaMrYGg8EfRlrVO/vLddi6bOZH8UkuGowambHz4HnqvTJTd73rsETJkCEvCAZD/1aBESflRZItTIHTZNdpwMySoiW9iNp9thPtiqmk7qyrq+s7YXYEcVNqezWVdcEIgEgkMl9fX38WOKPVBKSg1RCMVAiHw0vd3d1tFB8UGlTLeU0wAoGIyff29vYxY92knK2B0RAgcp4A5wJwFjW3PHn534hRq5bpjWnuGHB+qu1eLFsCIwCYsT4FAoHDwPniRSAFTZbBSMPOzs6vpFUrcKYLHWnPLKJyWlslXdsCIwJJq1+hUOgkxXEDwZ8N7BVhtg1G1HV0dPxhdRumKB8PqY8loqmit0t1XwnUCs2W+Sm3DRhR6susdRdg78y2dWO9vzv+PVLOdXkdAAAAAElFTkSuQmCC",height:8}))),S=l.a.createElement("div",{id:"image_container",key:"image_container"},l.a.createElement("div",{id:"arrow_left"},l.a.createElement("div",{id:"diamond"}),l.a.createElement("div",{id:"diamond_top"})),l.a.createElement("img",{id:"image_source_container",src:""}),l.a.createElement("div",{id:"image_loading_container"},l.a.createElement("div",{className:"table_loading_parent"},l.a.createElement("div",{className:"table_loader_container"},l.a.createElement("div",{className:"table_loader"})))));this.table_array.push(E),this.table_array.push(C),this.table_array.push(S);var N=this.table_array[0];for(p=1;p<this.table_array.length;p++)N=[N,this.table_array[p]];var B=this;this.setState({table:N},function(){if(t){B.y=a,B.column_name=i,B.drawTable();var e=String(parseInt(a,10)-1);"MacIntel"==window.navigator.platform?window.webkit.messageHandlers.scriptHandler.postMessage({status:"getAccordion",column:n,index:e}):window.postMessageToNativeClient('{"method":"get_accordion", "column": "'+n+'", "index": '+e+"}")}})}},{key:"updateData",value:function(e){this.data=e,this.data_sent=void 0,this.column_name=void 0,this.y=-1;for(var t=document.getElementsByClassName("active_element"),a=0;a<t.length;a++)t[a].children[0].children[1].children[0].style.display="block",t[a].children[0].children[1].children[1].style.display="none",t[a].children[0].children[1].classList.remove("active_arrow"),t[a].classList.remove("active_element");this.drawTable()}},{key:"cleanImageDictionary",value:function(){for(var e in this.image_dictionary)(parseInt(e,10)<this.set_lower*this.step_size||parseInt(e,10)>this.set_higher*this.step_size)&&delete this.image_dictionary[e]}},{key:"setImageData",value:function(e){if(this.cleanImageDictionary(),e.data&&e.data.data)for(var t=0;t<e.data.data.length;t++)this.image_dictionary[String(e.data.data[t].idx)]||(this.image_dictionary[String(e.data.data[t].idx)]={}),this.image_dictionary[String(e.data.data[t].idx)][e.data.data[t].column]||(this.image_dictionary[String(e.data.data[t].idx)][e.data.data[t].column]={}),this.image_dictionary[String(e.data.data[t].idx)][e.data.data[t].column].image=e.data.data[t].image,this.image_dictionary[String(e.data.data[t].idx)][e.data.data[t].column].format=e.data.data[t].format}},{key:"render",value:function(){return l.a.createElement("div",null,this.state.table)}}]),t}(i.Component),B=0,H=100;document.onkeydown=function(e){var t=e.keyCode||e.charCode;91!=t&&93!=t||(B+=1),187==t&&B>0&&(H+=10,document.body.style.zoom=H+"%"),189==t&&B>0&&H>10&&(H-=10,document.body.style.zoom=H+"%")},document.onkeyup=function(e){var t=e.keyCode||e.charCode;91!=t&&93!=t||(B-=1)};var z=Object.freeze({table:1,vega:2,summary:3,annotate:4,evaluate:5});window.flex_type_enum=Object.freeze({integer:0,float:1,string:2,vector:3,list:4,dict:5,datetime:6,undefined:7,image:8,nd_vector:9});var I=null,T=null;window.setSpec=function(e){switch(document.getElementById("loading_container").style.display="block",document.getElementById("table_vis").style.display="none",document.getElementById("vega_vis").style.display="none",I=null,T=null,e.type){case"vega":document.getElementById("vega_vis").style.display="block",I=r.a.render(l.a.createElement(p,{vega_spec:e.data}),document.getElementById("vega_vis")),T=z.vega;break;case"table":document.getElementById("table_vis").style.display="block",I=r.a.render(l.a.createElement(N,{table_spec:e.data}),document.getElementById("table_vis")),T=z.table;break;case"summary":T=z.summary;break;case"annotate":T=z.annotate;break;case"evaluate":T=z.evaluate,console.log("got the spec")}},window.updateData=function(e){switch(T){case z.table:case z.summary:case z.vega:document.getElementById("loading_container").style.display="none",I.updateData(e);break;case z.annotate:console.log("annotate");break;default:console.log("default")}},window.getSpec=function(){switch(T){case z.summary:case z.vega:return I.getSpec();default:return""}},window.getData=function(){switch(T){case z.summary:case z.vega:return I.getData();default:return""}},window.setImageData=function(e){switch(T){case z.table:return I.setImageData(e);default:return""}},window.setAccordionData=function(e){switch(T){case z.table:return I.setAccordionData(e);default:return""}},window.export_png=function(){switch(T){case z.summary:case z.vega:return I.exportPNG();default:return""}},window.handleInput=function(e){var t,a=e;null!=a.table_spec&&((t={}).data=a.table_spec,t.type="table",window.setSpec(t));null!=a.vega_spec&&((t={}).data=a.vega_spec,t.type="vega",window.setSpec(t));(null!=a.data_spec&&window.updateData(a.data_spec),null!=a.image_spec)&&((t={}).data=a.image_spec,window.setImageData(t));null!=a.accordion_spec&&((t={}).data=a.accordion_spec,window.setAccordionData(t))},window.addEventListener("contextmenu",function(e){return e.preventDefault()})},60:function(e,t,a){e.exports=a(103)},65:function(e,t,a){},67:function(e,t){},68:function(e,t){},84:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},96:function(e,t,a){}},[[60,2,1]]]);
//# sourceMappingURL=main.98dd5b3f.chunk.js.map