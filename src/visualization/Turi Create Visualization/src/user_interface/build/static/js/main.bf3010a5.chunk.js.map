{"version":3,"sources":["elements/Annotate/InfiniteScroll/ImageContainer/index.module.scss","elements/Annotate/LabelModal/index.module.scss","elements/Annotate/SingleImage/ImageLabeler/index.module.scss","elements/Annotate/LabelContainer/Labels/index.module.scss","elements/Annotate/LabelContainer/index.module.scss","elements/Annotate/StatusBar/index.module.scss","elements/Annotate/StatusBar/ToggleButton/index.module.scss","elements/Annotate/SingleImage/index.module.scss","elements/Annotate/ErrorBar/index.module.scss","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationHeader/TCEvaluationHeaderCell/assets/caret-down.svg","elements/Explore/Evaluation/Components/TCEvaluationFooter/assets/cancel.svg","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionHeader/TCEvaluationConfusionHeaderCells/assets/caret-down.svg","elements/Annotate/index.module.scss","elements/Explore/Evaluation/Components/TCEvaluationSettings/assets/filter.svg","elements/Explore/Evaluation/Components/TCEvaluationTooltip/assets/carret.svg","elements/Explore/Evaluation/Components/TCEvaluationMetrics/assets/info.svg","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationRows/TCEvaluationCells/assets/warning.svg","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationHeader/TCEvaluationHeaderCell/assets/down.svg","elements/Explore/Evaluation/Components/TCEvaluationFooter/assets/down.svg","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionHeader/TCEvaluationConfusionHeaderCells/assets/down.svg","elements/Explore/Evaluation/Components/TCEvaluationImageComponent/assets/export.png","elements/Annotate/InfiniteScroll/index.module.scss","elements/Annotate/StatusBar/assets/swap.svg","elements/Annotate/SingleImage/assets/left_arrow.svg","elements/Annotate/SingleImage/assets/right_arrow.svg","elements/Annotate/LabelContainer/Labels/ProgressBar/index.module.scss","elements/Annotate/ErrorBar/assets/error.svg","elements/Explore/Evaluation/Components/TCEvaluationImageViewerContainer/assets/right.svg","elements/Plot/Chart/index.js","elements/Explore/Table/sticky-table/Table/index.js","elements/Explore/Table/sticky-table/Row/index.js","elements/Explore/Table/sticky-table/Cell/index.js","elements/Explore/Table/sticky-table/index.js","elements/Explore/Table/index.js","elements/Explore/Evaluation/Components/TCEvaluationSettingsSelection/index.js","elements/Explore/Evaluation/Components/TCEvaluationSettings/index.js","elements/Explore/Evaluation/Components/TCEvaluationTooltip/index.js","elements/Explore/Evaluation/Components/TCEvaluationMetrics/index.js","elements/Explore/Evaluation/Components/TCEvaluationOverview/index.js","elements/Explore/Evaluation/Components/TCEvaluationImageCells/TCEvaluationImageCellsHover/index.js","elements/Explore/Evaluation/Components/TCEvaluationImageCells/index.js","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationRows/TCEvaluationCells/index.js","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationRows/index.js","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationHeader/TCEvaluationHeaderCell/index.js","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationHeader/index.js","elements/Explore/Evaluation/Components/TCEvaluationTable/index.js","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionRow/TCEvaluationConfusionCell/index.js","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionRow/index.js","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionHeader/TCEvaluationConfusionHeaderCells/index.js","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionHeader/index.js","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/index.js","elements/Explore/Evaluation/Components/TCEvaluationImageComponent/index.js","elements/Explore/Evaluation/Components/TCEvaluationImageViewerContainer/index.js","elements/Explore/Evaluation/Components/TCEvaluationFooter/index.js","elements/Explore/Evaluation/index.js","elements/Annotate/utils.js","elements/Annotate/InfiniteScroll/ImageContainer/index.js","elements/Annotate/InfiniteScroll/index.js","elements/Annotate/StatusBar/ToggleButton/index.js","elements/Annotate/StatusBar/index.js","elements/Annotate/SingleImage/ImageLabeler/index.js","elements/Annotate/SingleImage/index.js","elements/Annotate/LabelContainer/Labels/ProgressBar/index.js","elements/Annotate/LabelContainer/Labels/index.js","elements/Annotate/LabelContainer/index.js","elements/Annotate/LabelModal/index.js","elements/Annotate/ErrorBar/index.js","elements/Annotate/index.js","index.js"],"names":["module","exports","imgSize","imgMargin","ImageContainer","realImage","ImageLabel","bouncer","sk-bouncedelay","bounce1","bounce2","LabelModal","modalWindow","modalWindowHeader","modalWindowDescription","modalInput","errorMessage","cancelButton","buttonContainer","createButton","ImageLabeler","Image","ImageLoadingHolder","Label","LabelSpacer","LabelNameAmount","LabelSelected","LabelName","LabelAnnotatedAmount","LabelApplyButton","LabelContainer","LabelHeader","LabelAddLabel","LabelAddLabelContainer","StatusBar","SwapButton","SwapButtonHelperText","ToggleButton","turnOffBackground","ToggleButtonOn","turnOnBackground","ToggleButtonNib","turnOffNib","Toggled","turnOnNib","SingleImage","SingleImageContainer","RightArrow","LeftArrow","ErrorBar","ErrorMessage","ErrorIcon","ErrorClose","__webpack_require__","p","Annotate","InfiniteScroll","ProgressBar","vega","require","vegaTooltip","TcPlot","this","addSpec","props","vega_spec","data","$this","vegaLoading","window","setTimeout","checkLoadedFlag","values","newData","slice","changeSet","changeset","progress","parseFloat","parseInt","document","getElementById","style","width","opacity","prevData","vegaView","y","length","x","remove","insert","change","runAfter","viewInstance","toCanvas","then","result","hidden_container","innerHTML","appendChild","spec","bubbleOpts","showAllFields","vega_json","autosize","type","resize","contains","View","parse","renderer","initialize","vega_container","hover","run","navigator","platform","webkit","messageHandlers","postMessage","status","vegaResult","previousData","JSON","stringify","array","str","i","line","index","childNodes","toDataURL","replace","_this","react_default","a","createElement","className","join","ref","Component","Table","Object","assign","children","Row","console","log","Cell","JSONPretty","elementResizeEvent","StickyTable","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","scrollToValue","element","getElementsByClassName","innerText","scrollVal","yScrollbar","scrollTop","offsetTop","offsetHeight","reset_scroll","parent_context","setScrollData","suppressScrollX","suppressScrollY","scrollData","scrollHeight","clientHeight","scrollLeft","xScrollbar","scrollWidth","clientWidth","onScrollBarX","handleScroll","xWrapper","onScrollBarY","yWrapper","onScrollX","Math","max","stickyHeader","transform","scrollXScrollbar","scrollYScrollbar","onScroll","scroll_down","getScrollBottom","scroll_up","getScrollTop","updateScrollDown","updateScrollUp","set_higher","step_size","size","scroll_state","element_to_jump","v","getBoundingClientRect","top","scroll_callback","set_lower","getRows","start_index","end_index","scroll","onResize","setScrollBarDims","setScrollBarWrapperDims","setRowHeights","setColumnWidths","yScrollSize","height","id","floor","random","rowCount","columnCount","xScrollSize","stickyHeaderCount","container_ref","React","createRef","isFirefox","userAgent","toLowerCase","indexOf","table","realTable","querySelector","firstChild","stickyColumn","stickyCorner","addScrollBarEventHandlers","header_elements","getModeHeights","removeEventListener","unbind","addEventListener","scrollPadding","padding","offsetWidth","setScrollBarPaddings","getSize","heights","stickyColumnCount","r","push","arr","mode","numMapping","greatestFreq","forEach","number","cellToCopy","row_value","undefined","column_offset_top","left","c","cell","stickyWidth","minWidth","fixedColumnsHeader","rows","cells","_this2","columnsCount","stickyRows","row","Children","toArray","accordion","column","column_name","data_entries","flex_type_enum","string","word-wrap","dict","vector","list","nd_vector","json","Row_Row","position","overflow","zIndex","textAlign","background","spacers","key","cloneElement","node","getStickyCorner","getStickyColumns","getStickyHeader","Table_Table","PureComponent","defaultProps","numberWithCommas","format","TcTable","image_array","image_dictionary","test_this","table_scroll","state","windowHeight","innerHeight","windowWidth","innerWidth","loading_image_timer","data_sent","value","onClick","e","divClick","spanClick","arrowClick","index_es","icon","faAngleDown","display","faAngleUp","src","data-image-row","idx","data-image-column","alt","table_spec","title","image_source_container","arrow_left","image_loading_container","rowNum","handleResize","bind","string_elements","parentElement","classList","add","dictionary_value","array_value","prevProps","prevState","snapshot","bound_increment","jump_to_wrapper","keyCode","row_number","isNaN","jump_to","lower_value","upper_value","lower_bound","upper_bound","drawTable","start","end","postMessageToNativeClient","setState","target","getElementsByTagName","element_bounding","arrow_bounding","bound_height","imageRow","getAttribute","imageColumn","String","src_values","image_bounding","image_bound_height","header_top","header_positon","footer_top","right_value","right_image","setInterval","clearInterval","dict_elements","cellClick","active_element_loop","ele","column_name_str","_this3","callback_accordion","arguments","row_ids","table_array","Cell_Cell","element_type","element_column_name","onMouseEnter","hoverImage","onMouseLeave","hoverOutImage","x_c","flex_type","renderCell","empty_cells","empty_cells_1","empty_cells_2","empty_cells_3","n","min","apply","tableTitle","tableBody","sticky_table_StickyTable","callbackScroll","tableFooter","onKeyDown","enterPressJumpRow","placeholder","rowHandler","imageContainer","temp_table","element_index","cleanImageDictionary","TCEvaluationSettingsSelection","name","checked","accuracy","onChange","changeAccuracy","f1_score","changeF1Score","precision","changePrecision","recall","changeRecall","TCEvaluationSettings","changeOpenClose","open","renderSettings","Evaluation_Components_TCEvaluationSettingsSelection","assertThisInitialized","filter","TCEvaluationTooltip","text","carret","TCEvaluationMetrics","renderIcon","tooltip","info","renderTooltip","Evaluation_Components_TCEvaluationTooltip","TCEvaluationOverview","formatDecimal","d3","returnMetrics","accuracy_visible","Evaluation_Components_TCEvaluationMetrics","total_correct","total_num","precision_visible","recall_visible","f1_score_visible","Evaluation_Components_TCEvaluationSettings","model_type","iterations","renderMetrics","TCEvaluationImageCellsHover","TCEvaluationImageCells","onHoverState","offHoverState","renderImage","Components_TCEvaluationImageCells_TCEvaluationImageCellsHover","TCEvaluationCells","renderPercentLeft","color","renderAmountLeft","renderPercentRight","renderAmountRight","renderWarning","warning","map","Evaluation_Components_TCEvaluationImageCells","TCEvaluationRows","renderSelected","selected","renderAccuracy","TCEvaluationTable_TCEvaluationRows_TCEvaluationCells","correct","incorrect","hovered","renderPrecision","renderRecall","renderF1Score","mouse_enter","mouse_leave","onclick","correct_images","num_examples","max_value","TCEvaluationHeaderCell","renderCarret","enabled","direction","caret_down","down","TCEvaluationHeader","clickedAccuracy","updateSortBy","updateSortDirection","clickedPrecision","clickedRecall","clickedF1Score","clickedCell","clickNumTest","clickNumTrain","TCEvaluationTable_TCEvaluationHeader_TCEvaluationHeaderCell","sort_by","sort_direction","TCEvaluationTable","maxValueNumTest","o","sortingColumns","b","selectClassName","footer_open","max_test","Components_TCEvaluationTable_TCEvaluationHeader","sort","Components_TCEvaluationTable_TCEvaluationRows","filter_confusion","row_click","TCEvaluationConfusionCell","TCEvaluationConfusionRow","selectRowConfusions","consideration","actual","predicted","TCEvaluationConfusionTable_TCEvaluationConfusionRow_TCEvaluationConfusionCell","count","maxValue","images","TCEvaluationConfusionHeaderCell","renderCaret","TCEvaluationConfusionHeader","clickActual","updateSortByConfusion","clickPredicted","clickCount","TCEvaluationConfusionHeader_TCEvaluationConfusionHeaderCells","sort_by_confusions","sort_direction_confusions","TCEvaluationConfusionTable","maxCount","considerations","filterData","sortData","Components_TCEvaluationConfusionTable_TCEvaluationConfusionHeader","Components_TCEvaluationConfusionTable_TCEvaluationConfusionRow","TCEvaluationImageComponent","setHeight","imgEl","current","onLoad","export_img","TCEvaluationImageViewerContainer","Evaluation_Components_TCEvaluationImageComponent","TCEvaluationFooter","cssOpenStyleContainer","min-height","cssOpenStyleIcon","selected_actual","selected_prediction","filterErrorData","render_table","Evaluation_Components_TCEvaluationImageViewerContainer","reset","Evaluation_Components_TCEvaluationConfusionTable","renderPill","cancel","resetFilter","renderPredictedPill","renderLabel","updateFooterOpen","down_arrow","TCEvaluation","loadIncorrect","selected_label","incorrect_classification","previous_incorrect_dict","label","setFooterOpen","summarySeedData","label_metrics","dataArr","correct_count","correct_data","correct_classification","totalCorrect","correct_num","totalNum","createConsiderations","incorrect_keys","keys","considerations_array","k","current_val","updatedSelectedRow","selected_actual_confusion","selected_actual_prediction","reduce","labels","inc_class","Evaluation_Components_TCEvaluationOverview","max_iterations","Evaluation_Components_TCEvaluationTable","Evaluation_Components_TCEvaluationFooter","LabelType","INTEGER","STRING","freeze","image_click","toggleInfiniteScroll","updateIncrementalCurrentIndex","renderAnnotation","Number","isInteger","annotation","concat","class","CELL_PADDING","updateDimensions","requestAnimationFrame","componentHeight","currentComponent","componentWidth","event","enableScroll","imgProperties","imgOffset","scrollOffset","scrollDownTrigger","scrollUpTrigger","scaling","numRenderedbox","numX","numY","startValue","numElements","tempEndVal","endVal","getData","getAnnotations","scrollBy","startVal","renderBoxes","boxes","endValue","InfiniteScroll_ImageContainer","imageData","annotationData","NibClasses","BackgroundClasses","hideAnnotated","toggleHideAnnotated","StatusBarMetrics","total","annotated","swap","StatusBar_ToggleButton","bounce3","decrementIndex","incrementalCurrentIndex","incrementIndex","leftArrow","SingleImage_ImageLabeler","rightArrow","css_gradient","defineProperty","percent","styles","percent_gradient","num_annotated","num_expected","classes","active","infiniteScroll","Labels_ProgressBar","renderLabels","setAnnotation","checkActive","LabelButtonContainer","Labels","openLabelModal","renderError","error","closeLabelModal","handleEventLabelModalValue","createLabel","LabelModalValue","message","clearError","DEFAULT_NUM_EXPECTED","CACHE_SIZE","cleanCache","sorted_keys","intermediate_check","abs","delete_keys","imgData","getHelper","ParcelMessage","Root","fromJSON","messageFormat","lookupType","payload","getter","err","verify","Error","create","buffer","encode","finish","encoded","btoa","fromCharCode","setAnnotationData","previousAnnotationData","stringLabel","intLabel","setImageData","previousImageData","totalError","labelCreationError","labelModal","l","acc","mutatorLabels","rowIndex","previousLabelData","previousLabel","tempLabel","annotations","renderMainContent","Annotate_InfiniteScroll","metadata","numExamples","Annotate_SingleImage","renderModal","Annotate_LabelModal","Annotate_ErrorBar","labeltype","propLabels","imageClassification","includes","elementCount","Annotate_StatusBar","leftBar","Annotate_LabelContainer","command_down","body_zoom","onkeydown","key_code","charCode","body","zoom","onkeyup","SpecType","summary","annotate","evaluate","integer","float","datetime","image","component_rendered","spec_type","setSpec","ReactDOM","render","Plot_Chart","elements_Explore_Table","Evaluation","setProtoMessage","Uint8Array","from","atob","charCodeAt","decoded","decode","hasOwnProperty","elements_Annotate","row_index","updateData","getSpec","setAccordionData","export_png","exportPNG","handleInput","input_data","json_obj","preventDefault"],"mappings":"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","file":"static/js/main.bf3010a5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgSize\":\"90\",\"imgMargin\":\"17\",\"ImageContainer\":\"ImageContainer_ImageContainer__m4gr2\",\"realImage\":\"ImageContainer_realImage__34bV5\",\"ImageLabel\":\"ImageContainer_ImageLabel__1nWoV\",\"bouncer\":\"ImageContainer_bouncer__3hDkB\",\"sk-bouncedelay\":\"ImageContainer_sk-bouncedelay__Bvncf\",\"bounce1\":\"ImageContainer_bounce1__1sy8J\",\"bounce2\":\"ImageContainer_bounce2__2pAuT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LabelModal\":\"LabelModal_LabelModal__3scK6\",\"modalWindow\":\"LabelModal_modalWindow__3XKeb\",\"modalWindowHeader\":\"LabelModal_modalWindowHeader__3YFQ-\",\"modalWindowDescription\":\"LabelModal_modalWindowDescription__2Q3KW\",\"modalInput\":\"LabelModal_modalInput__1rm43\",\"errorMessage\":\"LabelModal_errorMessage__Uy4He\",\"cancelButton\":\"LabelModal_cancelButton__3fzIB\",\"buttonContainer\":\"LabelModal_buttonContainer__1CbtD\",\"createButton\":\"LabelModal_createButton__OjUoi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageLabeler\":\"ImageLabeler_ImageLabeler__17QVZ\",\"Image\":\"ImageLabeler_Image__6H_C_\",\"ImageLoadingHolder\":\"ImageLabeler_ImageLoadingHolder__1LDM8\",\"sk-bouncedelay\":\"ImageLabeler_sk-bouncedelay__2YMQU\",\"ImageContainer\":\"ImageLabeler_ImageContainer__htfsg\",\"bounce1\":\"ImageLabeler_bounce1__2Clql\",\"bounce2\":\"ImageLabeler_bounce2__1g37T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Label\":\"Labels_Label__1_TmO\",\"LabelSpacer\":\"Labels_LabelSpacer__1kEPn\",\"LabelNameAmount\":\"Labels_LabelNameAmount__34Edj\",\"LabelSelected\":\"Labels_LabelSelected__2P3pp\",\"LabelName\":\"Labels_LabelName__1CUIZ\",\"LabelAnnotatedAmount\":\"Labels_LabelAnnotatedAmount__1oa0X\",\"LabelApplyButton\":\"Labels_LabelApplyButton__3YPxw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LabelContainer\":\"LabelContainer_LabelContainer__M7WJa\",\"LabelHeader\":\"LabelContainer_LabelHeader__3qNmd\",\"LabelAddLabel\":\"LabelContainer_LabelAddLabel__3yqFq\",\"LabelAddLabelContainer\":\"LabelContainer_LabelAddLabelContainer__2jgof\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StatusBar\":\"StatusBar_StatusBar__sdzVe\",\"SwapButton\":\"StatusBar_SwapButton__2hvj_\",\"SwapButtonHelperText\":\"StatusBar_SwapButtonHelperText__1aKHH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ToggleButton\":\"ToggleButton_ToggleButton__3CyzI\",\"turnOffBackground\":\"ToggleButton_turnOffBackground__3WvAM\",\"ToggleButtonOn\":\"ToggleButton_ToggleButtonOn__3uqem\",\"turnOnBackground\":\"ToggleButton_turnOnBackground__114gc\",\"ToggleButtonNib\":\"ToggleButton_ToggleButtonNib__2jI4E\",\"turnOffNib\":\"ToggleButton_turnOffNib__19-os\",\"Toggled\":\"ToggleButton_Toggled__2Y8VY\",\"turnOnNib\":\"ToggleButton_turnOnNib__14DO5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SingleImage\":\"SingleImage_SingleImage__1sdPo\",\"SingleImageContainer\":\"SingleImage_SingleImageContainer__rWr7v\",\"RightArrow\":\"SingleImage_RightArrow__3C8cJ\",\"LeftArrow\":\"SingleImage_LeftArrow__scnOW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ErrorBar\":\"ErrorBar_ErrorBar__16lKt\",\"ErrorMessage\":\"ErrorBar_ErrorMessage__2VvO6\",\"ErrorIcon\":\"ErrorBar_ErrorIcon__1uRti\",\"ErrorClose\":\"ErrorBar_ErrorClose__1rQmV\"};","module.exports = __webpack_public_path__ + \"static/media/caret-down.ed2cbc77.svg\";","module.exports = __webpack_public_path__ + \"static/media/cancel.b73df5f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/caret-down.ed2cbc77.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Annotate\":\"Annotate_Annotate__3XOJg\"};","module.exports = __webpack_public_path__ + \"static/media/filter.6be96c8e.svg\";","module.exports = __webpack_public_path__ + \"static/media/carret.d006a3ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/info.eb907d77.svg\";","module.exports = __webpack_public_path__ + \"static/media/warning.1a77a1d2.svg\";","module.exports = __webpack_public_path__ + \"static/media/down.02e4572e.svg\";","module.exports = __webpack_public_path__ + \"static/media/down.2104bcc9.svg\";","module.exports = __webpack_public_path__ + \"static/media/down.02e4572e.svg\";","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InfiniteScroll\":\"InfiniteScroll_InfiniteScroll__hwguX\"};","module.exports = __webpack_public_path__ + \"static/media/swap.c28fad4b.svg\";","module.exports = __webpack_public_path__ + \"static/media/left_arrow.fb9494c3.svg\";","module.exports = __webpack_public_path__ + \"static/media/right_arrow.ab264aa7.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProgressBar\":\"ProgressBar_ProgressBar__edcqF\"};","module.exports = __webpack_public_path__ + \"static/media/error.78f3f4cd.svg\";","module.exports = __webpack_public_path__ + \"static/media/right.7f1561b5.svg\";","import React, { Component } from 'react';\n\nimport './index.css';\n\nvar vega = require('vega');\nvar vegaTooltip = require('vega-tooltip');\n\nclass TcPlot extends Component {\n\n    componentDidMount(){\n        this.addSpec(this.props.vega_spec);\n    }\n\n    checkLoadedFlag(data, $this) {\n        if($this.vegaLoading) {\n            window.setTimeout($this.checkLoadedFlag, 100, data, $this);\n        } else {\n            if($this.vegaLoading){\n                debugger;\n            }\n\n            if (!data || !data.values) {\n                debugger;\n            }\n\n            var newData = data.values.slice();\n\n            var changeSet = vega.changeset();\n\n            if(data.progress != null){\n                var progress = parseFloat(data.progress);\n                if(parseInt(progress*100, 10) >= 100){\n                    document.getElementById('progress_bar').style.width = parseInt(progress*100)+\"%\";\n                    setTimeout(function(){\n                               document.getElementById('progress_bar').style.opacity = \"0.0\";\n                               }, 1000);\n                }else{\n                    document.getElementById('progress_bar').style.width = parseInt(progress*100)+\"%\";\n                }\n            }\n\n            var prevData = $this.vegaView.data(\"source_2\");\n\n            for(var y = 0; y < newData.length; y++ ){\n                if(newData[y][\"a\"] != null){\n                    for(var x = 0; x < prevData.length; x++ ){\n                        if(prevData[x][\"a\"] === newData[y][\"a\"]){\n                            changeSet = changeSet.remove(prevData[x]);\n                        }\n                    }\n                }else{\n                    if(prevData.length > 0){\n                        changeSet = changeSet.remove(prevData);\n                        break;\n                    }\n                }\n            }\n\n            changeSet = changeSet.insert(newData);\n            $this.vegaView.change(\"source_2\", changeSet).runAfter(function(viewInstance) {\n\n                                                                  });\n\n            $this.vegaView.toCanvas().then(function(result){\n                                           $this.hidden_container.innerHTML = '';\n                                           $this.hidden_container.appendChild(result);\n                                           });\n        }\n    }\n\n    updateData(data){\n        this.checkLoadedFlag(data, this);\n    }\n\n    addSpec(spec){\n        this.bubbleOpts = {\n        showAllFields: true,\n        };\n\n        this.vega_json = spec;\n        this.vega_json.autosize = {\"type\": \"fit\", \"resize\": true, \"contains\": \"padding\"};\n\n        if(this.vega_json[\"metadata\"] != null){\n            if(this.vega_json[\"metadata\"][\"bubbleOpts\"] != null){\n                this.bubbleOpts = this.vega_json[\"metadata\"][\"bubbleOpts\"];\n            }\n        }\n\n        this.vegaLoading = true;\n        this.vegaView = new vega.View(vega.parse(this.vega_json), {'renderer': 'svg'})\n                                .initialize(this.vega_container)\n                                .hover()\n                                .run();\n        this.vegaLoading = false;\n        vegaTooltip.vega(this.vegaView, this.bubbleOpts);\n        \n        if(window.navigator.platform === 'MacIntel'){\n            window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'ready'});\n        }\n    }\n\n    getSpec(){\n        var vegaResult = this.vega_json\n        var previousData = this.vegaView.data(\"source_2\");\n\n        for(var x = 0; x < vegaResult.data.length; x++){\n            if(vegaResult.data[x][\"name\"] === \"source_2\"){\n                vegaResult.data[x][\"values\"] = previousData;\n            }\n        }\n         \n        return JSON.stringify(vegaResult);\n    }\n\n    getData(){\n        var previousData = this.vegaView.data(\"source_2\");\n\n        var array = typeof previousData != 'object' ? JSON.parse(previousData) : previousData;\n        var str = '';\n\n        for (var i = 0; i < array.length; i++) {\n            var line = '';\n            for (var index in array[i]) {\n                if (line != '') line += ','\n\n                    line += array[i][index];\n            }\n\n            str += line + '\\r\\n';\n        }\n\n        return str;\n    }\n\n    exportPNG(){\n        return this.hidden_container.childNodes[0].toDataURL(\"image/png\").replace(/^data:image\\/(png|jpg);base64,/, \"\");\n    }\n\n    render() {\n        return (\n                <div>\n                <div className={[\"vega_container\"].join(' ')} ref={(vega_container) => { this.vega_container = vega_container; }}>\n                </div>\n                <div className={[\"hidden_cont\"].join(' ')} ref={(hidden_container) => { this.hidden_container = hidden_container; }}>\n                </div>\n                </div>\n                );\n    }\n}\n\nexport default TcPlot;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nexport default class Table extends Component {\n  render() {\n    return (\n      <div {...this.props} className={'sticky-table-container ' + (this.props.className || '')}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nexport default class Row extends Component {\n  render() {\n    if(this.props.className == \"accordian_window\"){\n      console.log(this.props);\n    }\n    return (\n      <div {...this.props} className={'sticky-table-row ' + (this.props.className || '')}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nexport default class Cell extends Component {\n  render() {\n      return (\n        <div {...this.props} className={'sticky-table-cell ' + (this.props.className || '')}>\n          {this.props.children}\n        </div>\n      );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Table from './Table';\nimport Row from './Row';\nimport Cell from './Cell';\n\nvar JSONPretty = require('react-json-pretty');\nvar elementResizeEvent = require('element-resize-event');\n\nclass StickyTable extends PureComponent {\n  static propTypes = {\n    stickyHeaderCount: PropTypes.number,\n    stickyColumnCount: PropTypes.number,\n    onScroll: PropTypes.func\n  };\n\n  static defaultProps = {\n    stickyHeaderCount: 1,\n    stickyColumnCount: 1\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.id = Math.floor(Math.random() * 1000000000) + '';\n\n    this.rowCount = 0;\n    this.columnCount = 0;\n    this.xScrollSize = 0;\n    this.yScrollSize = 0;\n    this.stickyHeaderCount = props.stickyHeaderCount === 0 ? 0 : (this.stickyHeaderCount || 1);\n    this.container_ref = React.createRef();\n\n    this.isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n  }\n\n  componentDidMount() {\n    this.table = document.getElementById('sticky-table-' + this.id);\n\n    if (this.table) {\n      this.realTable = this.table.querySelector('#sticky-table-x-wrapper').firstChild;\n      this.xScrollbar = this.table.querySelector('#x-scrollbar');\n      this.yScrollbar = this.table.querySelector('#y-scrollbar');\n      this.xWrapper = this.table.querySelector('#sticky-table-x-wrapper');\n      this.yWrapper = this.table.querySelector('#sticky-table-y-wrapper');\n      this.stickyHeader = this.table.querySelector('#sticky-table-header');\n      this.stickyColumn = this.table.querySelector('#sticky-table-column');\n      this.stickyCorner = this.table.querySelector('#sticky-table-corner');\n      this.setScrollData();\n\n      elementResizeEvent(this.realTable, this.onResize);\n\n      this.onResize();\n      setTimeout(this.onResize);\n      this.addScrollBarEventHandlers();\n      this.scrollToValue();\n    }\n  }\n\n  componentDidUpdate() {\n    this.scrollToValue();\n    this.onResize();\n      \n    var header_elements = document.getElementsByClassName(\"header_element\");\n    \n    for(var v = 0; v < header_elements.length; v++){\n        header_elements[v].style.height = this.getModeHeights() + \"px\";\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.table) {\n      this.xWrapper.removeEventListener('scroll', this.onScrollX);\n      this.xWrapper.removeEventListener('scroll', this.scrollXScrollbar);\n      this.xScrollbar.removeEventListener('scroll', this.onScrollBarX);\n\n      this.yWrapper.removeEventListener('scroll', this.scrollYScrollbar);\n      this.yScrollbar.removeEventListener('scroll', this.onScrollBarY);\n\n      elementResizeEvent.unbind(this.realTable);\n    }\n  }\n\n  scrollToValue = () => {\n    var element = document.getElementsByClassName(\"header_element\");\n\n    for(var x = 0; x < element.length; x++){\n        if(element[x].innerText == this.scrollVal || element[x].innerText == this.props.scrollVal){\n            this.yScrollbar.scrollTop = element[x].offsetTop - element[x].offsetHeight - 6;\n            this.scrollVal = -1;\n            this.props.scrollVal = -1;\n            break;\n        }\n    }\n      \n    this.props.reset_scroll(this.props.parent_context);\n  }\n\n  addScrollBarEventHandlers() {\n    this.xWrapper.addEventListener('scroll', this.onScrollX);\n\n    //X Scrollbars\n    this.xWrapper.addEventListener('scroll', this.scrollXScrollbar);\n    this.xScrollbar.addEventListener('scroll', this.onScrollBarX);\n\n    //Y Scrollbars\n    this.yWrapper.addEventListener('scroll', this.scrollYScrollbar);\n    this.yScrollbar.addEventListener('scroll', this.onScrollBarY);\n  }\n\n  setScrollData = () => {\n    this.suppressScrollX = false;\n    this.suppressScrollY = false;\n\n    return this.scrollData = {\n      scrollTop: this.yScrollbar.scrollTop,\n      scrollHeight: this.yScrollbar.scrollHeight,\n      clientHeight: this.yScrollbar.clientHeight,\n      scrollLeft: this.xScrollbar.scrollLeft,\n      scrollWidth: this.xScrollbar.scrollWidth,\n      clientWidth: this.xScrollbar.clientWidth\n    };\n  }\n\n  onScrollBarX = () => {\n    if (!this.suppressScrollX) {\n      this.scrollData.scrollLeft = this.xWrapper.scrollLeft = this.xScrollbar.scrollLeft;\n      this.suppressScrollX = true;\n    } else {\n      this.handleScroll();\n      this.suppressScrollX = false;\n    }\n  }\n\n  onScrollBarY = () => {\n    if (!this.suppressScrollY) {\n      this.scrollData.scrollTop = this.yWrapper.scrollTop = this.yScrollbar.scrollTop;\n      this.suppressScrollY = true;\n    } else {\n      this.handleScroll();\n      this.suppressScrollY = false;\n    }\n  }\n\n  onScrollX = () => {\n    var scrollLeft = Math.max(this.xWrapper.scrollLeft, 0);\n    this.stickyHeader.style.transform = 'translate(' + (-1 * scrollLeft) + 'px, 0)';\n  }\n\n  scrollXScrollbar = () => {\n    if (!this.suppressScrollX) {\n      this.scrollData.scrollLeft = this.xScrollbar.scrollLeft = this.xWrapper.scrollLeft;\n      this.suppressScrollX = true;\n    } else {\n      this.handleScroll();\n      this.suppressScrollX = false;\n    }\n  }\n\n  scrollYScrollbar = () => {\n    if (!this.suppressScrollY) {\n      this.scrollData.scrollTop = this.yScrollbar.scrollTop = this.yWrapper.scrollTop;\n      this.suppressScrollY = true;\n    } else {\n      this.handleScroll();\n      this.suppressScrollY = false;\n    }\n  }\n\n  handleScroll = () => {\n    if (this.props.onScroll) {\n      this.props.onScroll(this.scrollData);\n    }\n    \n    var scroll_down = this.getScrollBottom();\n    var scroll_up = this.getScrollTop();\n      \n    if(scroll_down == 1){\n      this.updateScrollDown();\n    }\n\n    if(scroll_up == 0){\n      this.updateScrollUp();\n    }\n  }\n    \n  updateScrollDown = () => {\n    if(this.props.set_higher*this.props.step_size >= this.props.size){\n      return \"Max value reached\";\n    }else if(this.props.scroll_state){\n      var element = document.getElementsByClassName(\"header_element\");\n      if(element.length > 0){\n          \n        var element_to_jump = element[element.length - 1].innerText;\n        \n        for(var v = 0; v < element.length; v++){\n            var bounding_rectangle = element[v].getBoundingClientRect();\n            if(bounding_rectangle.top > 0){\n                element_to_jump = element[v].innerText;\n                break;\n            }\n        };\n        \n        this.scrollVal = element_to_jump;\n        this.props.scroll_callback(this.scrollVal, this.props.parent_context, 1);\n      }\n    }\n  }\n\n  updateScrollUp = () => {\n    if(this.props.set_lower*this.props.step_size <= 0){\n      return \"Min value reached\";\n    }else if(this.props.scroll_state){\n      var element = document.getElementsByClassName(\"header_element\");\n\n      if(element.length > 0){\n        this.scrollVal = parseInt(element[0].innerText, 10);\n        this.props.scroll_callback(this.scrollVal, this.props.parent_context, -1);\n      }\n    }\n  }\n\n  getScrollBottom = () => {\n    return (this.yScrollbar.scrollTop + this.yScrollbar.clientHeight)/this.yScrollbar.scrollHeight;\n  }\n\n  getScrollTop = () => {\n    return (this.yScrollbar.scrollTop)/this.yScrollbar.scrollHeight;\n  }\n\n  getRows = (start_index, end_index) => {\n    this.scroll = false;\n  }\n    \n  onResize = () => {\n    this.setScrollBarDims();\n    this.setScrollBarWrapperDims();\n    this.setRowHeights();\n    this.setColumnWidths();\n    this.setScrollData();\n    this.handleScroll();\n  }\n\n  setScrollBarPaddings() {\n    var scrollPadding = '0px 0px ' + this.xScrollSize + 'px 0px';\n    this.table.style.padding = scrollPadding;\n\n    var scrollPadding = '0px ' + this.yScrollSize + 'px 0px 0px';\n    this.xWrapper.firstChild.style.padding = scrollPadding;\n  }\n\n  setScrollBarWrapperDims = () => {\n    this.xScrollbar.style.width = 'calc(100% - ' + this.yScrollSize + 'px)';\n    this.yScrollbar.style.height = 'calc(100% - ' + this.stickyHeader.offsetHeight + 'px)';\n    this.yScrollbar.style.top = this.stickyHeader.offsetHeight + 'px';\n  }\n\n  setScrollBarDims() {\n    this.xScrollSize = this.xScrollbar.offsetHeight - this.xScrollbar.clientHeight;\n    this.yScrollSize = this.yScrollbar.offsetWidth - this.yScrollbar.clientWidth;\n\n    if (!this.isFirefox) {\n      this.setScrollBarPaddings();\n    }\n\n    var width = this.getSize(this.realTable.firstChild).width;\n    this.xScrollbar.firstChild.style.width = width + 'px';\n\n    var height = this.getSize(this.realTable).height + this.xScrollSize - this.stickyHeader.offsetHeight;\n    this.yScrollbar.firstChild.style.height = height + 'px';\n\n    if (this.xScrollSize) this.xScrollbar.style.height = this.xScrollSize + 1 + 'px';\n    if (this.yScrollSize)  this.yScrollbar.style.width = this.yScrollSize + 1  + 'px';\n  }\n\n  getModeHeights(){\n    var mode = function mode(arr) {\n      var numMapping = {};\n      var greatestFreq = 0;\n      var mode;\n      arr.forEach(function findMode(number) {\n          numMapping[number] = (numMapping[number] || 0) + 1;\n\n          if (greatestFreq < numMapping[number]) {\n              greatestFreq = numMapping[number];\n              mode = number;\n          }\n      });\n      return +mode;\n    }\n\n    var heights = [];\n      \n    if (this.props.stickyColumnCount) {\n      for (var r = 0; r < this.rowCount; r++) {\n        heights.push(this.getSize(this.realTable.childNodes[r].childNodes[0]).height)\n      }\n    }\n\n    return mode(heights);\n  }\n\n  setRowHeights() {\n    var r, c, cellToCopy, height;\n\n    var row_value = (this.props.y != undefined)?this.props.y:-1;\n    var column_offset_top = 0;\n      \n    if (this.props.stickyColumnCount) {\n      for (r = 1; r < this.rowCount; r++) {\n        cellToCopy = this.realTable.childNodes[r].firstChild;\n        if (cellToCopy) {\n          this.realTable.childNodes[r].childNodes[1].style.height = this.getModeHeights() + \"px\";\n          this.stickyColumn.firstChild.childNodes[r].style.height = this.getModeHeights() + \"px\";\n          height = this.getSize(cellToCopy).height;\n          this.stickyColumn.firstChild.childNodes[r].firstChild.style.height = height + 'px';\n        \n          if (r == 0 && this.stickyCorner.firstChild.childNodes[r]) {\n            this.stickyCorner.firstChild.firstChild.firstChild.style.height = height + 'px';\n          }\n        }\n        \n        if(row_value == r){\n            column_offset_top  = this.stickyColumn.firstChild.childNodes[r].offsetTop;\n        }\n      }\n      this.stickyCorner.firstChild.firstChild.firstChild.style.height = this.stickyHeader.offsetHeight + 'px';\n      this.stickyColumn.firstChild.childNodes[0].firstChild.style.height = this.stickyHeader.offsetHeight+'px';\n    \n      \n        if(document.getElementById(\"data_container\")){\n            document.getElementById(\"data_container\").style.height =  this.getModeHeights()*4 - 30 + \"px\"\n            document.getElementById(\"data_container\").style.width = (this.xScrollbar.clientWidth - 30) + \"px\";\n            document.getElementById(\"data_container\").style.left = 15 + \"px\";\n            document.getElementById(\"data_container\").style.top = column_offset_top + this.getModeHeights() + 15 + \"px\";\n        }\n    }\n  }\n\n  setColumnWidths() {\n    var c, cellToCopy, cellStyle, width, cell, stickyWidth;\n\n    if (this.stickyHeaderCount) {\n      stickyWidth = 0;\n\n      for (c = 0; c < this.columnCount; c++) {\n        cellToCopy = this.realTable.firstChild.childNodes[c];\n\n        if (cellToCopy) {\n          width = this.getSize(cellToCopy).width;\n\n          cell = this.table.querySelector('#sticky-header-cell-' + c);\n\n          cell.style.width = width + 'px';\n          cell.style.minWidth = width + 'px';\n\n          const fixedColumnsHeader = this.stickyCorner.firstChild.firstChild;\n          if (fixedColumnsHeader && fixedColumnsHeader.childNodes[c]) {\n            cell = fixedColumnsHeader.childNodes[c];\n            cell.style.width = width + 'px';\n            cell.style.minWidth = width + 'px';\n\n            cell = fixedColumnsHeader.childNodes[c];\n            cell.style.width = width + 'px';\n            cell.style.minWidth = width + 'px';\n            stickyWidth += width;\n          }\n        }\n      }\n\n      this.stickyColumn.firstChild.style.width = stickyWidth + 'px';\n      this.stickyColumn.firstChild.style.minWidth = stickyWidth + 'px';\n    }\n  }\n\n  getStickyColumns(rows) {\n    const columnsCount = this.props.stickyColumnCount;\n    var cells;\n    var stickyRows = [];\n    var row_value = (this.props.y != undefined)?parseInt(this.props.y, 10):-1;\n      \n      \n    if(this.props.scrollVal != -1){\n      this.scroll = false;\n    }\n\n    rows.forEach((row, r) => {\n      cells = React.Children.toArray(row.props.children);\n      if(row.props.accordion && row_value > 0) {\n        if(this.props.data){\n          var one_indexed = this.props.data.index  + 1;\n          if(one_indexed == parseInt(this.props.y, 10) && this.props.data.column == this.props.column_name && this.props.column_name != undefined){\n            var data_entries = [];\n            switch (this.props.data.type) {\n              case window.flex_type_enum.string:\n                data_entries.push(<div style={{\"word-wrap\": \"break-word\"}}>{this.props.data.data}</div>);\n                break;\n              case window.flex_type_enum.dict:\n              case window.flex_type_enum.vector:\n              case window.flex_type_enum.list:\n              case window.flex_type_enum.nd_vector:\n                data_entries.push(<JSONPretty className=\"json-pretty\" json={this.props.data.data}></JSONPretty>);\n                break;\n              default:\n                break;\n            }\n\n            stickyRows.push(\n              <Row {...row.props}>\n                  <div id=\"data_container\" style={{\"position\": \"absolute\", \"overflow\": \"scroll\", \"width\": 100, \"left\": 3, \"zIndex\": 99, \"textAlign\": \"left\", \"background\": \"#F7F7F7\"}}>\n                  <div style={{\"padding\": 10}}>\n                    {data_entries}\n                  </div>\n                </div>\n              </Row>\n            );\n          }else{\n            stickyRows.push(\n              <Row {...row.props}>\n                <div id=\"data_container\" style={{\"position\": \"absolute\", \"overflow\": \"scroll\", \"width\": 100, \"left\": 3, \"zIndex\": 99, \"textAlign\": \"left\", \"background\": \"#F7F7F7\"}}>\n                  <div style={{\"padding\": 10}}>\n                    Loading...\n                  </div>\n                </div>\n              </Row>\n            );\n          }\n        }else{\n          stickyRows.push(\n            <Row {...row.props}>\n              <div id=\"data_container\" style={{\"position\": \"absolute\", \"overflow\": \"scroll\", \"width\": 100, \"left\": 3, \"zIndex\": 99, \"textAlign\": \"left\", \"background\": \"#F7F7F7\"}}>\n                <div style={{\"padding\": 10}}>\n                  Loading...\n                </div>\n              </div>\n            </Row>\n          );\n        }\n      } else if(row.props.spacers && row_value > 0) {\n        stickyRows.push(\n          <Row {...row.props} key={r}>\n            {cells.slice(0, columnsCount)}\n          </Row>\n        );\n      }else{\n        stickyRows.push(\n          <Row {...row.props} id='' key={r}>\n            {cells.slice(0, columnsCount)}\n          </Row>\n        );\n      }\n    });\n\n    return stickyRows;\n  }\n\n  getStickyHeader(rows) {\n    var row = rows[0];\n    var cells = [];\n\n    React.Children.toArray(row.props.children).forEach((cell, c) => {\n      cells.push(React.cloneElement(cell, {id: 'sticky-header-cell-' + c, key: c}));\n    });\n\n    return (\n      <Row {...row.props} id='sticky-header-row'>\n        {cells}\n      </Row>\n    );\n  }\n\n  getStickyCorner(rows) {\n    const columnsCount = this.props.stickyColumnCount;\n    var cells;\n    var stickyCorner = [];\n\n    rows.forEach((row, r) => {\n      if (r === 0) {\n        cells = React.Children.toArray(row.props.children);\n\n        stickyCorner.push(\n          <Row {...row.props} id='' key={r}>\n            {cells.slice(0, columnsCount)}\n          </Row>\n        );\n      }\n    });\n    return stickyCorner;\n  }\n\n  getSize(node) {\n    var width = node ? node.getBoundingClientRect().width : 0;\n    var height = node ? node.getBoundingClientRect().height : 0;\n\n    return {width, height};\n  }\n\n  render() {\n    var rows = React.Children.toArray(this.props.children);\n    var stickyColumn, stickyHeader, stickyCorner;\n\n    this.rowCount = rows.length;\n    this.columnCount = (rows[0] && React.Children.toArray(rows[0].props.children).length) || 0;\n      \n    if (rows.length) {\n      if (this.props.stickyColumnCount > 0 && this.stickyHeaderCount > 0) {\n        stickyCorner = this.getStickyCorner(rows);\n      }\n      if (this.props.stickyColumnCount > 0) {\n        stickyColumn = this.getStickyColumns(rows);\n      }\n      if (this.stickyHeaderCount > 0) {\n        stickyHeader = this.getStickyHeader(rows);\n      }\n    }\n      \n    return (\n      <div className={'sticky-table ' + (this.props.className || '')} id={'sticky-table-' + this.id}>\n        <div id='x-scrollbar'><div></div></div>\n        <div id='y-scrollbar'><div></div></div>\n        <div className='sticky-table-corner' id='sticky-table-corner'>\n          <Table>{stickyCorner}</Table>\n        </div>\n        <div className='sticky-table-header' id='sticky-table-header'>\n          <Table>{stickyHeader}</Table>\n        </div>\n        <div className='sticky-table-y-wrapper' id='sticky-table-y-wrapper'>\n          <div className='sticky-table-column' id='sticky-table-column'>\n            <Table>{stickyColumn}</Table>\n          </div>\n          <div className='sticky-table-x-wrapper' id='sticky-table-x-wrapper'>\n            <Table>{rows}</Table>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport {StickyTable, Table, Row, Cell};\n","import React, { Component } from 'react';\nimport { StickyTable, Row, Cell } from './sticky-table'\nimport './index.css';\n\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome'\nimport faAngleUp from '@fortawesome/fontawesome-free-solid/faAngleUp'\nimport faAngleDown from '@fortawesome/fontawesome-free-solid/faAngleDown'\n\nvar d3 = require(\"d3\");\n\nvar numberWithCommas = d3.format(\",\");\n\nclass TcTable extends Component {\n\n  renderCell(value, type){\n    switch (type) {\n      case \"string\":\n        return (\n          <div style={{\"position\":\"relative\"}}>\n            <div className=\"string_val\" onClick={(e) => this.divClick(e)}>\n              <span className=\"default_span_color\" onClick={(e) => this.spanClick(e)}>\n                { value }\n              </span>\n            </div>\n            <div className=\"arrow_right\" onClick={(e) => this.arrowClick(e)}>\n              <FontAwesomeIcon icon={faAngleDown} style={{\"display\": \"block\"}} onClick={(e) => this.spanClick(e)} />\n              <FontAwesomeIcon icon={faAngleUp} style={{\"display\": \"none\"}} onClick={(e) => this.spanClick(e)} />\n            </div>\n          </div>\n        );\n      case \"float\":\n        return (\n          <div className=\"float_val\">\n            { value }\n          </div>\n        );\n      case \"integer\":\n        return (\n          <div className=\"int_val\">\n            { value }\n          </div>\n        );\n      case \"image\":\n        return (\n          <div className=\"image_val\">\n                <img src={ \"data:image/\" + value.format + \";base64,\" + value.data }  height={32} data-image-row={value.idx} data-image-column={value.column} alt={value.width + \"x\" + value.height + \" image\"} />\n          </div>\n        );\n\n      case \"dictionary\":\n        return (\n          <div style={{\"position\":\"relative\"}}>\n            <div className=\"dictionary_value\" onClick={(e) => this.divClick(e)}>\n              <span className=\"default_span_color\" onClick={(e) => this.spanClick(e)}>\n                { JSON.stringify(value) }\n              </span>\n            </div>\n            <div className=\"arrow_right\" onClick={(e) => this.arrowClick(e)}>\n              <FontAwesomeIcon icon={faAngleDown} style={{\"display\": \"block\"}} onClick={(e) => this.spanClick(e)} />\n              <FontAwesomeIcon icon={faAngleUp} style={{\"display\": \"none\"}} onClick={(e) => this.spanClick(e)} />\n            </div>\n          </div>\n        );\n      case \"array\":\n          return (\n            <div style={{\"position\":\"relative\"}}>\n              <div className=\"array_value\" onClick={(e) => this.divClick(e)}>\n                <span className=\"default_span_color\" onClick={(e) => this.spanClick(e)}>\n                  { value }\n                </span>\n              </div>\n              <div className=\"arrow_right\" onClick={(e) => this.arrowClick(e)}>\n                <FontAwesomeIcon icon={faAngleDown} style={{\"display\": \"block\"}} onClick={(e) => this.spanClick(e)} />\n                <FontAwesomeIcon icon={faAngleUp} style={{\"display\": \"none\"}} onClick={(e) => this.spanClick(e)} />\n              </div>\n            </div>\n              );\n      case \"list\":\n        return (\n          <div style={{\"position\":\"relative\"}}>\n            <div className=\"array_value\" onClick={(e) => this.divClick(e)}>\n              <span className=\"default_span_color\" onClick={(e) => this.spanClick(e)}>\n                { JSON.stringify(value) }\n              </span>\n            </div>\n            <div className=\"arrow_right\" onClick={(e) => this.arrowClick(e)}>\n              <FontAwesomeIcon icon={faAngleDown} style={{\"display\": \"block\"}} onClick={(e) => this.spanClick(e)} />\n              <FontAwesomeIcon icon={faAngleUp} style={{\"display\": \"none\"}} onClick={(e) => this.spanClick(e)} />\n            </div>\n          </div>\n                );\n      case \"ndarray\":\n            return (\n              <div style={{\"position\":\"relative\"}}>\n                <div className=\"array_value\" onClick={(e) => this.divClick(e)}>\n                  <span className=\"default_span_color\" onClick={(e) => this.spanClick(e)}>\n                    { JSON.stringify(value) }\n                  </span>\n                </div>\n                <div className=\"arrow_right\" onClick={(e) => this.arrowClick(e)}>\n                  <FontAwesomeIcon icon={faAngleDown} style={{\"display\": \"block\"}} onClick={(e) => this.spanClick(e)} />\n                  <FontAwesomeIcon icon={faAngleUp} style={{\"display\": \"none\"}} onClick={(e) => this.spanClick(e)} />\n                </div>\n                </div>\n              );\n      default:\n        return (\n          <div>\n            { value }\n          </div>\n        );\n    }\n  }\n\n  constructor(props){\n    super(props);\n    this.image_array = [];\n    this.image_dictionary = {};\n    this.data = undefined;\n    this.step_size = (this.props.step_size)?this.props.step_size:50;\n    this.test_this = \"element\";\n    this.scrollVal = -1;\n    this.table_scroll = true\n    this.state = {\n      windowHeight: window.innerHeight,\n      windowWidth: window.innerWidth,\n      table: []\n    };\n    this.loading_image_timer = undefined;\n    this.y = -1;\n    this.column_name = undefined;\n    this.data_sent = undefined;\n  }\n\n  componentDidMount(){\n    this.table_spec = this.props.table_spec;\n    this.size = this.props.table_spec[\"size\"];\n    this.title = this.props.table_spec[\"title\"];\n\n    this.image_source_container = document.getElementById(\"image_source_container\");\n    this.arrow_left = document.getElementById(\"arrow_left\");\n    this.image_loading_container = document.getElementById(\"image_loading_container\");\n    this.rowNum = document.getElementById(\"rowNum\");\n\n    window.addEventListener('resize', this.handleResize.bind(this));\n\n    if(window.navigator.platform === 'MacIntel'){\n      window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'ready'});\n    }\n\n    var string_elements = document.getElementsByClassName(\"string_val\");\n    for(var x = 0; x < string_elements.length; x++){\n      if(string_elements[x].getBoundingClientRect().width < string_elements[x].children[0].getBoundingClientRect().width){\n        string_elements[x].parentElement.parentElement.classList.remove(\"hoverable_element\");\n        string_elements[x].parentElement.parentElement.classList.add(\"hoverable_element\");\n      }\n    }\n\n    var dictionary_value = document.getElementsByClassName(\"dictionary_value\");\n    for(var x = 0; x < dictionary_value.length; x++){\n      if(dictionary_value[x].getBoundingClientRect().width < dictionary_value[x].children[0].getBoundingClientRect().width){\n        dictionary_value[x].parentElement.parentElement.classList.remove(\"hoverable_element\");\n        dictionary_value[x].parentElement.parentElement.classList.add(\"hoverable_element\");\n      }\n    }\n\n    var array_value = document.getElementsByClassName(\"array_value\");\n    for(var x = 0; x < array_value.length; x++){\n      if(array_value[x].getBoundingClientRect().width < array_value[x].children[0].getBoundingClientRect().width){\n        array_value[x].parentElement.parentElement.classList.remove(\"hoverable_element\");\n        array_value[x].parentElement.parentElement.classList.add(\"hoverable_element\");\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot){\n\n    this.image_source_container = document.getElementById(\"image_source_container\");\n    this.arrow_left = document.getElementById(\"arrow_left\");\n    this.image_loading_container = document.getElementById(\"image_loading_container\");\n    this.rowNum = document.getElementById(\"rowNum\");\n\n    var string_elements = document.getElementsByClassName(\"string_val\");\n    for(var x = 0; x < string_elements.length; x++){\n      if(string_elements[x].getBoundingClientRect().width < string_elements[x].children[0].getBoundingClientRect().width){\n        string_elements[x].parentElement.parentElement.classList.remove(\"hoverable_element\");\n        string_elements[x].parentElement.parentElement.classList.add(\"hoverable_element\");\n      }\n    }\n\n    var dictionary_value = document.getElementsByClassName(\"dictionary_value\");\n    for(var x = 0; x < dictionary_value.length; x++){\n      if(dictionary_value[x].getBoundingClientRect().width < dictionary_value[x].children[0].getBoundingClientRect().width){\n        dictionary_value[x].parentElement.parentElement.classList.remove(\"hoverable_element\");\n        dictionary_value[x].parentElement.parentElement.classList.add(\"hoverable_element\");\n      }\n    }\n\n    var array_value = document.getElementsByClassName(\"array_value\");\n    for(var x = 0; x < array_value.length; x++){\n      if(array_value[x].getBoundingClientRect().width < array_value[x].children[0].getBoundingClientRect().width){\n        array_value[x].parentElement.parentElement.classList.remove(\"hoverable_element\");\n        array_value[x].parentElement.parentElement.classList.add(\"hoverable_element\");\n      }\n    }\n  }\n\n  componentWillMount(){\n    window.removeEventListener('resize', this.handleResize.bind(this));\n  }\n    \n  reset_scroll($this){\n    $this.table_scroll = true;\n  }\n    \n  callbackScroll(e, $this, bound_increment){\n    $this.jump_to_wrapper(e, $this, bound_increment);\n  }\n\n  enterPressJumpRow(e) {\n    if(e.keyCode == 13){\n      if(this.rowNum != null && this.table_scroll){\n        var row_number = this.rowNum.value;\n        this.rowNum.value = \"\";\n        if(!isNaN(parseInt(row_number, 10))){\n          this.jump_to(row_number);\n        }\n      }\n    };\n  }\n\n  rowHandler(e){\n    if(this.rowNum != null && this.table_scroll){\n      var row_number = this.rowNum.value;\n      this.rowNum.value = \"\";\n      if(!isNaN(parseInt(row_number, 10))){\n        this.jump_to(row_number);\n      }\n    }\n  }\n    \n  jump_to(value){\n      this.jump_to_wrapper(value, this, 0);\n  }\n\n  jump_to_wrapper(value, $this, bound_increment){\n    if($this.table_scroll){\n        var lower_value = 0;\n        var upper_value = 0;\n        var lower_bound;\n        var upper_bound;\n        \n        value = parseInt(value, 10);\n        \n        if(value >= $this.size){\n          value = $this.size - 1;\n        }else if(value < 0){\n          value = 0;\n        }\n        \n        lower_bound = Math.floor(value/$this.step_size);\n        upper_bound = lower_bound + 1;\n        \n        if(bound_increment ==  0){\n            $this.set_lower = (lower_bound-1 >= 0)?(lower_bound-1):0;\n            $this.set_higher = (lower_bound-1 >= 0)?upper_bound:2;\n        }else{\n            $this.set_lower += bound_increment;\n            $this.set_higher += bound_increment;\n        }\n        \n        lower_value = ($this.set_lower-1 >= 0)?(($this.set_lower)*$this.step_size):0;\n        upper_value = ($this.set_higher*$this.step_size > $this.size)?$this.size:($this.set_higher*$this.step_size);\n        \n        $this.getRows(lower_value, upper_value);\n        $this.scrollVal = value;\n    }\n    $this.table_scroll = false;\n    $this.drawTable()\n  }\n\n  getRows(start_index, end_index) {\n    if(window.navigator.platform == 'MacIntel'){\n      window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'getRows', start: start_index, end: end_index});\n    }else{\n      window.postMessageToNativeClient('{\"method\":\"get_rows\", \"start\":' + start_index + ', \"end\": ' + end_index + '}');\n    }\n  }\n\n  setAccordionData(data){\n    this.data_sent = data[\"data\"];\n    this.drawTable();\n  }\n\n  handleResize(e) {\n    var $this = this;\n    this.setState((state) => ({\n      windowHeight: window.innerHeight,\n      windowWidth: window.innerWidth\n    }), function(){\n      $this.drawTable();\n    });\n  }\n\n  hoverImage(result){\n    var $this = this;\n    return function(e) {\n      if(result == \"image\"){\n        $this.image_source_container.style.display = \"block\";\n        $this.arrow_left.style.display = \"block\";\n        if($this.image_source_container != null && e.target.getElementsByTagName(\"img\")[0] && e.target.classList.contains('elements')){\n          var element_bounding = e.target.getBoundingClientRect();\n          var arrow_bounding = $this.arrow_left.getBoundingClientRect();\n          var bound_height = parseInt(((element_bounding.height/2 - arrow_bounding.height/2) + (element_bounding.y)), 10);\n          var imageRow = e.target.getElementsByTagName(\"img\")[0].getAttribute(\"data-image-row\");\n          var imageColumn = e.target.getElementsByTagName(\"img\")[0].getAttribute(\"data-image-column\");\n\n          if($this.image_dictionary[String(imageRow)]){\n            if($this.image_dictionary[String(imageRow)][String(imageColumn)]){\n              var src_values = \"data:image/\" + $this.image_dictionary[String(imageRow)][String(imageColumn)][\"format\"] + \";base64,\" + $this.image_dictionary[String(imageRow)][String(imageColumn)][\"image\"];\n              $this.image_source_container.src = src_values;\n              $this.arrow_left.style.top = bound_height + \"px\";\n\n              var image_bounding = $this.image_source_container.getBoundingClientRect();\n              var image_bound_height = parseInt(((element_bounding.height/2 - image_bounding.height/2) + (element_bounding.y)), 10);\n\n              var header_positon = document.getElementsByClassName(\"header\")[0].getBoundingClientRect();\n              var header_top = header_positon.y + header_positon.height;\n\n              var footer_position = document.getElementsByClassName(\"BottomTable\")[0].getBoundingClientRect();\n              var footer_top = footer_position.y;\n\n              if(header_top > image_bound_height){\n                image_bound_height = header_top;\n              }\n\n              if((image_bound_height+image_bounding.height) > footer_top){\n                image_bound_height = footer_top - image_bounding.height;\n              }\n\n              $this.image_source_container.style.top = image_bound_height + \"px\";\n\n              var right_value = (element_bounding.width + element_bounding.left);\n              var right_image = (element_bounding.width + element_bounding.left + 10);\n\n              $this.arrow_left.style.left = right_value + \"px\";\n              $this.image_source_container.style.left = right_image +\"px\";\n            }\n          }else{\n              $this.image_source_container.style.display = \"none\";\n              $this.image_loading_container.style.display = \"block\";\n\n              $this.arrow_left.style.top = bound_height + \"px\";\n\n              var image_bounding = $this.image_loading_container.getBoundingClientRect();\n              var image_bound_height = parseInt(((element_bounding.height/2 - image_bounding.height/2) + (element_bounding.y)), 10);\n\n              var header_positon = document.getElementsByClassName(\"header\")[0].getBoundingClientRect();\n              var header_top = header_positon.y + header_positon.height;\n\n              var footer_position = document.getElementsByClassName(\"BottomTable\")[0].getBoundingClientRect();\n              var footer_top = footer_position.y;\n\n              if(header_top > image_bound_height){\n                image_bound_height = header_top;\n              }\n\n              if((image_bound_height+image_bounding.height) > footer_top){\n                image_bound_height = footer_top - image_bounding.height;\n              }\n\n              $this.image_loading_container.style.top = image_bound_height + \"px\";\n\n              var right_value = (element_bounding.width + element_bounding.left);\n              var right_image = (element_bounding.width + element_bounding.left + 10);\n\n              $this.arrow_left.style.left = right_value + \"px\";\n              $this.image_loading_container.style.left = right_image +\"px\";\n\n              var target = e.target;\n              $this.loading_image_timer = setInterval(function(imageRow, imageColumn, target){\n                                                             if($this.image_dictionary[String(imageRow)]){\n                                                                 if($this.image_dictionary[String(imageRow)][String(imageColumn)]){\n\n                                                                    $this.image_source_container.style.display = \"block\";\n                                                                    $this.image_loading_container.style.display = \"none\";\n\n                                                                    var element_bounding = target.getBoundingClientRect();\n\n\n                                                                    var arrow_bounding = $this.arrow_left.getBoundingClientRect();\n                                                                    var bound_height = parseInt(((element_bounding.height/2 - arrow_bounding.height/2) + (element_bounding.y)), 10);\n\n                                                                    var imageRow = target.getElementsByTagName(\"img\")[0].getAttribute(\"data-image-row\");\n                                                                    var imageColumn = target.getElementsByTagName(\"img\")[0].getAttribute(\"data-image-column\");\n\n                                                                    var src_values = \"data:image/\" + $this.image_dictionary[String(imageRow)][String(imageColumn)][\"format\"] + \";base64,\" + $this.image_dictionary[String(imageRow)][String(imageColumn)][\"image\"];\n\n                                                                    $this.image_source_container.src = src_values;\n                                                                    $this.arrow_left.style.top = bound_height + \"px\";\n\n                                                                    var image_bounding = $this.image_source_container.getBoundingClientRect();\n                                                                    var image_bound_height = parseInt(((element_bounding.height/2 - image_bounding.height/2) + (element_bounding.y)), 10);\n\n                                                                    var header_positon = document.getElementsByClassName(\"header\")[0].getBoundingClientRect();\n                                                                    var header_top = header_positon.y + header_positon.height;\n\n                                                                    var footer_position = document.getElementsByClassName(\"BottomTable\")[0].getBoundingClientRect();\n                                                                    var footer_top = footer_position.y;\n\n                                                                    if(header_top > image_bound_height){\n                                                                        image_bound_height = header_top;\n                                                                    }\n\n                                                                    if((image_bound_height+image_bounding.height) > footer_top){\n                                                                        image_bound_height = footer_top - image_bounding.height;\n                                                                    }\n\n                                                                    $this.image_source_container.style.top = image_bound_height + \"px\";\n\n                                                                    var right_value = (element_bounding.width + element_bounding.left);\n                                                                    var right_image = (element_bounding.width + element_bounding.left + 10);\n\n                                                                    $this.arrow_left.style.left = right_value + \"px\";\n                                                                    $this.image_source_container.style.left = right_image +\"px\";\n\n                                                                    clearInterval($this.loading_image_timer);\n\n                                                                 }\n                                                             }\n                                                         }, 300, imageRow, imageColumn, target);\n          }\n        }\n      }\n    }\n  }\n\n  hoverOutImage(result){\n    var $this = this;\n    return function(e) {\n      if(result == \"image\"){\n        if($this.image_source_container != null && e.target.getElementsByTagName(\"img\")[0] && e.target.classList.contains('elements')){\n          $this.image_source_container.src = \"\";\n        }\n      }\n      if($this.loading_image_timer){\n        clearInterval($this.loading_image_timer);\n      }\n\n      $this.image_source_container.style.display = \"none\";\n      $this.image_loading_container.style.display = \"none\";\n      $this.arrow_left.style.display = \"none\";\n    }\n  }\n\n  divClick(e){\n    var dict_elements = {};\n    dict_elements[\"target\"] = (e.target.parentElement.parentElement);\n    this.cellClick(dict_elements);\n  }\n\n  spanClick(e){\n    var dict_elements = {};\n    dict_elements[\"target\"] = (e.target.parentElement.parentElement.parentElement);\n    this.cellClick(dict_elements);\n  }\n\n  arrowClick(e){\n    var dict_elements = {};\n    dict_elements[\"target\"] = (e.target.parentElement.parentElement);\n    this.cellClick(dict_elements);\n  }\n\n  cellClick(e){\n    var row_number = e.target.getAttribute(\"x\");\n    var column_name = e.target.getAttribute(\"y\");\n    var type = e.target.getAttribute(\"flex_type\");\n\n    switch (type) {\n      case \"string\":\n      case \"dictionary\":\n      case \"array\":\n      case \"ndarray\":\n      case \"list\":\n        var active_element_loop = e.target.parentElement.parentElement.getElementsByClassName(\"active_element\");\n\n        for(var ele = 0; ele < active_element_loop.length; ele++){\n          if(active_element_loop[ele] != e.target){\n            active_element_loop[ele].children[0].children[1].children[0].style.display = \"block\";\n            active_element_loop[ele].children[0].children[1].children[1].style.display = \"none\";\n            active_element_loop[ele].children[0].children[1].classList.remove(\"active_arrow\");\n            active_element_loop[ele].classList.remove(\"active_element\");\n          }\n        }\n\n\n        if(e.target.children[0].children[0].getBoundingClientRect().width < e.target.children[0].children[0].children[0].getBoundingClientRect().width){\n\n          if(e.target.children[0].children[1].children[0].style.display == \"none\"){\n            e.target.children[0].children[1].children[0].style.display = \"block\";\n            e.target.children[0].children[1].children[1].style.display = \"none\";\n            e.target.classList.remove(\"active_element\");\n            e.target.children[0].children[1].classList.remove(\"active_arrow\");\n            this.data_sent = undefined;\n            this.column_name = undefined;\n            this.y = -1;\n            this.drawTable();\n          }else{\n            e.target.children[0].children[1].children[0].style.display = \"none\";\n            e.target.children[0].children[1].children[1].style.display = \"block\";\n            e.target.classList.add(\"active_element\");\n            e.target.children[0].children[1].classList.add(\"active_arrow\");\n            this.data_sent = undefined;\n            this.column_name = undefined;\n            this.y = -1;\n\n            var column_name_str = column_name.replace('\"', \"\\\\\\\"\");\n\n            this.drawTable(true, row_number, column_name, column_name_str);\n          }\n        }\n\n        break;\n      case \"image\":\n        break;\n      default:\n        break;\n    }\n  }\n\n  drawTable(callback_accordion = false, y = -1, column_name = undefined, column_name_str = undefined){\n\n    var rows = [];\n    var row_ids = [];\n\n    this.table_array = [];\n\n    for (var r = 0; r < this.data.values.length+1; r++) {\n      var cells = [];\n      for (var c = 0; c < this.table_spec[\"column_names\"].length+1; c++) {\n        if(c === 0){\n          if(r === 0){\n            cells.push(<Cell className=\"header\" key={c+\"_\"+r}></Cell>);\n          }else{\n            cells.push(<Cell className=\"header_element\" key={c+\"_\"+r}>{this.data.values[r-1][\"__idx\"]}</Cell>);\n            row_ids.push(this.data.values[r-1][\"__idx\"]);\n          }\n        }else{\n          if(r === 0){\n            cells.push(<Cell className={\"header\"} key={c+\"_\"+r}><span>{this.table_spec[\"column_names\"][c-1]}</span></Cell>);\n          }else{\n            var element_type = this.table_spec[\"column_types\"][c-1];\n            var element_column_name = this.table_spec[\"column_names\"][c-1];\n            cells.push(<Cell className=\"elements\" onMouseEnter={this.hoverImage(this.table_spec[\"column_types\"][c-1])} onMouseLeave={this.hoverOutImage(this.table_spec[\"column_types\"][c-1])} onClick={(e) => this.cellClick(e)} x={r} x_c={c} y={element_column_name} flex_type={element_type} key={c+\"_\"+r}>{ this.renderCell(this.data.values[r-1][element_column_name], element_type )}</Cell>);\n          }\n        }\n      }\n      rows.push(<Row key={r}>{cells}</Row>);\n\n      if(this.y == r){\n        var empty_cells = [];\n        empty_cells.push(<Cell className={\"header_element accordion_helper\"} key={\"0_\"+r+\"modal\"}>&nbsp;</Cell>);\n\n        for(var x = 1; x < cells.length;x++){\n          empty_cells.push(<Cell className={\"elements accordion_helper\"} key={x+\"_\"+r+\"modal\"}>&nbsp;</Cell>);\n        }\n\n        rows.push(<Row key={\"modal\"} accordion={true}>\n                    {empty_cells}\n                  </Row>);\n\n        var empty_cells_1 = [];\n        empty_cells_1.push(<Cell className={\"header_element accordion_helper\"} key={\"0_\"+r+\"spacer1\"}>&nbsp;</Cell>);\n\n        for(var x = 1; x < cells.length;x++){\n          empty_cells_1.push(<Cell className={\"elements accordion_helper\"} key={x+\"_\"+r+\"spacer1\"}>&nbsp;</Cell>);\n        }\n\n        rows.push(<Row key={\"spacer1\"} spacers={true}>\n                    {empty_cells_1}\n                  </Row>);\n\n        var empty_cells_2 = [];\n        empty_cells_2.push(<Cell className={\"header_element accordion_helper\"} key={\"0_\"+r+\"spacer2\"}>&nbsp;</Cell>);\n\n        for(var x = 1; x < cells.length;x++){\n          empty_cells_2.push(<Cell className={\"elements accordion_helper\"} key={x+\"_\"+r+\"spacer2\"}>&nbsp;</Cell>);\n        }\n\n        rows.push(<Row key={\"spacer2\"} spacers={true}>\n                    {empty_cells_2}\n                  </Row>);\n          \n        var empty_cells_3 = [];\n        empty_cells_3.push(<Cell className={\"header_element accordion_helper\"} key={\"0_\"+r+\"spacer3\"}>&nbsp;</Cell>);\n          \n        for(var x = 1; x < cells.length;x++){\n            empty_cells_3.push(<Cell className={\"elements accordion_helper\"} key={x+\"_\"+r+\"spacer3\"}>&nbsp;</Cell>);\n        }\n          \n        rows.push(<Row key={\"spacer3\"} spacers={true}>\n                    {empty_cells_3}\n                  </Row>);\n      }\n    }\n\n      \n    var n = Math.floor(Math.min(...row_ids)/this.step_size);\n      \n    this.set_higher = n + 3;\n    this.set_lower = n;\n      \n    var parent_context = this;\n\n    if(this.title != \"\"){\n      var tableTitle = (\n                          <h1 className=\"tableTitle\"  key=\"tableTitle\">\n                            {this.title}\n                          </h1>\n                        );\n      this.table_array.push(tableTitle);\n    }\n\n    var tableBody = (\n                      <div className=\"resize_container\" key=\"tableBody\" style={{ \"height\": this.state.windowHeight-44, \"width\": this.state.windowWidth}}>\n                     <StickyTable parent_context={parent_context} scroll_state={this.table_scroll} scrollVal={this.scrollVal} size={this.size} step_size={this.step_size} set_lower={this.set_lower} set_higher={this.set_higher}  y={this.y} data={this.data_sent} column_name={this.column_name} scroll_callback={this.callbackScroll} reset_scroll={this.reset_scroll} style={{ \"height\": this.state.windowHeight-44, \"width\": this.state.windowWidth}}>\n                          {rows}\n                        </StickyTable>\n                      </div>\n                    );\n\n    var tableFooter = (\n                        <div className=\"BottomTable\" key=\"tableFooter\">\n                          &nbsp;\n                          <div className=\"numberOfRows\">\n                            {numberWithCommas(this.size)} rows\n                          </div>\n                          <div className=\"jumpToRowContainer\">\n                            <input className=\"rowNumber\" id=\"rowNum\" onKeyDown={this.enterPressJumpRow.bind(this)} placeholder=\"Row #\"/>\n                            <img className=\"enterSymbol\" onClick={this.rowHandler.bind(this)} src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAxCAYAAABnCd/9AAAAAXNSR0IArs4c6QAAA9RJREFUaAXtmk1oE0EUx80mahCiglKKpSAiHrTUSz1YBL9REEE8BBSqLQrRNm1BvPSk9ODHQSHpRywKwUMvxVIQrccqanvw5qEHD4LooQgeaqGY5svfK01Yt7t1d7Mpm00Wys6+nZl9/1/fm5mdrG9DlR0DAwNn8vn8HWRP9/T03DaS7zO64UV7LBa7jq4EfwHR5/f7d0ej0W9S1h6K1uDVa6D0o+0pf8tQRCdgQnLWO4qV9G56wTYyMrIxlUo9I32uWNHjaTDxeHwrUMaBcsoKFKnr2VRKJBINAHlvB4pnwQClKZ1OzyCwWUTaOTwXMUzHJ4DygUhptAOk0MZTY8zQ0NDebDY7CZTNBYF2z56KGIC0OAFFYHoNjGN6HOvIbsi6tZ1jYwxrhqOIjBDKiz6f7zHvIbNuFW3GL0cihuX2LR42BZRLnK9x/shAeMiMA26tUxIYAChESgxxjyirX0i3MzvccKtoM37ZTqVkMhlkzTAKkIt6D8LeomevFJstMIODgzsWFhZeIr7VSCjjjK2+jfpbb7vlVBoeHt6Ty+Wm14Ky3iLK8TxLYGRAzWQyM0DZVw5n3NSnaTAMsucZUN8Cpc5NAsrliykwDLIyw0wAZUu5HHFbv2uCAYSPNcp9xpQEZb/bnC+nP4Yzx9jY2CbSJ8nDL5fTAbf2rQuGfdJtc3NzEzh93K2Ol9uvVWCYeRrZJ31D6hwo5eG0r2NsuldKH1bb8sz9VtsY1f8HDKlzcGWjZ5dRAwv2nYxNfRbqu6pqcfBlNXsa4rJ57AQUV4m048wyGKBc5b/7mg4Mf4Cy03kltwmQPu2kj8w+tUNFQCF14qrrWnGFgKRSLX10wkFheyClY696k0SMfCtSOzQEFDatHxI1NThaMHINnH6+FWkHUFpzv2oviws8vix6rijKOeD8rgYaMrYGg8EfRlrVO/vLddi6bOZH8UkuGowambHz4HnqvTJTd73rsETJkCEvCAZD/1aBESflRZItTIHTZNdpwMySoiW9iNp9thPtiqmk7qyrq+s7YXYEcVNqezWVdcEIgEgkMl9fX38WOKPVBKSg1RCMVAiHw0vd3d1tFB8UGlTLeU0wAoGIyff29vYxY92knK2B0RAgcp4A5wJwFjW3PHn534hRq5bpjWnuGHB+qu1eLFsCIwCYsT4FAoHDwPniRSAFTZbBSMPOzs6vpFUrcKYLHWnPLKJyWlslXdsCIwJJq1+hUOgkxXEDwZ8N7BVhtg1G1HV0dPxhdRumKB8PqY8loqmit0t1XwnUCs2W+Sm3DRhR6susdRdg78y2dWO9vzv+PVLOdXkdAAAAAElFTkSuQmCC\" height={8}/>\n                          </div>\n                        </div>\n                      );\n\n      var imageContainer = (\n                            <div id=\"image_container\" key=\"image_container\">\n                              <div id=\"arrow_left\">\n                                <div id=\"diamond\">\n                                </div>\n                                <div id=\"diamond_top\">\n                                </div>\n                              </div>\n                              <img id=\"image_source_container\" src=\"\" />\n                              <div id=\"image_loading_container\">\n                                <div className=\"table_loading_parent\">\n                                    <div className=\"table_loader_container\">\n                                        <div className=\"table_loader\"></div>\n                                    </div>\n                                </div>\n                              </div>\n                            </div>\n                            );\n\n      this.table_array.push(tableBody);\n      this.table_array.push(tableFooter);\n      this.table_array.push(imageContainer);\n\n      var temp_table = this.table_array[0];\n\n      for(var x = 1; x < this.table_array.length; x++){\n        temp_table = [temp_table, this.table_array[x]];\n      }\n\n      var $this = this;\n\n      this.setState({table: temp_table}, function() {\n        if(callback_accordion){\n            $this.y = y;\n            $this.column_name = column_name;\n            $this.drawTable()\n\n            var element_index = String(parseInt(y, 10) - 1);\n\n            if(window.navigator.platform == 'MacIntel'){\n                window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'getAccordion', column: column_name_str, index: element_index});\n            }else{\n                window.postMessageToNativeClient('{\"method\":\"get_accordion\", \"column\": \"' + column_name_str + '\", \"index\": ' + element_index + '}');\n            }\n        }\n      });\n  }\n\n  updateData(data){\n    this.data = data;\n\n    this.data_sent = undefined;\n    this.column_name = undefined;\n    this.y = -1;\n\n    var active_element_loop = document.getElementsByClassName(\"active_element\");\n\n    for(var ele = 0; ele < active_element_loop.length; ele++){\n      active_element_loop[ele].children[0].children[1].children[0].style.display = \"block\";\n      active_element_loop[ele].children[0].children[1].children[1].style.display = \"none\";\n      active_element_loop[ele].children[0].children[1].classList.remove(\"active_arrow\");\n      active_element_loop[ele].classList.remove(\"active_element\");\n    }\n\n    this.drawTable()\n  }\n\n  cleanImageDictionary(){\n    for (var key in this.image_dictionary){\n      if(parseInt(key, 10) < this.set_lower*this.step_size || parseInt(key, 10) > this.set_higher*this.step_size){\n        delete this.image_dictionary[key];\n      }\n    }\n  }\n\n  setImageData(value){\n    this.cleanImageDictionary();\n    if(value.data){\n      if(value.data.data){\n        for(var x = 0; x < value.data.data.length; x++){\n          if (!this.image_dictionary[String(value.data.data[x][\"idx\"])]) {\n            this.image_dictionary[String(value.data.data[x][\"idx\"])] = {};\n          }\n          if (!this.image_dictionary[String(value.data.data[x][\"idx\"])][value.data.data[x][\"column\"]]) {\n            this.image_dictionary[String(value.data.data[x][\"idx\"])][value.data.data[x][\"column\"]] = {};\n          }\n          this.image_dictionary[String(value.data.data[x][\"idx\"])][value.data.data[x][\"column\"]][\"image\"] = value.data.data[x][\"image\"];\n          this.image_dictionary[String(value.data.data[x][\"idx\"])][value.data.data[x][\"column\"]][\"format\"] = value.data.data[x][\"format\"];\n        }\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.table}\n      </div>\n    );\n  }\n}\n\nexport default TcTable;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nclass TCEvaluationSettingsSelection extends Component {\n  render() {\n    return (\n      <div className=\"TCEvaluationSettingsSelection\">\n        <div className=\"TCEvaluationSettingsSelectionTitle\">\n          Metrics\n        </div>\n        <div className=\"TCEvaluationSettingsSelectionCont\">\n          <input type=\"checkbox\"\n                 name=\"accuracy_checkbox\"\n                 checked={this.props.accuracy}\n                 onChange={this.props.changeAccuracy.bind(this)} />\n          <span className=\"TCEvaluationSettingsSelectionContText\">\n           Accuracy\n          </span>\n          <br/>\n          \n          <input type=\"checkbox\"\n                 name=\"f1_score_checkbox\"\n                 checked={this.props.f1_score}\n                 onChange={this.props.changeF1Score.bind(this)} />\n          <span className=\"TCEvaluationSettingsSelectionContText\">\n           F1 Score\n          </span>\n          <br/>\n          \n          <input type=\"checkbox\"\n                 name=\"precision_checkbox\"\n                 checked={this.props.precision}\n                 onChange={this.props.changePrecision.bind(this)} />\n          <span className=\"TCEvaluationSettingsSelectionContText\">\n           Precision\n          </span>\n          <br/>\n\n          <input type=\"checkbox\"\n                 name=\"recall_checkbox\"\n                 checked={this.props.recall}\n                 onChange={this.props.changeRecall.bind(this)} />\n          <span className=\"TCEvaluationSettingsSelectionContText\">\n           Recall\n          </span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationSettingsSelection;\n","import React, { Component } from 'react';\nimport './index.scss';\nimport filter from './assets/filter.svg';\n\nimport TCEvaluationSettingsSelection from '../TCEvaluationSettingsSelection';\n\nclass TCEvaluationSettings extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      \"open\": false\n    }\n  }\n\n  changeOpenClose = () => {\n    this.setState({\"open\": !this.state.open});\n  }\n\n  renderSettings = () => {\n    if(this.state.open) {\n      return (\n        <div className=\"TCEvaluationSettingsSelectionContainer\">\n          <TCEvaluationSettingsSelection accuracy={this.props.accuracy}\n                                         changeAccuracy={this.props.changeAccuracy.bind(this)}\n                                         precision={this.props.precision}\n                                         changePrecision={this.props.changePrecision.bind(this)}\n                                         recall={this.props.recall}\n                                         changeRecall={this.props.changeRecall.bind(this)}\n                                         f1_score={this.props.f1_score}\n                                         changeF1Score={this.props.changeF1Score.bind(this)} />\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationSettings\">\n        <div className=\"TCEvaluationSettingsImage\"\n             onClick={this.changeOpenClose.bind(this)}>\n          <img src={filter}\n               height={20}\n               width={20}/>\n        </div>\n        {this.renderSettings()}\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationSettings;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport carret from './assets/carret.svg';\n\nclass TCEvaluationTooltip extends Component {\n  render() {\n    return (\n      <div className=\"TCEvaluationTooltip\">\n        <div className=\"TCEvaluationTooltipText\">\n          {this.props.text}\n        </div>\n        <div className=\"TCEvaluationCarret\">\n          <img src={carret}\n               height={9}\n               className=\"TCEvaluationCarretIcon\"/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationTooltip;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationTooltip from '../TCEvaluationTooltip';\n\nimport info from './assets/info.svg';\n\nclass TCEvaluationMetrics extends Component {\n  \n  renderIcon = () => {\n    if(this.props.tooltip){\n      return (\n        <div className=\"TCEvaluationMetricsInfoIcon\">\n          <img src={info}\n               height={10}\n               width={10}/>\n        </div>\n      );\n    }\n  }\n\n  renderTooltip = () => {\n    if(this.props.tooltip){\n      return (\n        <div className=\"TCEvaluationMetricsTooltipContainer\">\n          <TCEvaluationTooltip text={this.props.tooltip}/>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationMetrics\">\n        <div className=\"TCEvaluationMetricsTitleContainer\">\n          <div className=\"TCEvaluationMetricsTitle\">\n            {this.props.title}\n          </div>\n          {this.renderIcon()}\n          {this.renderTooltip()}\n        </div>\n        <div className=\"TCEvaluationMetricsValueContainer\">\n          {this.props.value}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationMetrics;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationSettings from '../TCEvaluationSettings';\nimport TCEvaluationMetrics from '../TCEvaluationMetrics';\n\nimport * as d3 from \"d3\";\n\nclass TCEvaluationOverview extends Component {\n  constructor(props){\n    super(props)\n\n    this.formatDecimal = d3.format(\".2f\")\n    this.state={\n      \"accuracy\": true,\n      \"f1_score\": false,\n      \"precision\": false,\n      \"recall\": false\n    }\n  }\n\n  renderMetrics(){\n    var returnMetrics = []\n    if(this.props.accuracy_visible){\n      returnMetrics.push(\n        <TCEvaluationMetrics title={\"Accuracy\"}\n                             value={this.formatDecimal(this.props.accuracy*100) + \"%\"}\n                             tooltip={this.props.total_correct + \" out of \" + this.props.total_num + \" predicted correctly\"}/>\n      )\n    }\n\n    if(this.props.precision_visible){\n      returnMetrics.push(\n        <TCEvaluationMetrics title={\"Precision\"}\n                             value={this.formatDecimal(this.props.precision*100) + \"%\"}\n                             tooltip={\"Out of the labels predicted by the model, which were correct\"}/>\n      )\n    }\n\n    if(this.props.recall_visible){\n      returnMetrics.push(\n        <TCEvaluationMetrics title={\"Recall\"}\n                             value={this.formatDecimal(this.props.recall*100) + \"%\"}\n                             tooltip={\"Out of the correct labels, which were predicted by the model\"}/>\n      )\n    }\n\n    if(this.props.f1_score_visible){\n      returnMetrics.push(\n        <TCEvaluationMetrics title={\"F1 Score\"}\n                             value={this.formatDecimal(((2*(this.props.recall * this.props.precision))/(this.props.recall + this.props.precision))*100) + \"%\"}\n                             tooltip={\"A harmonic average of precision and recall\"}/>\n      )\n    }\n\n    returnMetrics.push(\n      <TCEvaluationMetrics title={\"Total Tested\"}\n                           value={this.props.total_num}\n                           tooltip={\"Total number of examples tested\"}/>\n    )\n\n    return returnMetrics;\n  }\n\n\n  render() {\n    return (\n      <div className=\"TCEvaluationOverview\">\n        <div className=\"TCEvaluationOverviewContainer\">\n          <div className=\"TCEvaluationOverviewTitleContainer\">\n            <div className=\"TCEvaluationOverviewTitle\">\n              Overview\n            </div>\n            <TCEvaluationSettings accuracy={this.props.accuracy_visible}\n                                  changeAccuracy={this.props.changeAccuracy.bind(this)}\n                                  precision={this.props.precision_visible}\n                                  changePrecision={this.props.changePrecision.bind(this)}\n                                  recall={this.props.recall_visible}\n                                  changeRecall={this.props.changeRecall.bind(this)}\n                                  f1_score={this.props.f1_score_visible}\n                                  changeF1Score={this.props.changeF1Score.bind(this)}/> \n          </div>\n          <div className=\"TCEvaluationOverviewMetricsContainer\">\n            <TCEvaluationMetrics title={\"Model\"}\n                                 value={this.props.model_type}/>\n            <TCEvaluationMetrics title={\"Number of Iterations\"}\n                                 value={this.props.iterations}/>\n            {this.renderMetrics()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationOverview;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nclass TCEvaluationImageCellsHover extends Component {\n  render() {\n    return (\n      <div className=\"TCEvaluationImageCellsHover\">\n        <img width={200}\n             src={this.props.src} />\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationImageCellsHover;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationImageCellsHover from './TCEvaluationImageCellsHover';\n\nclass TCEvaluationImageCells extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      \"hover\": false\n    }\n  }\n\n  onHoverState = () => {\n    this.setState({\"hover\": true});\n  }\n\n  offHoverState = () => {\n    this.setState({\"hover\": false});\n  }\n\n  renderImage = () => {\n    if(this.state.hover){\n      return (\n        <TCEvaluationImageCellsHover src={\"data:image/\"+this.props.value.format+\";base64,\"+this.props.value.data}/>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationImageCellsWrapper\"\n           onMouseEnter={this.onHoverState.bind(this)}\n           onMouseLeave={this.offHoverState.bind(this)}>\n        <div className=\"TCEvaluationImageCells\">\n          <img width={30}\n               src={\"data:image/\"+this.props.value.format+\";base64,\"+this.props.value.data} />\n        </div>\n        {this.renderImage()}\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationImageCells;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport warning from './assets/warning.svg';\nimport TCEvaluationImageCells from '../../../TCEvaluationImageCells';\n\nimport * as d3 from \"d3\";\n\nclass TCEvaluationCells extends Component {\n  constructor(props){\n    super(props)\n    this.formatDecimal = d3.format(\".0f\") \n  }\n\n  renderPercentLeft = () => {\n    if(this.props.value >= 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#FFFFFF\"}}>\n          {this.formatDecimal(this.props.value*100)+\"%\"}\n        </div>\n      );\n    }\n  }\n\n  renderAmountLeft = () => {\n    if((this.props.value/this.props.max) >= 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#FFFFFF\"}}>\n          {this.formatDecimal(this.props.value)}\n        </div>\n      );\n    }\n  }\n\n  renderPercentRight = () => {\n    if(this.props.value < 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#484856\"}}> \n          {this.formatDecimal(this.props.value*100)+\"%\"}\n        </div>\n      );\n    }\n  }\n\n  renderAmountRight = () => {\n    if((this.props.value/this.props.max) < 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#484856\"}}>\n          {this.formatDecimal(this.props.value)}\n        </div>\n      );\n    }\n  }\n\n  renderWarning = () => {\n    if(this.props.value <= 0.2){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedWarning\">\n          <img src={warning} height={16}/>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    if(this.props.type == \"images\"){\n      return (\n        <div className=\"TCEvaluationCellsImages\">\n          <div className=\"TCEvaluationCellsImagesContainer\">\n           {this.props.value.map((data, index) => {\n            return(\n              <TCEvaluationImageCells value={data}/>\n            )\n           })}\n          </div>\n        </div>\n       );\n    }else if(this.props.type == \"percent\"){\n      return (\n        <div className=\"TCEvaluationCellsPercent\">\n          <div className=\"TCEvaluationCellsPercentShaded\"\n               style={{\"width\": this.props.value*100+\"%\"}}>\n               { this.renderPercentLeft() }\n          </div>\n          {this.renderPercentRight()}\n          {this.renderWarning()}\n        </div>\n      );\n    }else if(this.props.type == \"amount\"){\n      return (\n        <div className=\"TCEvaluationCellsAmount\">\n          <div className=\"TCEvaluationCellsAmountShaded\"\n               style={{\"width\": (this.props.value/this.props.max)*100+\"%\"}}>\n               { this.renderAmountLeft() }\n          </div>\n          {this.renderAmountRight()}\n        </div>\n      );\n    }else{\n      return (\n        <div className=\"TCEvaluationCellsText\">\n          <div className=\"TCEvaluationCellsTextCont\">\n            {this.props.value}\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default TCEvaluationCells;\n","import React, { Component } from 'react';\nimport './index.scss';\nimport TCEvaluationCells from './TCEvaluationCells';\n\nclass TCEvaluationRows extends Component {\n\n  constructor(props){\n    super(props)\n    this.state = {\n      \"hovered\":false\n    }\n  }\n\n  renderSelected = () => {\n    if(this.props.selected){\n      return (\n        {\"background\": \"#D6E7FB\"}\n      );\n    }\n  }\n\n  renderAccuracy = () => {\n    if(this.props.accuracy_visible){\n      return (\n        <TCEvaluationCells type=\"percent\"\n                           value={this.props.data.correct/(this.props.data.correct+this.props.data.incorrect)}\n                           selected={this.props.selected}\n                           hovered={this.state.hovered}/>\n      )\n    }\n  }\n\n  renderPrecision = () => {\n    if(this.props.precision_visible){\n      return (\n        <TCEvaluationCells type=\"percent\"\n                           value={this.props.data.precision}\n                           selected={this.props.selected}\n                           hovered={this.state.hovered}/>\n      )\n    }\n  }\n\n  renderRecall = () => {\n    if(this.props.recall_visible){\n      return (\n        <TCEvaluationCells type=\"percent\"\n                           value={this.props.data.recall}\n                           selected={this.props.selected}\n                           hovered={this.state.hovered}/>\n      ); \n    }\n  }\n\n  renderF1Score = () => {\n    if(this.props.f1_score_visible){\n      return (\n        <TCEvaluationCells type=\"percent\"\n                           value={this.props.data.f1_score}\n                           selected={this.props.selected}\n                           hovered={this.state.hovered}/>\n      ); \n    }\n  }\n\n  mouse_enter = () => {\n    this.setState({\"hovered\":true});\n  }\n\n  mouse_leave = () => {\n    this.setState({\"hovered\":false});\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationRows\"\n           style={this.renderSelected()}\n           onClick={this.props.onclick.bind(this, this.props.data.name)}\n           onMouseEnter={this.mouse_enter.bind(this)}\n           onMouseLeave={this.mouse_leave.bind(this)}>\n        <div className=\"TCEvaluationRowContainer\">\n          <TCEvaluationCells value={this.props.data.name}/>\n          <TCEvaluationCells type=\"images\"\n                             value={this.props.data.correct_images}/>\n          {this.renderAccuracy()}\n          {this.renderPrecision()}\n          {this.renderRecall()}\n          {this.renderF1Score()}\n          <TCEvaluationCells type=\"amount\"\n                             value={this.props.data.num_examples}\n                             max={this.props.max_value}\n                             selected={this.props.selected}\n                             hovered={this.state.hovered}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationRows;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport down from './assets/down.svg';\nimport caret_down from './assets/caret-down.svg';\n\nclass TCEvaluationHeaderCell extends Component {\n\n  renderCarret = () => {\n    if(this.props.enabled){\n      if(this.props.direction){\n        return (\n          <div className=\"TCEvaluationHeaderCellDropDown\"\n               style={{\"transform\": \"rotate(180deg)\"}}>\n            <img src={caret_down}/>\n          </div>\n        )\n      }else{\n        return (\n          <div className=\"TCEvaluationHeaderCellDropDown\">\n            <img src={caret_down}/>\n          </div>\n        )\n      }\n    }else{\n      return (\n        <div className=\"TCEvaluationHeaderCellDropDown\">\n          <img src={down}/>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    if(this.props.type == \"images\"){\n      return (\n        <div className=\"TCEvaluationHeaderCellImages\">\n          {this.props.name}\n        </div>\n      );\n    }else if(this.props.type == \"percent\"){\n      return (\n        <div className=\"TCEvaluationHeaderCellPercent\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCarret()}\n        </div>\n      );\n    }else if(this.props.type == \"amount\"){\n      return (\n        <div className=\"TCEvaluationHeaderCellAmount\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCarret()}\n        </div>\n      );\n    }else{\n      return (\n        <div className=\"TCEvaluationHeaderCellText\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCarret()}\n        </div>\n      );\n    }\n    \n  }\n}\n\nexport default TCEvaluationHeaderCell;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationHeaderCell from './TCEvaluationHeaderCell';\n\nclass TCEvaluationHeader extends Component {\n\n  clickedAccuracy = () =>{\n    this.props.updateSortBy(\"accuracy\")\n    this.props.updateSortDirection()\n  }\n\n  clickedPrecision = () =>{\n    this.props.updateSortBy(\"precision\")\n    this.props.updateSortDirection()\n  }\n\n  clickedRecall = () =>{\n    this.props.updateSortBy(\"recall\")\n    this.props.updateSortDirection()\n  }\n\n  clickedF1Score= () =>{\n    this.props.updateSortBy(\"f1_score\")\n    this.props.updateSortDirection()\n  }\n\n  clickedCell = () => {\n    this.props.updateSortBy(\"class\")\n    this.props.updateSortDirection()\n  }\n\n  clickNumTest = () => {\n    this.props.updateSortBy(\"train\")\n    this.props.updateSortDirection()\n  }\n\n  clickNumTrain = () => {\n    this.props.updateSortBy(\"test\")\n    this.props.updateSortDirection()\n  }\n\n  renderAccuracy = () => {\n    if(this.props.accuracy_visible){\n      return (\n        <TCEvaluationHeaderCell type=\"percent\"\n                                name=\"ACCURACY\"\n                                onclick={this.clickedAccuracy.bind(this)}\n                                enabled={(this.props.sort_by == \"accuracy\")}\n                                direction={this.props.sort_direction}/>\n      )\n    }\n  }\n\n  renderPrecision = () => {\n    if(this.props.precision_visible){\n      return (\n        <TCEvaluationHeaderCell type=\"percent\"\n                                name=\"PRECISION\"\n                                onclick={this.clickedPrecision.bind(this)}\n                                enabled={(this.props.sort_by == \"precision\")}\n                                direction={this.props.sort_direction}/>\n      )\n    }\n  }\n\n  renderRecall = () => {\n    if(this.props.recall_visible){\n      return (\n        <TCEvaluationHeaderCell type=\"percent\"\n                                name=\"RECALL\"\n                                onclick={this.clickedRecall.bind(this)}\n                                enabled={(this.props.sort_by == \"recall\")}\n                                direction={this.props.sort_direction}\n                                />\n      ); \n    }\n  }\n\n  renderF1Score = () => {\n    if(this.props.f1_score_visible){\n      return (\n        <TCEvaluationHeaderCell type=\"percent\"\n                                name=\"F1 SCORE\"\n                                onclick={this.clickedF1Score.bind(this)}\n                                enabled={(this.props.sort_by == \"f1_score\")}\n                                direction={this.props.sort_direction}\n                                />\n      ); \n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationHeader\">\n        <div className=\"TCEvaluationHeaderContainer\">\n          <TCEvaluationHeaderCell name=\"CLASS NAME\"\n                                  onclick={this.clickedCell.bind(this)}\n                                  enabled={(this.props.sort_by == \"class\")}\n                                  direction={this.props.sort_direction}/>\n          <TCEvaluationHeaderCell type=\"images\"\n                                  name=\"EXAMPLE IMAGES\"/>\n          {this.renderAccuracy()}\n          {this.renderPrecision()}\n          {this.renderRecall()}\n          {this.renderF1Score()}\n          <TCEvaluationHeaderCell type=\"amount\"\n                                  name=\"NUM TEST\"\n                                  onclick={this.clickNumTest.bind(this)}\n                                  enabled={(this.props.sort_by == \"train\")}\n                                  direction={this.props.sort_direction}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationHeader;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationRows from './TCEvaluationRows';\nimport TCEvaluationHeader from './TCEvaluationHeader';\n\nclass TCEvaluationTable extends Component {\n\n  maxValueNumTest = () => {\n    return Math.max.apply(Math, this.props.data.map(function(o) { return o.num_examples; }));\n  }\n\n  sortingColumns = (a,b) => {\n    // class sort\n    if(this.props.sort_by == \"class\" && this.props.sort_direction){\n      if(a.name > b.name){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"class\" && !this.props.sort_direction){\n      if(a.name < b.name){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"accuracy\" && this.props.sort_direction){\n      if((a.correct/a.incorrect) < (b.correct/b.incorrect)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"accuracy\" && !this.props.sort_direction){\n      if((a.correct/a.incorrect) > (b.correct/b.incorrect)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"precision\" && this.props.sort_direction){\n      if((a.precision) < (b.precision)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"precision\" && !this.props.sort_direction){\n      if((a.precision) > (b.precision)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"f1_score\" && this.props.sort_direction){\n      if((a.f1_score) < (b.f1_score)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"f1_score\" && !this.props.sort_direction){\n      if((a.f1_score) > (b.f1_score)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"recall\" && this.props.sort_direction){\n      if((a.recall) < (b.recall)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"recall\" && !this.props.sort_direction){\n      if((a.recall) > (b.recall)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"train\" && this.props.sort_direction){\n      if((a.num_examples) < (b.num_examples)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"train\" && !this.props.sort_direction){\n      if((a.num_examples) > (b.num_examples)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"test\" && this.props.sort_direction){\n      if((a.num_examples) < (b.num_examples)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"test\" && !this.props.sort_direction){\n      if((a.num_examples) > (b.num_examples)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    return 0;\n  }\n\n  selectClassName = () =>{\n    if(this.props.footer_open) {\n      return \"TCEvaluationTable TCEvaluationTableOpen\";\n    }else{\n      return \"TCEvaluationTable\";\n    }\n  }\n\n  render() {\n    const max_test = this.maxValueNumTest();\n    return (\n      <div className={this.selectClassName()}>\n          <TCEvaluationHeader accuracy_visible={this.props.accuracy_visible}\n                              precision_visible={this.props.precision_visible}\n                              f1_score_visible={this.props.f1_score_visible}\n                              recall_visible={this.props.recall_visible}\n                              updateSortDirection={this.props.updateSortDirection.bind(this)}\n                              updateSortBy={this.props.updateSortBy.bind(this)}\n                              sort_direction={this.props.sort_direction}\n                              sort_by={this.props.sort_by}\n                              />\n          {this.props.data.sort(this.sortingColumns).map((data, index) => {\n            return(<TCEvaluationRows data={data}\n                                     accuracy_visible={this.props.accuracy_visible}\n                                     precision_visible={this.props.precision_visible}\n                                     f1_score_visible={this.props.f1_score_visible}\n                                     recall_visible={this.props.recall_visible}\n                                     max_value={max_test}\n                                     selected={(this.props.filter_confusion == data.name)}\n                                     onclick={this.props.row_click.bind(this)} />)\n          })}\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationTable;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport * as d3 from \"d3\";\n\nimport TCEvaluationImageCells from '../../../TCEvaluationImageCells';\n\nclass TCEvaluationConfusionCell extends Component {\n\tconstructor(props){\n    super(props)\n    this.formatDecimal = d3.format(\".0f\") \n  }\n\n\trenderAmountLeft = () => {\n    if((this.props.value/this.props.max) >= 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#FFFFFF\"}}>\n          {this.formatDecimal(this.props.value)}\n        </div>\n      );\n    }\n  }\n\n  renderAmountRight = () => {\n    if((this.props.value/this.props.max) < 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#484856\"}}>\n          {this.formatDecimal(this.props.value)}\n        </div>\n      );\n    }\n  }\n\n  render() {\n  \tif(this.props.type == \"images\"){\n      return (\n        <div className=\"TCEvaluationConfusionCellImage\">\n          {this.props.value.map((data, index) => {\n            return(\n              <TCEvaluationImageCells value={data}/>\n            )\n          })}\n        </div>\n      );\n    }else if(this.props.type == \"percent\"){\n      return (\n        <div className=\"TCEvaluationConfusionCell\">\n         \n        </div>\n      );\n    }else if(this.props.type == \"amount\"){\n      return (\n        <div className=\"TCEvaluationCellsAmount\">\n          <div className=\"TCEvaluationCellsAmountShaded\"\n               style={{\"width\": (this.props.value/this.props.max)*100+\"%\"}}>\n               { this.renderAmountLeft() }\n          </div>\n          {this.renderAmountRight()}\n        </div>\n      );\n    }else{\n      return (\n        <div className=\"TCEvaluationConfusionCellText\">\n        \t{this.props.value}\n        </div>\n      );\n  \t}\n  }\n}\n\nexport default TCEvaluationConfusionCell;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationConfusionCell from './TCEvaluationConfusionCell';\n\nclass TCEvaluationConfusionRow extends Component {\n\n  render() {\n    return (\n      <div className=\"TCEvaluationConfusionRow\" onClick={this.props.selectRowConfusions.bind(this, this.props.consideration.actual, this.props.consideration.predicted)}>\n        <TCEvaluationConfusionCell type=\"text\" \n                                   value={this.props.consideration.actual}/>\n        <TCEvaluationConfusionCell type=\"text\"\n                                   value={this.props.consideration.predicted}/>\n        <TCEvaluationConfusionCell type=\"amount\"\n                                   value={this.props.consideration.count}\n                                   max={this.props.maxValue}/>\n        <TCEvaluationConfusionCell type=\"images\"\n                                   value={this.props.consideration.images}/>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationConfusionRow;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport down from './assets/down.svg';\nimport caret_down from './assets/caret-down.svg';\n\nclass TCEvaluationConfusionHeaderCell extends Component {\n\n  renderCaret = () => {\n    if(this.props.enabled){\n      if(this.props.direction){\n        return (\n          <div className=\"TCEvaluationConfusionHeaderCellDropDown\"\n               style={{\"transform\": \"rotate(180deg)\"}}>\n            <img src={caret_down}/>\n          </div>\n        )\n      }else{\n        return (\n          <div className=\"TCEvaluationConfusionHeaderCellDropDown\">\n            <img src={caret_down}/>\n          </div>\n        )\n      }\n    }else{\n      return (\n        <div className=\"TCEvaluationConfusionHeaderCellDropDown\">\n          <img src={down}/>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    if(this.props.type == \"images\"){\n      return (\n        <div className=\"TCEvaluationConfusionHeaderCellImages\">\n          {this.props.name}\n        </div>\n      );\n    }else if(this.props.type == \"percent\"){\n      return (\n        <div className=\"TCEvaluationConfusionHeaderCellPercent\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCaret()}\n        </div>\n      );\n    }else if(this.props.type == \"amount\"){\n      return (\n        <div className=\"TCEvaluationConfusionHeaderCellAmount\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCaret()}\n        </div>\n      );\n    }else{\n      return (\n        <div className=\"TCEvaluationConfusionHeaderCellText\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCaret()}\n        </div>\n      );\n    }\n  }\n}\n\nexport default TCEvaluationConfusionHeaderCell;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationConfusionHeaderCell from './TCEvaluationConfusionHeaderCells';\n\nclass TCEvaluationConfusionHeader extends Component {\n\n  clickActual = () => {\n    this.props.updateSortByConfusion(\"actual\")\n  }\n\n  clickPredicted = () => {\n    this.props.updateSortByConfusion(\"predicted\")\n  }\n\n  clickCount = () => { \n    this.props.updateSortByConfusion(\"count\")\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationConfusionHeader\">\n        <TCEvaluationConfusionHeaderCell name=\"ACTUAL CLASS\"\n                                         onclick={this.clickActual.bind(this)}\n                                         enabled={(this.props.sort_by_confusions == \"actual\")}\n                                         direction={!this.props.sort_direction_confusions} />\n        <TCEvaluationConfusionHeaderCell name=\"PREDICTED CLASS\"\n                                         onclick={this.clickPredicted.bind(this)}\n                                         enabled={(this.props.sort_by_confusions == \"predicted\")}\n                                         direction={!this.props.sort_direction_confusions}/>\n        <TCEvaluationConfusionHeaderCell name=\"NUMBER INCORRECT\"\n                                         type=\"percent\"\n                                         onclick={this.clickCount.bind(this)}\n                                         enabled={(this.props.sort_by_confusions == \"count\")}\n                                         direction={!this.props.sort_direction_confusions}/>\n        <TCEvaluationConfusionHeaderCell name=\"INCORRECT CLASSIFICATIONS\"\n                                         type=\"images\"/>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationConfusionHeader;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationConfusionRow from './TCEvaluationConfusionRow';\nimport TCEvaluationConfusionHeader from './TCEvaluationConfusionHeader';\n\nclass TCEvaluationConfusionTable extends Component {\n  \n  maxCount = () => {\n    return Math.max.apply(Math, this.props.considerations.map(function(o) { return o.count; }));\n  }\n\n  filterData = (element) => {\n    if(this.props.filter_confusion != null){\n      return element.actual == this.props.filter_confusion;\n    }else{\n      return true;\n    }\n  }\n\n  sortData = (a, b) => {\n    if(this.props.sort_by_confusions == \"actual\" && !this.props.sort_direction_confusions){\n      if((a.actual) > (b.actual)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by_confusions == \"actual\" && this.props.sort_direction_confusions){\n      if((a.actual) < (b.actual)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by_confusions == \"predicted\" && !this.props.sort_direction_confusions){\n      if((a.predicted) > (b.predicted)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by_confusions == \"predicted\" && this.props.sort_direction_confusions){\n      if((a.predicted) < (b.predicted)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by_confusions == \"count\" && !this.props.sort_direction_confusions){\n      if((a.count) > (b.count)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by_confusions == \"count\" && this.props.sort_direction_confusions){\n      if((a.count) < (b.count)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    return 0;\n  }\n\n  render() {\n    const max_value = this.maxCount();\n    return (\n      <div className=\"TCEvaluationConfusionTable\">\n        <div className=\"TCEvaluationConfusionTableContainer\">\n          <TCEvaluationConfusionHeader updateSortByConfusion={this.props.updateSortByConfusion.bind(this)}\n                                       sort_by_confusions={this.props.sort_by_confusions}\n                                       sort_direction_confusions={this.props.sort_direction_confusions}/>\n\n          {\n            this.props.considerations.filter(this.filterData).sort(this.sortData).map((consideration, index) => {\n              return(<TCEvaluationConfusionRow consideration={consideration} \n                                               selectRowConfusions={this.props.selectRowConfusions.bind(this)}\n                                               maxValue={max_value}/>);\n            })\n          }\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationConfusionTable;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport export_img from './assets/export.png';\n\nclass TCEvaluationImageComponent extends Component {\n  constructor(props){\n    super(props);\n    this.imgEl = React.createRef();\n    this.state = {\n      \"width\": \"auto\",\n      \"height\": \"auto\"\n    }\n  }\n\n  setHeight = () =>{\n    const imageWidth = this.imgEl.current.clientWidth;\n    const imageHeight = this.imgEl.current.clientHeight;\n    if(imageWidth > imageHeight){\n      this.setState({\"height\" : 130})\n    }else{\n      this.setState({\"width\" : 130})\n    }\n  }\n\n  render() {\n\n    return (\n      <div className=\"TCEvaluationImageComponent\">\n        <img src={\"data:image/\"+this.props.src.format+\";base64,\"+this.props.src.data}\n             className=\"TCEvaluationImageComponentImage\"\n             ref={this.imgEl}\n             width={this.state.width}\n             height={this.state.height}\n             onLoad={this.setHeight.bind(this)} />\n        <div className=\"TCEvaluationImageComponentExport\">\n          <img src={export_img}\n               width={10}\n               height={10} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationImageComponent;\n\n\n\n\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport right_arrow from './assets/right.svg';\n\nimport TCEvaluationImageComponent from '../TCEvaluationImageComponent';\n\nclass TCEvaluationImageViewerContainer extends Component {\n  render() {\n    return (\n      <div className=\"TCEvaluationImageViewerContainer\">\n        <div className=\"TCEvaluationImageViewerContainerImages\">\n          { \n            this.props.data.images.map((data, index) => {\n              return(\n                <div className=\"TCEvaluationImageComponentWrapper\">\n                  <TCEvaluationImageComponent src={data} />\n                </div>\n              )\n            })\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationImageViewerContainer;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport down_arrow from './assets/down.svg';\nimport cancel from './assets/cancel.svg';\nimport TCEvaluationConfusionTable from '../TCEvaluationConfusionTable';\nimport TCEvaluationImageViewerContainer from '../TCEvaluationImageViewerContainer';\n\nclass TCEvaluationFooter extends Component {\n\n  cssOpenStyleContainer = () => {\n    if(this.props.footer_open){\n      return {\"min-height\": parseInt((window.innerHeight/2), 10) + \"px\"}\n    }\n  }\n\n  cssOpenStyleIcon = () => {\n    if(this.props.footer_open){\n      return {\"transform\":\"rotate(-180deg)\"}\n    }\n  }\n\n  filterData = (element) => {\n    return element.actual == this.props.selected_actual && element.predicted == this.props.selected_prediction;\n  }\n\n  filterErrorData = (element) => {\n    if(this.props.filter_confusion != null){\n      return element.actual == this.props.filter_confusion;\n    }else{\n      return true;\n    }\n  }\n\n  render_table = () => {\n    if((this.props.selected_actual != null) && (this.props.selected_prediction != null)){\n      return (\n        <div>\n          <TCEvaluationImageViewerContainer reset={this.props.selectRowConfusions.bind(this, null, null)}\n                                            data={this.props.considerations.filter(this.filterData)[0]}/>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <TCEvaluationConfusionTable considerations={this.props.considerations}\n                                      filter_confusion={this.props.filter_confusion}\n                                      sort_by_confusions={this.props.sort_by_confusions}\n                                      sort_direction_confusions={this.props.sort_direction_confusions}\n                                      updateSortByConfusion={this.props.updateSortByConfusion.bind(this)}\n                                      selectRowConfusions={this.props.selectRowConfusions.bind(this)}/>\n        </div>\n      );\n    }\n  }\n\n  renderPill = (key, value) => {\n    return (\n      <div className=\"TCEvaluationFooterLabelIcon\">\n        <span>\n          {key} :&nbsp;\n        </span>\n        {value}\n        &nbsp;\n        &nbsp;\n        <img src={cancel} \n         onClick={this.resetFilter.bind(this)}/>\n        </div>\n    )\n  }\n\n  renderPredictedPill = (key, value) => {\n    return (\n      <div className=\"TCEvaluationFooterLabelIcon\">\n        <span>\n          {key} :&nbsp;\n        </span>\n        {value}\n        &nbsp;\n        &nbsp;\n        <img src={cancel} \n         onClick={this.props.selectRowConfusions.bind(this, null, null)}/>\n        </div>\n    )\n  }\n\n  resetFilter = () => {\n    this.props.row_click(null);\n  }\n\n  renderLabel = () => {\n    if(this.props.filter_confusion != null){\n      return(\n        <div className=\"TCEvaluationFooterLabel\">\n          {this.renderPill(\"Actual\", this.props.filter_confusion)}\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationFooter\"\n           style={this.cssOpenStyleContainer()}>\n        <div className=\"TCEvaluationFooterContainer\">\n          <div className=\"TCEvaluationFooterText\">\n            <div>\n              <div className=\"TCEvaluationErrorsPill\">\n                {this.props.considerations.filter(this.filterErrorData).length}\n              </div>\n              Errors\n            </div>\n            {this.renderLabel()}\n            <div className=\"TCEvaluationFooterLabel\">\n              {(this.props.selected_prediction != null)?this.renderPredictedPill(\"Predicted\", this.props.considerations.filter(this.filterData)[0].predicted):[]}\n            </div>\n          </div>\n          <div className=\"TCEvaluationFooterCarret\"\n               onClick={this.props.updateFooterOpen.bind(this)}>\n            <img src={down_arrow}\n                 className=\"TCEvaluationFooterCarretImage\"\n                 style={this.cssOpenStyleIcon()}/>\n          </div>\n        </div>\n        {this.render_table()}\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationFooter;\n","import React, { Component } from 'react';\n\nimport TCEvaluationOverview from './Components/TCEvaluationOverview';\nimport TCEvaluationTable from './Components/TCEvaluationTable';\nimport TCEvaluationFooter from './Components/TCEvaluationFooter';\n\nclass TCEvaluation extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      \"accuracy_visible\": true,\n      \"precision_visible\": false,\n      \"f1_score_visible\": false,\n      \"recall_visible\": false,\n      \"sort_by\": \"accuracy\",\n      \"sort_direction\": true,\n      \"incorrect_classification\": this.props.spec.label_metrics.reduce(function(map, data) {\n        map[data.label] = null;\n        return map;\n      }, {}),\n      \"correct_classification\":[],\n      \"filter_confusion\":null,\n      \"sort_by_confusions\": \"count\",\n      \"sort_direction_confusions\": false,\n      \"selected_actual_confusion\": null,\n      \"selected_actual_prediction\": null,\n      \"footer_open\": false\n    }\n  }\n\n  componentDidMount(){\n    if(window.navigator.platform === 'MacIntel'){\n      window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'ready'});\n      window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'getCorrects'});\n\n      this.props.spec.labels.map((value, index) => {\n        if(this.state.incorrect_classification[value] == null){\n          const previous_incorrect_dict = this.state.incorrect_classification\n          previous_incorrect_dict[value] = \"loading\"\n          this.setState({\"incorrect_classification\": previous_incorrect_dict})\n          if (window.navigator.platform == 'MacIntel') {\n            window.webkit.messageHandlers[\"scriptHandler\"].postMessage({ \n              \"status\": 'getIncorrects',\n              \"label\": value + \"\"\n            });\n          }\n        }\n      });\n\n      this.loadIncorrect()\n    }\n  }\n\n  updateData(data) {\n    if(\"incorrects\" in data){\n      const inc_class = data[\"incorrects\"];\n      const previous_incorrect_dict = this.state.incorrect_classification;\n      previous_incorrect_dict[inc_class[\"target\"]] = inc_class[\"data\"];\n      this.setState({\"incorrect_classification\": previous_incorrect_dict})\n    }\n\n    if(\"correct\" in data){\n      this.setState({\"correct_classification\": data[\"correct\"]})\n    }\n  }\n\n  loadIncorrect = () => {\n    if(this.state.selected_label != null) {\n      if(this.state.incorrect_classification[this.state.selected_label] == null){\n        const previous_incorrect_dict = this.state.incorrect_classification\n        previous_incorrect_dict[this.state.selected_label] = \"loading\"\n        this.setState({\"incorrect_classification\": previous_incorrect_dict})\n        if (window.navigator.platform == 'MacIntel') {\n          window.webkit.messageHandlers[\"scriptHandler\"].postMessage({ \n            \"status\": 'getIncorrects',\n            \"label\": this.state.selected_label + \"\"\n          });\n        }\n      }\n    }\n  }\n    \n  updateSortDirection = () => {\n    this.setState({\"sort_direction\": !this.state.sort_direction})\n  }\n\n  updateSortBy = (value) => {\n    this.setState({\"sort_by\": value})\n  }\n\n  updateSortByConfusion = (value) => {\n    this.setState({\n      \"sort_by_confusions\": value,\n      \"sort_direction_confusions\": !this.state.sort_direction_confusions\n    });\n  }\n\n  updateFooterOpen = () => {\n    this.setState({\n      footer_open:!this.state.footer_open\n    });\n  }\n\n  setFooterOpen = () => {\n    this.setState({\n      footer_open:true\n    });\n  }\n\n  summarySeedData = () => {\n    return this.props.spec.label_metrics.map((data, index) => {\n\n        var dataArr = {\n          name: data.label,\n          num_examples: data.count,\n          correct: data.correct_count,\n          incorrect: (data.count - data.correct_count),\n          f1_score: (2*(data.recall * data.precision))/(data.recall + data.precision),\n          precision: data.precision,\n          recall: data.recall,\n          correct_images: []\n        }\n\n        var correct_data = []\n        for(var x = 0; x < this.state.correct_classification.length; x++){\n          if(this.state.correct_classification[x][\"target\"] == data.label){\n            correct_data = this.state.correct_classification[x][\"images\"]\n          }\n        }\n\n        dataArr[\"correct_images\"] = correct_data;\n        return dataArr;\n    });\n  }\n\n  totalCorrect = () => {\n    var correct_num = 0;\n    for(var x = 0; x< this.props.spec.label_metrics.length; x++){\n      correct_num += this.props.spec.label_metrics[x].correct_count\n    }\n    return correct_num;\n  }\n\n  totalNum = () => {\n    var total_num = 0;\n    for(var x = 0; x< this.props.spec.label_metrics.length; x++){\n      total_num += this.props.spec.label_metrics[x].count\n    }\n    return total_num;\n  }\n\n  changeAccuracy = () =>{\n    this.setState({accuracy_visible: !this.state.accuracy_visible})\n  }\n\n  changeF1Score = () =>{\n    this.setState({f1_score_visible: !this.state.f1_score_visible})\n  }\n\n  changePrecision = () =>{ \n    this.setState({precision_visible: !this.state.precision_visible})\n  }\n\n  changeRecall = () =>{\n    this.setState({recall_visible: !this.state.recall_visible})\n  }\n\n  createConsiderations = () => {\n    const incorrect_keys = Object.keys(this.state.incorrect_classification);\n    var considerations_array = [];\n\n    for(var k = 0; k < incorrect_keys.length; k++){\n      const current_val = this.state.incorrect_classification[incorrect_keys[k]]\n      if(current_val != null && current_val != \"loading\"){\n        for(var x = 0; x < current_val.length; x++){\n          considerations_array.push(\n            {\n              \"actual\": incorrect_keys[k],\n              \"predicted\": current_val[x].label,\n              \"images\": current_val[x].images,\n              \"count\": current_val[x].images.length\n            }\n          )\n        }\n      }\n    }\n\n    return considerations_array;\n  }\n\n  updatedSelectedRow = (value) =>{\n    if(value !== null){\n      this.setFooterOpen();\n    }\n\n    this.setState({\"filter_confusion\": value})\n  }\n\n  selectRowConfusions = (actual, predicted) => {\n    this.setState({\n      \"selected_actual_confusion\": actual,\n      \"selected_actual_prediction\": predicted\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluation\">\n        <TCEvaluationOverview accuracy={this.props.spec.accuracy}\n                              iterations={this.props.spec.max_iterations}\n                              precision={this.props.spec.precision}\n                              recall={this.props.spec.recall}\n                              model_type={\"Resnet-50\"}\n                              accuracy_visible={this.state.accuracy_visible}\n                              precision_visible={this.state.precision_visible}\n                              f1_score_visible={this.state.f1_score_visible}\n                              recall_visible={this.state.recall_visible}\n                              changeAccuracy={this.changeAccuracy.bind(this)}\n                              changePrecision={this.changePrecision.bind(this)}\n                              changeRecall={this.changeRecall.bind(this)}\n                              changeF1Score={this.changeF1Score.bind(this)}\n                              total_correct={this.totalCorrect()}\n                              total_num={this.totalNum()} />\n        <TCEvaluationTable data={this.summarySeedData()}\n                           accuracy_visible={this.state.accuracy_visible}\n                           precision_visible={this.state.precision_visible}\n                           f1_score_visible={this.state.f1_score_visible}\n                           recall_visible={this.state.recall_visible}\n                           sort_by={this.state.sort_by}\n                           sort_direction={this.state.sort_direction}\n                           updateSortDirection={this.updateSortDirection.bind(this)}\n                           updateSortBy={this.updateSortBy.bind(this)}\n                           filter_confusion={this.state.filter_confusion}\n                           footer_open={this.state.footer_open}\n                           row_click={this.updatedSelectedRow.bind(this)}\n                            />\n        <TCEvaluationFooter considerations={this.createConsiderations()}\n                            filter_confusion={this.state.filter_confusion}\n                            sort_by_confusions={this.state.sort_by_confusions}\n                            sort_direction_confusions={this.state.sort_direction_confusions}\n                            row_click={this.updatedSelectedRow.bind(this)}\n                            updateSortByConfusion={this.updateSortByConfusion.bind(this)}\n                            selectRowConfusions={this.selectRowConfusions.bind(this)}\n                            selected_actual={this.state.selected_actual_confusion}\n                            selected_prediction={this.state.selected_actual_prediction}\n                            footer_open={this.state.footer_open}\n                            updateFooterOpen={this.updateFooterOpen.bind(this)}\n                            />\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluation;\n","var LabelType = {\n  INTEGER:0,\n  STRING: 1,\n};\n  \nObject.freeze(LabelType);\n\nexport const LabelType = LabelType;","import React, { Component } from 'react';\nimport style from './index.module.scss';\nimport { isRegExp } from 'util';\nimport { LabelType } from '../../utils';\n\nclass ImageContainer extends Component {\n  constructor(props) {\n    super(props);\n\t}\n\t\n\timage_click = () =>{\n\t\tthis.props.toggleInfiniteScroll();\n\t\tthis.props.updateIncrementalCurrentIndex(this.props.value);\n\t}\n\n\trenderAnnotation = () => {\n\t\tif(this.props.type == LabelType.INTEGER && Number.isInteger(this.props.annotation)) {\n\t\t\treturn (\n\t\t\t\t<div className={style.ImageLabel}>\n\t\t\t\t\t{this.props.annotation}\n\t\t\t\t</div>\n\t\t\t)\n\t\t}else if(this.props.annotation){\n\t\t\treturn (\n\t\t\t\t<div className={style.ImageLabel}>\n\t\t\t\t\t{this.props.annotation}\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n  render() {\n\t\tif (this.props.src) {\n\t\t\treturn(\n\t\t\t\t<div className={`${style.ImageContainer} ${style.realImage}`}\n\t\t\t\t\t\t onClick={this.image_click.bind(this)}>\n\t\t\t\t\t<img src={this.props.src}/>\n\t\t\t\t\t{this.renderAnnotation()}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn(\n\t\t\t\t<div className={style.ImageContainer}>\n\t\t\t\t\t<div class={`${style.bounce1} ${style.bouncer}`}></div>\n\t\t\t\t\t<div class={`${style.bounce2} ${style.bouncer}`}></div>\n\t\t\t\t\t<div class={`${style.bounce2} ${style.bouncer}`}></div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ImageContainer;  ","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nimport ImageContainer from './ImageContainer';\n\nimport imgProperties from './ImageContainer/index.module.scss';\nimport { of } from 'rxjs';\n\n// has to be a multiple of 3 to work properly\nconst CELL_PADDING = 3;\n\nclass InfiniteScroll extends Component {\n  constructor(props) {\n    super(props);\n    this.currentComponent = React.createRef()\n    this.state = {\n      componentHeight: window.innerHeight,\n      componentWidth: window.innerWidth,\n      startValue:0,\n      enableScroll: true\n    }\n  }\n\n  componentDidMount() {\n    this.updateDimensions();\n    const scaling = this.numRenderedbox();\n    const tempEndVal = scaling.numX * (scaling.numY + 2 * CELL_PADDING) + this.state.startValue;\n    const endVal = (tempEndVal > this.props.numElements)?this.props.numElements:tempEndVal;\n    this.props.getData(this.state.startValue, endVal);\n    this.props.getAnnotations(this.state.startValue, endVal);\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  updateDimensions = () => {\n    const $this = this;\n    // This is measuring the DOM so we need to wait for the previous render\n    window.requestAnimationFrame(function() {\n      $this.setState({\n        componentHeight: $this.currentComponent.current.getBoundingClientRect().height,\n        componentWidth: $this.currentComponent.current.getBoundingClientRect().width\n      });\n    });\n  }\n\n  handleScroll = (event) => {\n    if(this.state.enableScroll){\n      const imgSize = parseInt(imgProperties.imgSize, 10);\n      const imgMargin = parseInt(imgProperties.imgMargin, 10);\n      const imgOffset = 2 * imgMargin + imgSize;\n\n      const scrollOffset = (imgOffset * CELL_PADDING)\n      \n      // Paragraph comment on how this works\n      const scrollDownTrigger = (imgOffset * (5 / 3) * CELL_PADDING);\n      const scrollUpTrigger = (imgOffset * (1 / 3) * CELL_PADDING);\n      \n      const scaling = this.numRenderedbox();\n      const endValue = scaling.numX * (scaling.numY + 2 * CELL_PADDING) + this.state.startValue;\n      \n      if(endValue < this.props.numElements) {\n        if(scrollDownTrigger < this.currentComponent.current.scrollTop){\n          this.setState({\n            startValue: (scaling.numX * CELL_PADDING) + this.state.startValue,\n            enableScroll: false\n          }, function(){\n            const tempEndVal = scaling.numX * (scaling.numY + 2 * CELL_PADDING) + this.state.startValue;\n            const endVal = (tempEndVal > this.props.numElements)?this.props.numElements:tempEndVal;\n            this.props.getData(this.state.startValue, endVal);\n            this.props.getAnnotations(this.state.startValue, endVal);\n            // look into this work around\n            this.currentComponent.current.scrollBy(0, -scrollOffset);\n            // change this into a property rather than a state\n            this.setState({\n              enableScroll: true\n            })\n          }, this);\n        }\n      }\n      \n      if(this.state.startValue > 0) {\n        if(scrollUpTrigger > this.currentComponent.current.scrollTop){\n          const startVal = this.state.startValue - (scaling.numX * CELL_PADDING)\n          this.setState({\n            startValue: (startVal < 0)?0:startVal,\n            enableScroll: false\n          }, function(){\n            this.currentComponent.current.scrollBy(0, scrollOffset);\n            const tempEndVal = scaling.numX * (scaling.numY + 2 * CELL_PADDING) + this.state.startValue;\n            const endVal = (tempEndVal > this.props.numElements)?this.props.numElements:tempEndVal;\n            this.props.getData(this.state.startValue, endVal);\n            this.props.getAnnotations(this.state.startValue, endVal);\n            this.setState({\n              enableScroll: true\n            })\n          }, this);\n        }\n      }\n    }\n  }\n\n  numRenderedbox = () => {\n    const imgSize = parseInt(imgProperties.imgSize, 10);\n    const imgMargin = parseInt(imgProperties.imgMargin, 10);\n    const imgOffset = 2 * imgMargin + imgSize;\n    \n    return {\n      numX: Math.floor((this.state.componentWidth)/imgOffset),\n      numY: Math.floor((this.state.componentHeight)/imgOffset)\n    }\n  }\n\n  renderBoxes = () => {\n    var boxes = [];    \n    const scaling = this.numRenderedbox();\n    const tempEndVal = scaling.numX * (scaling.numY + 2 * CELL_PADDING) + this.state.startValue;\n    const endValue = (tempEndVal > this.props.numElements)?this.props.numElements:tempEndVal;\n    \n    // TODO: filter annotation  array use `x` as index into the array\n    for(var x = this.state.startValue; x < endValue; x++ ){\n      boxes.push(<ImageContainer key={`images_${x}`}\n                                 src={this.props.imageData[x]}\n                                 annotation={this.props.annotationData[x]}\n                                 toggleInfiniteScroll={this.props.toggleInfiniteScroll.bind(this)}\n                                 updateIncrementalCurrentIndex={this.props.updateIncrementalCurrentIndex.bind(this)}\n                                 type={this.props.type}\n                                 value={x}/>)\n    }\n    return boxes;\n  }\n\n  render() {\n    return (\n      <div className={style.InfiniteScroll}\n           ref={this.currentComponent}\n           onScroll={this.handleScroll}>\n        {this.renderBoxes()}\n      </div>\n    );\n  }\n}\n\nexport default InfiniteScroll;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\t\nclass ToggleButton extends Component {\n  render() {\n    var NibClasses = style.ToggleButtonNib\n    var BackgroundClasses = style.ToggleButton\n\t\t\n    if(this.props.hideAnnotated){\n      NibClasses = style.Toggled\n      BackgroundClasses = style.ToggleButtonOn\n    }\n\t\n    return (\n\t\t\t<div className={BackgroundClasses} \n\t\t\t\t\t onClick={this.props.toggleHideAnnotated.bind(this)}>\n\t\t\t\t<div className={NibClasses} \n\t\t\t\t     onClick={this.props.toggleHideAnnotated.bind(this)}>\n\t\n        </div>\n      </div>\n    );\n  }\n}\n\t\nexport default ToggleButton;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nimport ToggleButton from './ToggleButton/index';\n\nimport swap from './assets/swap.svg';\n\nclass StatusBar extends Component {\n  render(){\n    return (\n      <div className={style.StatusBar}>\n        <div className={style.StatusBarMetrics}>\n            Total: {this.props.total} | Annotated: {this.props.annotated}\n        </div>\n        <div>\n            <img src={swap}\n                 className={style.SwapButton}\n                 onClick={this.props.toggleInfiniteScroll.bind(this)}/>\n            <ToggleButton hideAnnotated={this.props.hideAnnotated}\n                          toggleHideAnnotated={this.props.toggleHideAnnotated.bind(this)}/>\n            <div className={style.SwapButtonHelperText}>\n                Hide Annotated image\n            </div>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default StatusBar;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nclass ImageLabeler extends Component {\n\n\n  render() {\n\n    if (this.props.src) {\n      return(\n        <div className={style.ImageLabeler}>\n          <div className={style.Image}>\n            <img src={this.props.src}/>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n      <div className={style.ImageLabeler}>\n        <div className={style.Image}>\n            <div className={style.ImageLoadingHolder}>\n                <div className={style.bounce1}></div>\n                <div className={style.bounce2}></div>\n                <div className={style.bounce3}></div>\n            </div>\n        </div>\n      </div>\n    );\n    }\n\n\n    \n  }\n}\n\nexport default ImageLabeler;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nimport leftArrow from './assets/left_arrow.svg';\nimport rightArrow from './assets/right_arrow.svg';\nimport ImageLabeler from './ImageLabeler/index'\n\nclass SingleImage extends Component {\n\n  componentDidMount() {\n    this.props.getData(0, 1);\n  }\n\n  decrementIndex = () => {\n    if (this.props.incrementalCurrentIndex > 0) {\n      this.props.updateIncrementalCurrentIndex(this.props.incrementalCurrentIndex - 1);\n      this.props.getData((this.props.incrementalCurrentIndex - 2), this.props.incrementalCurrentIndex);\n      this.props.getAnnotations((this.props.incrementalCurrentIndex - 2), this.props.incrementalCurrentIndex);\n    }\n  }\n\n  incrementIndex = () => {\n    if (this.props.incrementalCurrentIndex < (this.props.numElements - 1)) {\n      this.props.updateIncrementalCurrentIndex(this.props.incrementalCurrentIndex + 1);\n      this.props.getData(this.props.incrementalCurrentIndex, (this.props.incrementalCurrentIndex + 2));\n      this.props.getAnnotations(this.props.incrementalCurrentIndex, (this.props.incrementalCurrentIndex + 2));\n    }\n  }\n\n  render() {\n    return (\n      <div className={style.SingleImage}>\n        <div className={style.SingleImageContainer}>\n            <div className={style.LeftArrow}\n                 onClick={this.decrementIndex.bind(this)}>\n                <img src={leftArrow} />\n            </div>\n            <ImageLabeler src={this.props.src}/>\n            <div className={style.RightArrow}\n                 onClick={this.incrementIndex.bind(this)}  >\n                <img src={rightArrow} />\n            </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SingleImage;","import React, { Component } from 'react';\nimport styles from './index.module.scss';\n\t\nclass ProgressBar extends Component {\n\trender() {\n\t  const css_gradient = {\n\t    \"background\": \"-webkit-linear-gradient(left, #3b99fc 0%,#3b99fc \"+parseInt(this.props.percent, 10)+\"%,#ededeb \"+parseInt(this.props.percent, 10)+\"%,#ededeb 100%)\",\n\t    \"background\": \"linear-gradient(to right, #3b99fc 0%,#3b99fc \"+parseInt(this.props.percent, 10)+\"%,#ededeb \"+parseInt(this.props.percent, 10)+\"%,#ededeb 100%)\"\n\t  };\n\t\n\t  return (\n\t    <div style={css_gradient} className={styles.ProgressBar}>\n\t    </div>\n\t  );\n\t}\n}\n\t\nexport default ProgressBar;","import React, { Component } from 'react';\nimport styles from './index.module.scss';\nimport ProgressBar from './ProgressBar';\n\t\nclass Label extends Component {\n  render() {\n    const percent_gradient \n    = this.props.num_annotated * 100.0 / this.props.num_expected;\n\t\n\t  var classes = [\n\t    styles.Label\n\t\t]\n\n\t  if(this.props.active &&  !this.props.infiniteScroll){\n\t    classes.push(styles.LabelSelected);\n\t  }\n\n\t  return (\n\t    <div className={classes.join(\" \")}>\n\t      <div className={styles.LabelSpacer}>\n\t        <div className={styles.LabelNameAmount}>\n\t          <div className={styles.LabelName}>\n\t            <span title={this.props.name}>{this.props.name}</span>\n\t          </div>\n\t          <div className={styles.LabelAnnotatedAmount}>\n\t            <span>{this.props.num_annotated}/{this.props.num_expected}</span>\n\t          </div>\n\t        </div>\n\t        <div className={styles.LabelApplyButton}\n\t        \t \t onClick={this.props.onClick.bind(this)}>\n\t          <span>\n\t            Apply\n\t          </span>\n\t        </div>\n\t        <div>\n\t          <ProgressBar percent={percent_gradient}/>\n\t        </div>\n\t      </div>\n\t    </div>\n\t  );\n\t}\n}\n\t\nexport default Label;","import React, { Component } from 'react';\nimport styles from './index.module.scss';\n\t\nimport Labels from './Labels';\n\t\nclass LabelContainer extends Component {\n\n  renderLabels = () => {\n    \n  }\n\n  setAnnotation = (name) => {\n    if(!this.props.infiniteScroll){\n      this.props.setAnnotation(this.props.incrementalCurrentIndex, name);\n    }\n  }\n\n  checkActive = (name) => {\n    return this.props.annotationData[this.props.incrementalCurrentIndex] == name;\n  }\n\n  render() {\n    return (\n      <div className={styles.LabelContainer}>\n      \t<div className={styles.LabelHeader}>\n      \t\tLabels\n      \t</div>\n      \t<div className={styles.LabelButtonContainer}>\n      \t\t{\n            this.props.labels.map((x) => \n              <Labels active={this.checkActive(x.name)}\n                      name={x.name}\n                      infiniteScroll={this.props.infiniteScroll}\n                      onClick={this.setAnnotation.bind(this, x.name)}\n                      num_annotated={x.num_annotated}\n                      num_expected={x.num_expected}/>\n            )\n          }\n      \t</div>\n      \t<div className={styles.LabelAddLabelContainer}>\n      \t\t<button className={styles.LabelAddLabel}\n                  onClick={this.props.openLabelModal.bind(this)}>\n      \t\t\t+ Add New Label\n      \t\t</button>\n      \t</div>\n      </div>\n    );\n  }\n}\n\t\nexport default LabelContainer;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nclass LabelModal extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderError = () => {\n    {/* TODO: plumb error into the system */}\n    if(this.props.error){\n      return this .props.error;\n    }else{\n      return '\\xa0';\n    }\n  }\n  \n  render() {\n    return (\n      <div>\n        <div className={style.LabelModal}\n              onClick={this.props.closeLabelModal.bind(this)}>\n          Label Modal\n        </div>\n        <div className={style.modalWindow}>\n          <div className={style.modalWindowHeader}>\n            Add Labels\n          </div>\n          <div className={style.modalWindowDescription}>\n            Add a label to annotate your data with.\n          </div>\n          <div>\n            <div className={style.errorMessage}>\n              {this.renderError()}\n            </div>\n            <input type=\"text\"\n                   className={style.modalInput}\n                   placeholder=\"Annotation Label\"\n                   onChange={this.props.handleEventLabelModalValue.bind(this)}/>\n          </div>\n          <div className={style.buttonContainer}>\n            <button className={style.createButton}\n                    onClick={this.props.createLabel.bind(this, this.props.LabelModalValue)}>\n              Create\n            </button>\n            <button className={style.cancelButton}\n                    onClick={this.props.closeLabelModal.bind(this)}>\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LabelModal;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nimport error from './assets/error.svg';\n\n/* TODO: Design Better Error Message Compornent */\nclass ErrorBar extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n    }\n  }\n  render() {\n    return (\n      <div className={style.ErrorBar}>\n        <img src={error} className={style.ErrorIcon}/>\n        <div className={style.ErrorMessage}>\n          {this.props.message}\n        </div>\n        <div className={style.ErrorClose}\n             onClick={this.props.clearError}>\n          close\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ErrorBar;\n","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nimport { Root } from 'protobufjs';\nimport messageFormat from '../../format/message';\n\nimport InfiniteScroll from './InfiniteScroll';\nimport StatusBar from './StatusBar';\nimport SingleImage from './SingleImage';\nimport LabelContainer from './LabelContainer';\nimport LabelModal from './LabelModal';\nimport ErrorBar from './ErrorBar';\nimport { LabelType } from './utils';\n\nconst DEFAULT_NUM_EXPECTED = 10;\nconst CACHE_SIZE = 1000;\n\n/* TODO: Indicator to Show how many Images were Annotated */\n/* TODO: Render Labels on Images */\n\nclass Annotate extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      infiniteScroll: false,\n      hideAnnotated: false,\n      labelModal: false,\n      totalError: \"\",\n      labelCreationError: null,\n      incrementalCurrentIndex: 0,\n      LabelModalValue: \"\",\n      imageData: {},\n      annotationData: {},\n      labels:[],\n      type:null\n    }\n  }\n\n  componentDidMount() {\n    var labeltype;\n    var propLabels = this.props.metadata.imageClassification.label;\n\n    if (propLabels.length > 0) {\n      if(Object.keys(propLabels[0]).includes(\"stringLabel\")){\n        labeltype = LabelType.STRING;\n      }else{\n        labeltype = LabelType.INTEGER;\n      }\n    } else {\n      labeltype = LabelType.STRING;\n    }\n\n    if (labeltype == LabelType.STRING) {\n      propLabels = propLabels.filter(label => label.stringLabel != \"\");\n    }\n    \n    const labels = propLabels.map((x) => {\n      return {\n        name: (labeltype == LabelType.INTEGER)?x.intLabel:x.stringLabel,\n        num_annotated: x.elementCount,\n        num_expected: DEFAULT_NUM_EXPECTED\n      }\n    });\n\n    this.setState({\n      labels: labels,\n      type: labeltype\n    });\n  }\n\n  cleanCache = (start, end) => {\n    if (Object.keys(this.state.imageData).length > CACHE_SIZE) {\n      var sorted_keys = Object.keys(this.state.imageData).sort();\n      var lower_bound = sorted_keys[0];\n      var upper_bound = sorted_keys[sorted_keys.length - 1];\n\n      var intermediate_check = parseInt(((end - start)/2), 10);\n      if((Math.abs(intermediate_check - lower_bound)) > (Math.abs(intermediate_check - upper_bound))){\n        var delete_keys = sorted_keys.slice(lower_bound, (lower_bound + (end - start)));\n        const imgData = this.state.imageData;\n        for(var x = 0; x < delete_keys.length; x++){\n          delete imgData[delete_keys[x]];\n        }\n        this.setState({\n          imageData: imgData\n        });\n      }else{\n        var delete_keys = sorted_keys.slice((upper_bound - (end - start)), upper_bound);\n        const imgData = this.state.imageData;\n        for(var x = 0; x < delete_keys.length; x++){\n          delete imgData[delete_keys[x]];\n        }\n        this.setState({\n          imageData: imgData\n        });\n      }\n    }\n  }\n\n  getData = (start, end) => {\n    this.cleanCache(start, end);\n    this.getAnnotations(start, end);\n    this.getHelper(start, end, 0);\n  }\n\n  getAnnotations = (start, end) => {\n    this.getHelper(start, end, 1);\n  }\n\n  getHelper = (start, end, type) => {\n    const root = Root.fromJSON(messageFormat);\n    const ParcelMessage = root.lookupType(\"TuriCreate.Annotation.Specification.ClientRequest\");\n    const payload = {\"getter\": {\"type\": type, \"start\": start, \"end\": end}};\n    const err = ParcelMessage.verify(payload);\n    if (err)\n      throw Error(err);\n    \n    const message = ParcelMessage.create(payload);\n    const buffer = ParcelMessage.encode(message).finish();\n    const encoded = btoa(String.fromCharCode.apply(null, buffer));\n\n    if (window.navigator.platform == 'MacIntel') {\n      window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'writeProtoBuf', message: encoded});\n    } else {\n      window.postMessageToNativeClient(encoded);\n    }\n  }\n\n  setAnnotationData = (key, value) => {\n    var previousAnnotationData = this.state.annotationData;\n\n    if (this.state.type == LabelType.STRING) {\n      previousAnnotationData[key] = value.stringLabel;\n    } else if(this.state.type == LabelType.INTEGER) {\n      previousAnnotationData[key] = value.intLabel;\n    }\n\n    this.setState({\n      annotationData: previousAnnotationData\n    });\n  }\n\n  setImageData = (key, value) => {\n    var previousImageData = this.state.imageData;\n    previousImageData[key] = value;\n    this.setState({\n      imageData: previousImageData\n    });\n  }\n\n  clearError = () => {\n    this.setState({\n      totalError: \"\"\n    });\n  }\n\n  updateIncrementalCurrentIndex = (index) => {\n    this.setState({\n      incrementalCurrentIndex: index\n    })\n  }\n\n  handleEventLabelModalValue = (e) => {\n    this.setState({\n      LabelModalValue: e.target.value\n    });\n  }\n  \n  openLabelModal = () => {\n    this.setState({\n      labelCreationError: null,\n      labelModal: true,\n      LabelModalValue: \"\"\n    });\n  }\n\n  closeLabelModal = () => {\n    this.setState({\n      labelCreationError: null,\n      labelModal: false,\n      LabelModalValue: \"\"\n    });\n  }\n\n  createLabel = (label) => {\n    const notDuplicateLabel = this.state.labels.map(l => (l.name != label))\n                                            .reduce((acc, b) => (acc && b), true);\n\n    if(!notDuplicateLabel){\n      this.setState({\n        labelCreationError: `${label} already exists as a label name`\n      });\n      return;\n    }\n\n    var mutatorLabels = this.state.labels;\n    \n    mutatorLabels.push({\n      name: label,\n      num_annotated: 0,\n      num_expected: DEFAULT_NUM_EXPECTED\n    });\n\n    this.setState({\n      labels: mutatorLabels,\n      labelCreationError: null,\n      labelModal: false,\n      LabelModalValue: \"\"\n    });\n  }\n\n  toggleInfiniteScroll = () => {\n    this.setState({\n      infiniteScroll: !this.state.infiniteScroll\n    });\n  }\n\n  toggleHideAnnotated = () => {\n    this.setState({\n      hideAnnotated: !this.state.hideAnnotated\n    });\n  }\n\n  setAnnotation = (rowIndex, labels) => {\n    var previousAnnotationData = this.state.annotationData;\n    var previousLabelData = this.state.labels;\n    var previousLabel = previousAnnotationData[rowIndex];\n\n    if(previousLabel == labels){\n      return;\n    }\n\n    if(previousLabel != null){\n      for (var x = 0; x < previousLabelData.length; x++) {\n        if(this.state.labels[x].name == previousLabel) {\n          var tempLabel = previousLabelData[x];\n          tempLabel.num_annotated -= 1;\n          previousLabelData[x] = tempLabel;\n        }\n\n        if(this.state.labels[x].name == labels){\n          var tempLabel = previousLabelData[x];\n          tempLabel.num_annotated += 1;\n          previousLabelData[x] = tempLabel;\n        }\n      }\n    }\n\n    if (this.state.type == LabelType.STRING) {\n      previousAnnotationData[rowIndex] = labels;\n    } else if(this.state.type == LabelType.INTEGER) {\n      previousAnnotationData[rowIndex] = parseInt(labels, 10);\n    }\n\n\n    const root = Root.fromJSON(messageFormat);\n    const ParcelMessage = root.lookupType(\"TuriCreate.Annotation.Specification.ClientRequest\");\n    \n    var payload;\n\n    if (this.state.type == LabelType.STRING) {\n      payload = {\"annotations\": {\"annotation\":[{\"labels\": [{\"stringLabel\": labels}], \"rowIndex\": [rowIndex]}]}};\n    } else {\n      payload = {\"annotations\": {\"annotation\":[{\"labels\": [{\"intLabel\": parseInt(labels, 10)}], \"rowIndex\": [rowIndex]}]}};\n    }\n\n    const err = ParcelMessage.verify(payload);\n    \n    if (err)\n      throw Error(err);\n\n    const message = ParcelMessage.create(payload);\n    const buffer = ParcelMessage.encode(message).finish();\n    const encoded = btoa(String.fromCharCode.apply(null, buffer));\n\n    if (window.navigator.platform == 'MacIntel') {\n      window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'writeProtoBuf', message: encoded});\n    } else {\n      window.postMessageToNativeClient(encoded);\n    }\n\n    this.setState({\n      annotationData: previousAnnotationData,\n      labels:previousLabelData\n    });\n  }\n\n  renderMainContent = () => {\n    if(this.state.infiniteScroll) {\n      return (\n        <InfiniteScroll numElements={this.props.metadata.numExamples}\n                        hideAnnotated={this.state.hideAnnotated}\n                        incrementalCurrentIndex={this.state.incrementalCurrentIndex}\n                        updateIncrementalCurrentIndex={this.updateIncrementalCurrentIndex.bind(this)}\n                        toggleInfiniteScroll={this.toggleInfiniteScroll.bind(this)}\n                        imageData={this.state.imageData}\n                        annotationData={this.state.annotationData}\n                        getData={this.getData.bind(this)}\n                        type={this.state.type}\n                        getAnnotations={this.getAnnotations.bind(this)} />\n      );\n    } else {\n      return (\n        <SingleImage src={this.state.imageData[this.state.incrementalCurrentIndex]}\n                     getData={this.getData.bind(this)}\n                     getAnnotations={this.getAnnotations.bind(this)}\n                     numElements={this.props.metadata.numExamples}\n                     incrementalCurrentIndex={this.state.incrementalCurrentIndex}\n                     updateIncrementalCurrentIndex={this.updateIncrementalCurrentIndex.bind(this)}/>\n      );\n    }\n  }\n\n  renderModal = () => {\n    if(this.state.labelModal){\n      return(\n        <LabelModal closeLabelModal={this.closeLabelModal.bind(this)}\n                    createLabel={this.createLabel.bind(this)}\n                    error={this.state.labelCreationError}\n                    LabelModalValue={this.state.LabelModalValue}\n                    handleEventLabelModalValue={this.handleEventLabelModalValue.bind(this)}/>\n      )\n    }\n  }\n\n  renderError = () => {\n    if(this.state.totalError){\n      return (<ErrorBar message={this.state.totalError}\n                        clearError={this.clearError.bind(this)}/>);\n    }\n  }\n\n  render() {\n    return (\n      <div className={style.Annotate}>\n        {this.renderModal()}\n        {this.renderError()}\n        <div>\n            {/* Add Annotated to Protobuf Message */}\n            <StatusBar annotated={12}\n                       total={this.props.total}\n                       infiniteScroll={this.state.infiniteScroll}\n                       toggleInfiniteScroll={this.toggleInfiniteScroll.bind(this)}\n                       hideAnnotated={this.state.hideAnnotated}\n                       toggleHideAnnotated={this.toggleHideAnnotated.bind(this)}/>\n\n            {this.renderMainContent()}\n        </div>\n        <div className={style.leftBar}>\n        <LabelContainer labels={this.state.labels}\n                        incrementalCurrentIndex={this.state.incrementalCurrentIndex}\n                        infiniteScroll={this.state.infiniteScroll}\n                        setAnnotation={this.setAnnotation.bind(this)}\n                        openLabelModal={this.openLabelModal.bind(this)}\n                        closeLabelModal={this.closeLabelModal.bind(this)}\n                        annotationData={this.state.annotationData}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Annotate;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport TcPlot from './elements/Plot/Chart/index.js';\nimport TcSummary from './elements/Plot/Summary/index.js';\nimport TcTable from './elements/Explore/Table/index.js';\nimport TCEvaluation from './elements/Explore/Evaluation/index.js';\n\nimport messageFormat from './format/message';\n\nimport { load, Root } from 'protobufjs';\n\nimport TCAnnotate from './elements/Annotate';\n\nvar command_down = 0;\nvar body_zoom = 100;\n\nvar LEFT_COMMAND_KEY = 91;\nvar RIGHT_COMMAND_KEY = 93;\nvar PLUS_KEY = 187;\nvar MINUS_KEY = 189;\n\n\ndocument.onkeydown = function(e) {\n    var key_code = e.keyCode || e.charCode;\n    if (key_code == LEFT_COMMAND_KEY || key_code == RIGHT_COMMAND_KEY){\n        command_down += 1;\n    }\n    \n    if(key_code == PLUS_KEY && command_down > 0){\n        body_zoom += 10;\n        document.body.style.zoom = body_zoom+\"%\"\n    }\n    \n    if(key_code == MINUS_KEY && command_down > 0){\n        if(body_zoom > 10){\n            body_zoom -= 10;\n            document.body.style.zoom = body_zoom+\"%\"\n        }\n    }\n};\n\ndocument.onkeyup = function(e) {\n    var key_code = e.keyCode || e.charCode;\n    \n    if (key_code == LEFT_COMMAND_KEY || key_code == RIGHT_COMMAND_KEY){\n        command_down -= 1;\n    }\n};\n\nvar SpecType = Object.freeze({\"table\":1, \"vega\":2, \"summary\":3, \"annotate\": 4, \"evaluate\": 5})\nwindow.flex_type_enum = Object.freeze({\"integer\":0, \"float\":1, \"string\":2, \"vector\": 3, \"list\": 4, \"dict\": 5, \"datetime\": 6, \"undefined\": 7, \"image\": 8, \"nd_vector\": 9});\n\nvar component_rendered = null;\nvar spec_type = null;\n\n\nfunction resetDisplay(){\n    document.getElementById('loading_container').style.display = \"block\";\n    document.getElementById('table_vis').style.display = 'none';\n    document.getElementById('vega_vis').style.display = 'none';\n    document.getElementById('annotate_viz').style.display = 'none';\n    component_rendered = null;\n    spec_type = null;\n}\n\nwindow.setSpec = function setSpec(value) {\n    resetDisplay();\n    switch(value.type) {\n        case \"vega\":\n            document.getElementById(\"loading_container\").style.display = \"none\";\n            document.getElementById('vega_vis').style.display = 'block';\n            component_rendered = ReactDOM.render(<TcPlot vega_spec={value.data} />, document.getElementById('vega_vis'));\n            spec_type = SpecType.vega;\n            break;\n        case \"table\":\n            document.getElementById('table_vis').style.display = 'block';\n            component_rendered = ReactDOM.render(<TcTable table_spec={value.data} />, document.getElementById('table_vis'));\n            spec_type = SpecType.table;\n            break;\n        case \"summary\":\n            spec_type = SpecType.summary;\n            break;\n        case \"evaluate\":\n            document.getElementById(\"loading_container\").style.display = \"none\";\n            document.getElementById('evaluation_vis').style.display = 'block';\n            component_rendered = ReactDOM.render(<TCEvaluation spec={value.data} />, document.getElementById('evaluation_vis'));\n            spec_type = SpecType.evaluate;\n            break;\n            \n        default:\n            break;\n    }\n}\n\nwindow.setProtoMessage = function setProtoMessage(value){\n    \n    document.getElementById(\"loading_container\").style.display = \"none\";\n    document.getElementById('annotate_viz').style.display = 'block';\n    \n    var root = Root.fromJSON(messageFormat);\n    \n    const ParcelMessage = root.lookupType(\"TuriCreate.Annotation.Specification.Parcel\");\n    const buffer = Uint8Array.from(atob(value), c => c.charCodeAt(0));\n    var decoded = ParcelMessage.decode(buffer);\n    \n    if (decoded.hasOwnProperty('metadata')) {\n        component_rendered = ReactDOM.render(<TCAnnotate metadata={decoded.metadata}/>, document.getElementById('annotate_viz'));\n        spec_type = SpecType.annotate;\n    } else if(decoded.hasOwnProperty('data')) {\n        for (var i = 0; i < decoded[\"data\"][\"data\"].length; i++) {\n            const row_index = decoded[\"data\"][\"data\"][i][\"rowIndex\"];\n            const type = decoded[\"data\"][\"data\"][i][\"images\"][0][\"type\"];\n            const data = decoded[\"data\"][\"data\"][i][\"images\"][0][\"imgData\"];\n            const image = \"data:image/\" + type + \";base64,\" + data;\n            component_rendered.setImageData(row_index, image);\n        }\n    } else if(decoded.hasOwnProperty('annotations')) {\n        for (var i = 0; i < decoded[\"annotations\"][\"annotation\"].length; i++) {\n            const row_index = decoded[\"annotations\"][\"annotation\"][i][\"rowIndex\"][0];\n            const annotation = decoded[\"annotations\"][\"annotation\"][i][\"labels\"][0];\n            component_rendered.setAnnotationData(row_index, annotation);\n        }\n    }\n}\n\nwindow.updateData = function updateData(data) {\n    switch(spec_type){\n        case SpecType.table:\n        case SpecType.summary:\n        case SpecType.vega:\n        case SpecType.evaluate:\n            document.getElementById(\"loading_container\").style.display = \"none\";\n            component_rendered.updateData(data);\n            break;\n        default:\n            console.log(\"default\");\n    }\n}\n\nwindow.getSpec = function getSpec(){\n    switch(spec_type){\n        case SpecType.summary:\n        case SpecType.vega:\n            return component_rendered.getSpec();\n        default:\n            return \"\";\n    }\n}\n\nwindow.getData = function getData(){\n    switch(spec_type){\n        case SpecType.summary:\n        case SpecType.vega:\n            return component_rendered.getData();\n        default:\n            return \"\";\n    }\n}\n\nwindow.setImageData = function setImageData(value){\n    switch(spec_type){\n        case SpecType.table:\n            return component_rendered.setImageData(value);\n        default:\n            return \"\";\n    }\n}\n\nwindow.setAccordionData = function setAccordionData(value){\n    switch(spec_type){\n        case SpecType.table:\n            return component_rendered.setAccordionData(value);\n        default:\n            return \"\";\n    }\n}\n\nwindow.export_png = function export_png(){\n    switch(spec_type){\n        case SpecType.summary:\n        case SpecType.vega:\n            return component_rendered.exportPNG();\n        default:\n            return \"\";\n    }\n}\n\nwindow.handleInput = function(data){\n  var json_obj = data;\n\n  if(json_obj[\"table_spec\"] != null) {\n    var input_data = {};\n    input_data[\"data\"] = json_obj[\"table_spec\"];\n    input_data[\"type\"] = \"table\";\n\n    window.setSpec(input_data);\n  }\n\n  if(json_obj[\"vega_spec\"] != null) {\n    var input_data = {};\n    input_data[\"data\"] = json_obj[\"vega_spec\"];\n    input_data[\"type\"] = \"vega\";\n\n    window.setSpec(input_data);\n  }\n\n  if(json_obj[\"data_spec\"] != null) {\n    window.updateData(json_obj[\"data_spec\"]);\n  }\n\n  if(json_obj[\"image_spec\"] != null) {\n    var input_data = {};\n    input_data[\"data\"] = json_obj[\"image_spec\"];\n    window.setImageData(input_data);\n  }\n\n  if(json_obj[\"accordion_spec\"] != null) {\n    var input_data = {};\n    input_data[\"data\"] = json_obj[\"accordion_spec\"];\n    window.setAccordionData(input_data);\n  }\n}\n\nwindow.addEventListener('contextmenu', event => event.preventDefault());\n"],"sourceRoot":""}