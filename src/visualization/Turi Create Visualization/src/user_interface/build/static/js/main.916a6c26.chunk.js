(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){e.exports=a(203)},106:function(e,t,a){},108:function(e,t){},109:function(e,t){},125:function(e,t,a){},127:function(e,t,a){},129:function(e,t,a){},137:function(e,t,a){},141:function(e,t,a){},143:function(e,t,a){},145:function(e,t,a){},147:function(e,t,a){},149:function(e,t,a){},151:function(e,t,a){},153:function(e,t,a){},155:function(e,t,a){},157:function(e,t,a){},159:function(e,t,a){},161:function(e,t,a){},163:function(e,t,a){},165:function(e,t,a){},167:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},175:function(e,t,a){},177:function(e,t,a){},179:function(e,t,a){e.exports=a.p+"static/media/right.7f1561b5.svg"},180:function(e,t,a){},199:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),r=a(47),s=a.n(r),o=a(12),l=a(11),c=a(15),p=a(13),d=a(14),u=(a(106),a(201)),h=a(116),m=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.addSpec(this.props.vega_spec)}},{key:"checkLoadedFlag",value:function(e,t){if(t.vegaLoading)window.setTimeout(t.checkLoadedFlag,100,e,t);else{t.vegaLoading,!e||e.values;var a=e.values.slice(),i=u.changeset();if(null!=e.progress){var n=parseFloat(e.progress);parseInt(100*n,10)>=100?(document.getElementById("progress_bar").style.width=parseInt(100*n)+"%",setTimeout(function(){document.getElementById("progress_bar").style.opacity="0.0"},1e3)):document.getElementById("progress_bar").style.width=parseInt(100*n)+"%"}for(var r=t.vegaView.data("source_2"),s=0;s<a.length;s++)if(null!=a[s].a)for(var o=0;o<r.length;o++)r[o].a===a[s].a&&(i=i.remove(r[o]));else if(r.length>0){i=i.remove(r);break}i=i.insert(a),t.vega_container.classList.remove("uninitialized"),t.vegaView.change("source_2",i).runAfter(function(e){}),t.vegaView.toCanvas().then(function(e){t.hidden_container.innerHTML="",t.hidden_container.appendChild(e)})}}},{key:"updateData",value:function(e){this.checkLoadedFlag(e,this)}},{key:"addSpec",value:function(e){this.bubbleOpts={showAllFields:!0},this.vega_json=e,this.vega_json.autosize={type:"fit",resize:!0,contains:"padding"},null!=this.vega_json.metadata&&null!=this.vega_json.metadata.bubbleOpts&&(this.bubbleOpts=this.vega_json.metadata.bubbleOpts),this.vegaLoading=!0,this.vegaView=new u.View(u.parse(this.vega_json),{renderer:"svg"}).initialize(this.vega_container).hover().run(),this.setState({initializedVega:!0}),this.vegaLoading=!1,h.vega(this.vegaView,this.bubbleOpts),"MacIntel"===window.navigator.platform&&window.webkit.messageHandlers.scriptHandler.postMessage({status:"ready"})}},{key:"getSpec",value:function(){for(var e=this.vega_json,t=this.vegaView.data("source_2"),a=0;a<e.data.length;a++)"source_2"===e.data[a].name&&(e.data[a].values=t);return JSON.stringify(e)}},{key:"getData",value:function(){for(var e=this.vegaView.data("source_2"),t="object"!=typeof e?JSON.parse(e):e,a="",i=0;i<t.length;i++){var n="";for(var r in t[i])""!=n&&(n+=","),n+=t[i][r];a+=n+"\r\n"}return a}},{key:"exportPNG",value:function(){return this.hidden_container.childNodes[0].toDataURL("image/png").replace(/^data:image\/(png|jpg);base64,/,"")}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:["vega_container","uninitialized"].join(" "),ref:function(t){e.vega_container=t}}),n.a.createElement("div",{className:["hidden_cont"].join(" "),ref:function(t){e.hidden_container=t}}))}}]),t}(i.Component),f=(a(125),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",Object.assign({},this.props,{className:"sticky-table-container "+(this.props.className||"")}),this.props.children)}}]),t}(i.Component)),g=(a(127),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"accordian_window"==this.props.className&&console.log(this.props),n.a.createElement("div",Object.assign({},this.props,{className:"sticky-table-row "+(this.props.className||"")}),this.props.children)}}]),t}(i.Component)),v=(a(129),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",Object.assign({},this.props,{className:"sticky-table-cell "+(this.props.className||"")}),this.props.children)}}]),t}(i.Component)),y=a(131),b=a(136),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).scrollToValue=function(){for(var e=document.getElementsByClassName("header_element"),t=0;t<e.length;t++)if(e[t].innerText==a.scrollVal||e[t].innerText==a.props.scrollVal){a.yScrollbar.scrollTop=e[t].offsetTop-e[t].offsetHeight-6,a.scrollVal=-1,a.props.scrollVal=-1;break}a.props.reset_scroll(a.props.parent_context)},a.setScrollData=function(){return a.suppressScrollX=!1,a.suppressScrollY=!1,a.scrollData={scrollTop:a.yScrollbar.scrollTop,scrollHeight:a.yScrollbar.scrollHeight,clientHeight:a.yScrollbar.clientHeight,scrollLeft:a.xScrollbar.scrollLeft,scrollWidth:a.xScrollbar.scrollWidth,clientWidth:a.xScrollbar.clientWidth}},a.onScrollBarX=function(){a.suppressScrollX?(a.handleScroll(),a.suppressScrollX=!1):(a.scrollData.scrollLeft=a.xWrapper.scrollLeft=a.xScrollbar.scrollLeft,a.suppressScrollX=!0)},a.onScrollBarY=function(){a.suppressScrollY?(a.handleScroll(),a.suppressScrollY=!1):(a.scrollData.scrollTop=a.yWrapper.scrollTop=a.yScrollbar.scrollTop,a.suppressScrollY=!0)},a.onScrollX=function(){var e=Math.max(a.xWrapper.scrollLeft,0);a.stickyHeader.style.transform="translate("+-1*e+"px, 0)"},a.scrollXScrollbar=function(){a.suppressScrollX?(a.handleScroll(),a.suppressScrollX=!1):(a.scrollData.scrollLeft=a.xScrollbar.scrollLeft=a.xWrapper.scrollLeft,a.suppressScrollX=!0)},a.scrollYScrollbar=function(){a.suppressScrollY?(a.handleScroll(),a.suppressScrollY=!1):(a.scrollData.scrollTop=a.yScrollbar.scrollTop=a.yWrapper.scrollTop,a.suppressScrollY=!0)},a.handleScroll=function(){a.props.onScroll&&a.props.onScroll(a.scrollData);var e=a.getScrollBottom(),t=a.getScrollTop();1==e&&a.updateScrollDown(),0==t&&a.updateScrollUp()},a.updateScrollDown=function(){if(a.props.set_higher*a.props.step_size>=a.props.size)return"Max value reached";if(a.props.scroll_state){var e=document.getElementsByClassName("header_element");if(e.length>0){for(var t=e[e.length-1].innerText,i=0;i<e.length;i++){if(e[i].getBoundingClientRect().top>0){t=e[i].innerText;break}}a.scrollVal=t,a.props.scroll_callback(a.scrollVal,a.props.parent_context,1)}}},a.updateScrollUp=function(){if(a.props.set_lower*a.props.step_size<=0)return"Min value reached";if(a.props.scroll_state){var e=document.getElementsByClassName("header_element");e.length>0&&(a.scrollVal=parseInt(e[0].innerText,10),a.props.scroll_callback(a.scrollVal,a.props.parent_context,-1))}},a.getScrollBottom=function(){return(a.yScrollbar.scrollTop+a.yScrollbar.clientHeight)/a.yScrollbar.scrollHeight},a.getScrollTop=function(){return a.yScrollbar.scrollTop/a.yScrollbar.scrollHeight},a.getRows=function(e,t){a.scroll=!1},a.onResize=function(){a.setScrollBarDims(),a.setScrollBarWrapperDims(),a.setRowHeights(),a.setColumnWidths(),a.setScrollData(),a.handleScroll()},a.setScrollBarWrapperDims=function(){a.xScrollbar.style.width="calc(100% - "+a.yScrollSize+"px)",a.yScrollbar.style.height="calc(100% - "+a.stickyHeader.offsetHeight+"px)",a.yScrollbar.style.top=a.stickyHeader.offsetHeight+"px"},a.id=Math.floor(1e9*Math.random())+"",a.rowCount=0,a.columnCount=0,a.xScrollSize=0,a.yScrollSize=0,a.stickyHeaderCount=0===e.stickyHeaderCount?0:a.stickyHeaderCount||1,a.container_ref=n.a.createRef(),a.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.table=document.getElementById("sticky-table-"+this.id),this.table&&(this.realTable=this.table.querySelector("#sticky-table-x-wrapper").firstChild,this.xScrollbar=this.table.querySelector("#x-scrollbar"),this.yScrollbar=this.table.querySelector("#y-scrollbar"),this.xWrapper=this.table.querySelector("#sticky-table-x-wrapper"),this.yWrapper=this.table.querySelector("#sticky-table-y-wrapper"),this.stickyHeader=this.table.querySelector("#sticky-table-header"),this.stickyColumn=this.table.querySelector("#sticky-table-column"),this.stickyCorner=this.table.querySelector("#sticky-table-corner"),this.setScrollData(),b(this.realTable,this.onResize),this.onResize(),setTimeout(this.onResize),this.addScrollBarEventHandlers(),this.scrollToValue())}},{key:"componentDidUpdate",value:function(){this.scrollToValue(),this.onResize();for(var e=document.getElementsByClassName("header_element"),t=0;t<e.length;t++)e[t].style.height=this.getModeHeights()+"px"}},{key:"componentWillUnmount",value:function(){this.table&&(this.xWrapper.removeEventListener("scroll",this.onScrollX),this.xWrapper.removeEventListener("scroll",this.scrollXScrollbar),this.xScrollbar.removeEventListener("scroll",this.onScrollBarX),this.yWrapper.removeEventListener("scroll",this.scrollYScrollbar),this.yScrollbar.removeEventListener("scroll",this.onScrollBarY),b.unbind(this.realTable))}},{key:"addScrollBarEventHandlers",value:function(){this.xWrapper.addEventListener("scroll",this.onScrollX),this.xWrapper.addEventListener("scroll",this.scrollXScrollbar),this.xScrollbar.addEventListener("scroll",this.onScrollBarX),this.yWrapper.addEventListener("scroll",this.scrollYScrollbar),this.yScrollbar.addEventListener("scroll",this.onScrollBarY)}},{key:"setScrollBarPaddings",value:function(){var e="0px 0px "+this.xScrollSize+"px 0px";this.table.style.padding=e;e="0px "+this.yScrollSize+"px 0px 0px";this.xWrapper.firstChild.style.padding=e}},{key:"setScrollBarDims",value:function(){this.xScrollSize=this.xScrollbar.offsetHeight-this.xScrollbar.clientHeight,this.yScrollSize=this.yScrollbar.offsetWidth-this.yScrollbar.clientWidth,this.isFirefox||this.setScrollBarPaddings();var e=this.getSize(this.realTable.firstChild).width;this.xScrollbar.firstChild.style.width=e+"px";var t=this.getSize(this.realTable).height+this.xScrollSize-this.stickyHeader.offsetHeight;this.yScrollbar.firstChild.style.height=t+"px",this.xScrollSize&&(this.xScrollbar.style.height=this.xScrollSize+1+"px"),this.yScrollSize&&(this.yScrollbar.style.width=this.yScrollSize+1+"px")}},{key:"getModeHeights",value:function(){var e=[];if(this.props.stickyColumnCount)for(var t=0;t<this.rowCount;t++)e.push(this.getSize(this.realTable.childNodes[t].childNodes[0]).height);return function(e){var t,a={},i=0;return e.forEach(function(e){a[e]=(a[e]||0)+1,i<a[e]&&(i=a[e],t=e)}),+t}(e)}},{key:"setRowHeights",value:function(){var e,t,a,i=void 0!=this.props.y?this.props.y:-1,n=0;if(this.props.stickyColumnCount){for(e=1;e<this.rowCount;e++)(t=this.realTable.childNodes[e].firstChild)&&(this.realTable.childNodes[e].childNodes[1].style.height=this.getModeHeights()+"px",this.stickyColumn.firstChild.childNodes[e].style.height=this.getModeHeights()+"px",a=this.getSize(t).height,this.stickyColumn.firstChild.childNodes[e].firstChild.style.height=a+"px",0==e&&this.stickyCorner.firstChild.childNodes[e]&&(this.stickyCorner.firstChild.firstChild.firstChild.style.height=a+"px")),i==e&&(n=this.stickyColumn.firstChild.childNodes[e].offsetTop);this.stickyCorner.firstChild.firstChild.firstChild.style.height=this.stickyHeader.offsetHeight+"px",this.stickyColumn.firstChild.childNodes[0].firstChild.style.height=this.stickyHeader.offsetHeight+"px",document.getElementById("data_container")&&(document.getElementById("data_container").style.height=4*this.getModeHeights()-30+"px",document.getElementById("data_container").style.width=this.xScrollbar.clientWidth-30+"px",document.getElementById("data_container").style.left="15px",document.getElementById("data_container").style.top=n+this.getModeHeights()+15+"px")}}},{key:"setColumnWidths",value:function(){var e,t,a,i,n;if(this.stickyHeaderCount){for(n=0,e=0;e<this.columnCount;e++)if(t=this.realTable.firstChild.childNodes[e]){a=this.getSize(t).width,(i=this.table.querySelector("#sticky-header-cell-"+e)).style.width=a+"px",i.style.minWidth=a+"px";var r=this.stickyCorner.firstChild.firstChild;r&&r.childNodes[e]&&((i=r.childNodes[e]).style.width=a+"px",i.style.minWidth=a+"px",(i=r.childNodes[e]).style.width=a+"px",i.style.minWidth=a+"px",n+=a)}this.stickyColumn.firstChild.style.width=n+"px",this.stickyColumn.firstChild.style.minWidth=n+"px"}}},{key:"getStickyColumns",value:function(e){var t,a=this,i=this.props.stickyColumnCount,r=[],s=void 0!=this.props.y?parseInt(this.props.y,10):-1;return-1!=this.props.scrollVal&&(this.scroll=!1),e.forEach(function(e,o){if(t=n.a.Children.toArray(e.props.children),e.props.accordion&&s>0)if(a.props.data)if(a.props.data.index+1==parseInt(a.props.y,10)&&a.props.data.column==a.props.column_name&&void 0!=a.props.column_name){var l=[];switch(a.props.data.type){case window.flex_type_enum.string:l.push(n.a.createElement("div",{style:{"word-wrap":"break-word"}},a.props.data.data));break;case window.flex_type_enum.dict:case window.flex_type_enum.vector:case window.flex_type_enum.list:case window.flex_type_enum.nd_vector:l.push(n.a.createElement(y,{className:"json-pretty",json:a.props.data.data}))}r.push(n.a.createElement(g,e.props,n.a.createElement("div",{id:"data_container",style:{position:"absolute",overflow:"scroll",width:100,left:3,zIndex:99,textAlign:"left",background:"#F7F7F7"}},n.a.createElement("div",{style:{padding:10}},l))))}else r.push(n.a.createElement(g,e.props,n.a.createElement("div",{id:"data_container",style:{position:"absolute",overflow:"scroll",width:100,left:3,zIndex:99,textAlign:"left",background:"#F7F7F7"}},n.a.createElement("div",{style:{padding:10}},"Loading..."))));else r.push(n.a.createElement(g,e.props,n.a.createElement("div",{id:"data_container",style:{position:"absolute",overflow:"scroll",width:100,left:3,zIndex:99,textAlign:"left",background:"#F7F7F7"}},n.a.createElement("div",{style:{padding:10}},"Loading..."))));else e.props.spacers&&s>0?r.push(n.a.createElement(g,Object.assign({},e.props,{key:o}),t.slice(0,i))):r.push(n.a.createElement(g,Object.assign({},e.props,{id:"",key:o}),t.slice(0,i)))}),r}},{key:"getStickyHeader",value:function(e){var t=e[0],a=[];return n.a.Children.toArray(t.props.children).forEach(function(e,t){a.push(n.a.cloneElement(e,{id:"sticky-header-cell-"+t,key:t}))}),n.a.createElement(g,Object.assign({},t.props,{id:"sticky-header-row"}),a)}},{key:"getStickyCorner",value:function(e){var t,a=this.props.stickyColumnCount,i=[];return e.forEach(function(e,r){0===r&&(t=n.a.Children.toArray(e.props.children),i.push(n.a.createElement(g,Object.assign({},e.props,{id:"",key:r}),t.slice(0,a))))}),i}},{key:"getSize",value:function(e){return{width:e?e.getBoundingClientRect().width:0,height:e?e.getBoundingClientRect().height:0}}},{key:"render",value:function(){var e,t,a,i=n.a.Children.toArray(this.props.children);return this.rowCount=i.length,this.columnCount=i[0]&&n.a.Children.toArray(i[0].props.children).length||0,i.length&&(this.props.stickyColumnCount>0&&this.stickyHeaderCount>0&&(a=this.getStickyCorner(i)),this.props.stickyColumnCount>0&&(e=this.getStickyColumns(i)),this.stickyHeaderCount>0&&(t=this.getStickyHeader(i))),n.a.createElement("div",{className:"sticky-table "+(this.props.className||""),id:"sticky-table-"+this.id},n.a.createElement("div",{id:"x-scrollbar"},n.a.createElement("div",null)),n.a.createElement("div",{id:"y-scrollbar"},n.a.createElement("div",null)),n.a.createElement("div",{className:"sticky-table-corner",id:"sticky-table-corner"},n.a.createElement(f,null,a)),n.a.createElement("div",{className:"sticky-table-header",id:"sticky-table-header"},n.a.createElement(f,null,t)),n.a.createElement("div",{className:"sticky-table-y-wrapper",id:"sticky-table-y-wrapper"},n.a.createElement("div",{className:"sticky-table-column",id:"sticky-table-column"},n.a.createElement(f,null,e)),n.a.createElement("div",{className:"sticky-table-x-wrapper",id:"sticky-table-x-wrapper"},n.a.createElement(f,null,i))))}}]),t}(i.PureComponent);_.defaultProps={stickyHeaderCount:1,stickyColumnCount:1};a(137);var C=a(41),E=a(56),w=a.n(E),S=a(57),k=a.n(S),N=a(52).format(","),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).image_array=[],a.image_dictionary={},a.data=void 0,a.step_size=a.props.step_size?a.props.step_size:50,a.test_this="element",a.scrollVal=-1,a.table_scroll=!0,a.state={windowHeight:window.innerHeight,windowWidth:window.innerWidth,table:[]},a.loading_image_timer=void 0,a.y=-1,a.column_name=void 0,a.data_sent=void 0,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderCell",value:function(e,t){var a=this;switch(t){case"string":return n.a.createElement("div",{style:{position:"relative"}},n.a.createElement("div",{className:"string_val",onClick:function(e){return a.divClick(e)}},n.a.createElement("span",{className:"default_span_color",onClick:function(e){return a.spanClick(e)}},e)),n.a.createElement("div",{className:"arrow_right",onClick:function(e){return a.arrowClick(e)}},n.a.createElement(C.a,{icon:k.a,style:{display:"block"},onClick:function(e){return a.spanClick(e)}}),n.a.createElement(C.a,{icon:w.a,style:{display:"none"},onClick:function(e){return a.spanClick(e)}})));case"float":return n.a.createElement("div",{className:"float_val"},e);case"integer":return n.a.createElement("div",{className:"int_val"},e);case"image":return n.a.createElement("div",{className:"image_val"},n.a.createElement("img",{src:"data:image/"+e.format+";base64,"+e.data,height:32,"data-image-row":e.idx,"data-image-column":e.column,alt:e.width+"x"+e.height+" image"}));case"dictionary":return n.a.createElement("div",{style:{position:"relative"}},n.a.createElement("div",{className:"dictionary_value",onClick:function(e){return a.divClick(e)}},n.a.createElement("span",{className:"default_span_color",onClick:function(e){return a.spanClick(e)}},JSON.stringify(e))),n.a.createElement("div",{className:"arrow_right",onClick:function(e){return a.arrowClick(e)}},n.a.createElement(C.a,{icon:k.a,style:{display:"block"},onClick:function(e){return a.spanClick(e)}}),n.a.createElement(C.a,{icon:w.a,style:{display:"none"},onClick:function(e){return a.spanClick(e)}})));case"array":return n.a.createElement("div",{style:{position:"relative"}},n.a.createElement("div",{className:"array_value",onClick:function(e){return a.divClick(e)}},n.a.createElement("span",{className:"default_span_color",onClick:function(e){return a.spanClick(e)}},e)),n.a.createElement("div",{className:"arrow_right",onClick:function(e){return a.arrowClick(e)}},n.a.createElement(C.a,{icon:k.a,style:{display:"block"},onClick:function(e){return a.spanClick(e)}}),n.a.createElement(C.a,{icon:w.a,style:{display:"none"},onClick:function(e){return a.spanClick(e)}})));case"list":case"ndarray":return n.a.createElement("div",{style:{position:"relative"}},n.a.createElement("div",{className:"array_value",onClick:function(e){return a.divClick(e)}},n.a.createElement("span",{className:"default_span_color",onClick:function(e){return a.spanClick(e)}},JSON.stringify(e))),n.a.createElement("div",{className:"arrow_right",onClick:function(e){return a.arrowClick(e)}},n.a.createElement(C.a,{icon:k.a,style:{display:"block"},onClick:function(e){return a.spanClick(e)}}),n.a.createElement(C.a,{icon:w.a,style:{display:"none"},onClick:function(e){return a.spanClick(e)}})));default:return n.a.createElement("div",null,e)}}}]),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.table_spec=this.props.table_spec,this.size=this.props.table_spec.size,this.title=this.props.table_spec.title,this.image_source_container=document.getElementById("image_source_container"),this.arrow_left=document.getElementById("arrow_left"),this.image_loading_container=document.getElementById("image_loading_container"),this.rowNum=document.getElementById("rowNum"),window.addEventListener("resize",this.handleResize.bind(this)),"MacIntel"===window.navigator.platform&&window.webkit.messageHandlers.scriptHandler.postMessage({status:"ready"});for(var e=document.getElementsByClassName("string_val"),t=0;t<e.length;t++)e[t].getBoundingClientRect().width<e[t].children[0].getBoundingClientRect().width&&(e[t].parentElement.parentElement.classList.remove("hoverable_element"),e[t].parentElement.parentElement.classList.add("hoverable_element"));var a=document.getElementsByClassName("dictionary_value");for(t=0;t<a.length;t++)a[t].getBoundingClientRect().width<a[t].children[0].getBoundingClientRect().width&&(a[t].parentElement.parentElement.classList.remove("hoverable_element"),a[t].parentElement.parentElement.classList.add("hoverable_element"));var i=document.getElementsByClassName("array_value");for(t=0;t<i.length;t++)i[t].getBoundingClientRect().width<i[t].children[0].getBoundingClientRect().width&&(i[t].parentElement.parentElement.classList.remove("hoverable_element"),i[t].parentElement.parentElement.classList.add("hoverable_element"))}},{key:"componentDidUpdate",value:function(e,t,a){this.image_source_container=document.getElementById("image_source_container"),this.arrow_left=document.getElementById("arrow_left"),this.image_loading_container=document.getElementById("image_loading_container"),this.rowNum=document.getElementById("rowNum");for(var i=document.getElementsByClassName("string_val"),n=0;n<i.length;n++)i[n].getBoundingClientRect().width<i[n].children[0].getBoundingClientRect().width&&(i[n].parentElement.parentElement.classList.remove("hoverable_element"),i[n].parentElement.parentElement.classList.add("hoverable_element"));var r=document.getElementsByClassName("dictionary_value");for(n=0;n<r.length;n++)r[n].getBoundingClientRect().width<r[n].children[0].getBoundingClientRect().width&&(r[n].parentElement.parentElement.classList.remove("hoverable_element"),r[n].parentElement.parentElement.classList.add("hoverable_element"));var s=document.getElementsByClassName("array_value");for(n=0;n<s.length;n++)s[n].getBoundingClientRect().width<s[n].children[0].getBoundingClientRect().width&&(s[n].parentElement.parentElement.classList.remove("hoverable_element"),s[n].parentElement.parentElement.classList.add("hoverable_element"))}},{key:"componentWillMount",value:function(){window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"reset_scroll",value:function(e){e.table_scroll=!0}},{key:"callbackScroll",value:function(e,t,a){t.jump_to_wrapper(e,t,a)}},{key:"enterPressJumpRow",value:function(e){if(13==e.keyCode&&null!=this.rowNum&&this.table_scroll){var t=this.rowNum.value;this.rowNum.value="",isNaN(parseInt(t,10))||this.jump_to(t)}}},{key:"rowHandler",value:function(e){if(null!=this.rowNum&&this.table_scroll){var t=this.rowNum.value;this.rowNum.value="",isNaN(parseInt(t,10))||this.jump_to(t)}}},{key:"jump_to",value:function(e){this.jump_to_wrapper(e,this,0)}},{key:"jump_to_wrapper",value:function(e,t,a){if(t.table_scroll){var i,n,r,s;(e=parseInt(e,10))>=t.size?e=t.size-1:e<0&&(e=0),s=(r=Math.floor(e/t.step_size))+1,0==a?(t.set_lower=r-1>=0?r-1:0,t.set_higher=r-1>=0?s:2):(t.set_lower+=a,t.set_higher+=a),i=t.set_lower-1>=0?t.set_lower*t.step_size:0,n=t.set_higher*t.step_size>t.size?t.size:t.set_higher*t.step_size,t.getRows(i,n),t.scrollVal=e}t.table_scroll=!1,t.drawTable()}},{key:"getRows",value:function(e,t){"MacIntel"==window.navigator.platform?window.webkit.messageHandlers.scriptHandler.postMessage({status:"getRows",start:e,end:t}):window.postMessageToNativeClient('{"method":"get_rows", "start":'+e+', "end": '+t+"}")}},{key:"setAccordionData",value:function(e){this.data_sent=e.data,this.drawTable()}},{key:"handleResize",value:function(e){var t=this;this.setState(function(e){return{windowHeight:window.innerHeight,windowWidth:window.innerWidth}},function(){t.drawTable()})}},{key:"hoverImage",value:function(e){var t=this;return function(a){if("image"==e&&(t.image_source_container.style.display="block",t.arrow_left.style.display="block",null!=t.image_source_container&&a.target.getElementsByTagName("img")[0]&&a.target.classList.contains("elements"))){var i=a.target.getBoundingClientRect(),n=t.arrow_left.getBoundingClientRect(),r=parseInt(i.height/2-n.height/2+i.y,10),s=a.target.getElementsByTagName("img")[0].getAttribute("data-image-row"),o=a.target.getElementsByTagName("img")[0].getAttribute("data-image-column");if(t.image_dictionary[String(s)]){if(t.image_dictionary[String(s)][String(o)]){var l="data:image/"+t.image_dictionary[String(s)][String(o)].format+";base64,"+t.image_dictionary[String(s)][String(o)].image;t.image_source_container.src=l,t.arrow_left.style.top=r+"px";var c=t.image_source_container.getBoundingClientRect(),p=parseInt(i.height/2-c.height/2+i.y,10),d=(f=document.getElementsByClassName("header")[0].getBoundingClientRect()).y+f.height,u=document.getElementsByClassName("BottomTable")[0].getBoundingClientRect().y;d>p&&(p=d),p+c.height>u&&(p=u-c.height),t.image_source_container.style.top=p+"px";var h=i.width+i.left,m=i.width+i.left+10;t.arrow_left.style.left=h+"px",t.image_source_container.style.left=m+"px"}}else{t.image_source_container.style.display="none",t.image_loading_container.style.display="block",t.arrow_left.style.top=r+"px";var f;c=t.image_loading_container.getBoundingClientRect(),p=parseInt(i.height/2-c.height/2+i.y,10),d=(f=document.getElementsByClassName("header")[0].getBoundingClientRect()).y+f.height,u=document.getElementsByClassName("BottomTable")[0].getBoundingClientRect().y;d>p&&(p=d),p+c.height>u&&(p=u-c.height),t.image_loading_container.style.top=p+"px";h=i.width+i.left,m=i.width+i.left+10;t.arrow_left.style.left=h+"px",t.image_loading_container.style.left=m+"px";var g=a.target;t.loading_image_timer=setInterval(function(e,a,i){if(t.image_dictionary[String(e)]&&t.image_dictionary[String(e)][String(a)]){t.image_source_container.style.display="block",t.image_loading_container.style.display="none";var n=i.getBoundingClientRect(),r=t.arrow_left.getBoundingClientRect(),s=parseInt(n.height/2-r.height/2+n.y,10),o=(e=i.getElementsByTagName("img")[0].getAttribute("data-image-row"),a=i.getElementsByTagName("img")[0].getAttribute("data-image-column"),"data:image/"+t.image_dictionary[String(e)][String(a)].format+";base64,"+t.image_dictionary[String(e)][String(a)].image);t.image_source_container.src=o,t.arrow_left.style.top=s+"px";var l=t.image_source_container.getBoundingClientRect(),c=parseInt(n.height/2-l.height/2+n.y,10),p=document.getElementsByClassName("header")[0].getBoundingClientRect(),d=p.y+p.height,u=document.getElementsByClassName("BottomTable")[0].getBoundingClientRect().y;d>c&&(c=d),c+l.height>u&&(c=u-l.height),t.image_source_container.style.top=c+"px";var h=n.width+n.left,m=n.width+n.left+10;t.arrow_left.style.left=h+"px",t.image_source_container.style.left=m+"px",clearInterval(t.loading_image_timer)}},300,s,o,g)}}}}},{key:"hoverOutImage",value:function(e){var t=this;return function(a){"image"==e&&null!=t.image_source_container&&a.target.getElementsByTagName("img")[0]&&a.target.classList.contains("elements")&&(t.image_source_container.src=""),t.loading_image_timer&&clearInterval(t.loading_image_timer),t.image_source_container.style.display="none",t.image_loading_container.style.display="none",t.arrow_left.style.display="none"}}},{key:"divClick",value:function(e){var t={};t.target=e.target.parentElement.parentElement,this.cellClick(t)}},{key:"spanClick",value:function(e){var t={};t.target=e.target.parentElement.parentElement.parentElement,this.cellClick(t)}},{key:"arrowClick",value:function(e){var t={};t.target=e.target.parentElement.parentElement,this.cellClick(t)}},{key:"cellClick",value:function(e){var t=e.target.getAttribute("x"),a=e.target.getAttribute("y");switch(e.target.getAttribute("flex_type")){case"string":case"dictionary":case"array":case"ndarray":case"list":for(var i=e.target.parentElement.parentElement.getElementsByClassName("active_element"),n=0;n<i.length;n++)i[n]!=e.target&&(i[n].children[0].children[1].children[0].style.display="block",i[n].children[0].children[1].children[1].style.display="none",i[n].children[0].children[1].classList.remove("active_arrow"),i[n].classList.remove("active_element"));if(e.target.children[0].children[0].getBoundingClientRect().width<e.target.children[0].children[0].children[0].getBoundingClientRect().width)if("none"==e.target.children[0].children[1].children[0].style.display)e.target.children[0].children[1].children[0].style.display="block",e.target.children[0].children[1].children[1].style.display="none",e.target.classList.remove("active_element"),e.target.children[0].children[1].classList.remove("active_arrow"),this.data_sent=void 0,this.column_name=void 0,this.y=-1,this.drawTable();else{e.target.children[0].children[1].children[0].style.display="none",e.target.children[0].children[1].children[1].style.display="block",e.target.classList.add("active_element"),e.target.children[0].children[1].classList.add("active_arrow"),this.data_sent=void 0,this.column_name=void 0,this.y=-1;var r=a.replace('"','\\"');this.drawTable(!0,t,a,r)}}}},{key:"drawTable",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=[],o=[];this.table_array=[];for(var l=0;l<this.data.values.length+1;l++){for(var c=[],p=0;p<this.table_spec.column_names.length+1;p++)if(0===p)0===l?c.push(n.a.createElement(v,{className:"header",key:p+"_"+l})):(c.push(n.a.createElement(v,{className:"header_element",key:p+"_"+l},this.data.values[l-1].__idx)),o.push(this.data.values[l-1].__idx));else if(0===l)c.push(n.a.createElement(v,{className:"header",key:p+"_"+l},n.a.createElement("span",null,this.table_spec.column_names[p-1])));else{var d=this.table_spec.column_types[p-1],u=this.table_spec.column_names[p-1];c.push(n.a.createElement(v,{className:"elements",onMouseEnter:this.hoverImage(this.table_spec.column_types[p-1]),onMouseLeave:this.hoverOutImage(this.table_spec.column_types[p-1]),onClick:function(t){return e.cellClick(t)},x:l,x_c:p,y:u,flex_type:d,key:p+"_"+l},this.renderCell(this.data.values[l-1][u],d)))}if(s.push(n.a.createElement(g,{key:l},c)),this.y==l){var h=[];h.push(n.a.createElement(v,{className:"header_element accordion_helper",key:"0_"+l+"modal"},"\xa0"));for(var m=1;m<c.length;m++)h.push(n.a.createElement(v,{className:"elements accordion_helper",key:m+"_"+l+"modal"},"\xa0"));s.push(n.a.createElement(g,{key:"modal",accordion:!0},h));var f=[];f.push(n.a.createElement(v,{className:"header_element accordion_helper",key:"0_"+l+"spacer1"},"\xa0"));for(m=1;m<c.length;m++)f.push(n.a.createElement(v,{className:"elements accordion_helper",key:m+"_"+l+"spacer1"},"\xa0"));s.push(n.a.createElement(g,{key:"spacer1",spacers:!0},f));var y=[];y.push(n.a.createElement(v,{className:"header_element accordion_helper",key:"0_"+l+"spacer2"},"\xa0"));for(m=1;m<c.length;m++)y.push(n.a.createElement(v,{className:"elements accordion_helper",key:m+"_"+l+"spacer2"},"\xa0"));s.push(n.a.createElement(g,{key:"spacer2",spacers:!0},y));var b=[];b.push(n.a.createElement(v,{className:"header_element accordion_helper",key:"0_"+l+"spacer3"},"\xa0"));for(m=1;m<c.length;m++)b.push(n.a.createElement(v,{className:"elements accordion_helper",key:m+"_"+l+"spacer3"},"\xa0"));s.push(n.a.createElement(g,{key:"spacer3",spacers:!0},b))}}var C=Math.floor(Math.min.apply(Math,o)/this.step_size);this.set_higher=C+3,this.set_lower=C;if(""!=this.title){var E=n.a.createElement("h1",{className:"tableTitle",key:"tableTitle"},this.title);this.table_array.push(E)}var w=n.a.createElement("div",{className:"resize_container",key:"tableBody",style:{height:this.state.windowHeight-44,width:this.state.windowWidth}},n.a.createElement(_,{parent_context:this,scroll_state:this.table_scroll,scrollVal:this.scrollVal,size:this.size,step_size:this.step_size,set_lower:this.set_lower,set_higher:this.set_higher,y:this.y,data:this.data_sent,column_name:this.column_name,scroll_callback:this.callbackScroll,reset_scroll:this.reset_scroll,style:{height:this.state.windowHeight-44,width:this.state.windowWidth}},s)),S=n.a.createElement("div",{className:"BottomTable",key:"tableFooter"},"\xa0",n.a.createElement("div",{className:"numberOfRows"},N(this.size)," rows"),n.a.createElement("div",{className:"jumpToRowContainer"},n.a.createElement("input",{className:"rowNumber",id:"rowNum",onKeyDown:this.enterPressJumpRow.bind(this),placeholder:"Row #"}),n.a.createElement("img",{className:"enterSymbol",onClick:this.rowHandler.bind(this),src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAxCAYAAABnCd/9AAAAAXNSR0IArs4c6QAAA9RJREFUaAXtmk1oE0EUx80mahCiglKKpSAiHrTUSz1YBL9REEE8BBSqLQrRNm1BvPSk9ODHQSHpRywKwUMvxVIQrccqanvw5qEHD4LooQgeaqGY5svfK01Yt7t1d7Mpm00Wys6+nZl9/1/fm5mdrG9DlR0DAwNn8vn8HWRP9/T03DaS7zO64UV7LBa7jq4EfwHR5/f7d0ej0W9S1h6K1uDVa6D0o+0pf8tQRCdgQnLWO4qV9G56wTYyMrIxlUo9I32uWNHjaTDxeHwrUMaBcsoKFKnr2VRKJBINAHlvB4pnwQClKZ1OzyCwWUTaOTwXMUzHJ4DygUhptAOk0MZTY8zQ0NDebDY7CZTNBYF2z56KGIC0OAFFYHoNjGN6HOvIbsi6tZ1jYwxrhqOIjBDKiz6f7zHvIbNuFW3GL0cihuX2LR42BZRLnK9x/shAeMiMA26tUxIYAChESgxxjyirX0i3MzvccKtoM37ZTqVkMhlkzTAKkIt6D8LeomevFJstMIODgzsWFhZeIr7VSCjjjK2+jfpbb7vlVBoeHt6Ty+Wm14Ky3iLK8TxLYGRAzWQyM0DZVw5n3NSnaTAMsucZUN8Cpc5NAsrliykwDLIyw0wAZUu5HHFbv2uCAYSPNcp9xpQEZb/bnC+nP4Yzx9jY2CbSJ8nDL5fTAbf2rQuGfdJtc3NzEzh93K2Ol9uvVWCYeRrZJ31D6hwo5eG0r2NsuldKH1bb8sz9VtsY1f8HDKlzcGWjZ5dRAwv2nYxNfRbqu6pqcfBlNXsa4rJ57AQUV4m048wyGKBc5b/7mg4Mf4Cy03kltwmQPu2kj8w+tUNFQCF14qrrWnGFgKRSLX10wkFheyClY696k0SMfCtSOzQEFDatHxI1NThaMHINnH6+FWkHUFpzv2oviws8vix6rijKOeD8rgYaMrYGg8EfRlrVO/vLddi6bOZH8UkuGowambHz4HnqvTJTd73rsETJkCEvCAZD/1aBESflRZItTIHTZNdpwMySoiW9iNp9thPtiqmk7qyrq+s7YXYEcVNqezWVdcEIgEgkMl9fX38WOKPVBKSg1RCMVAiHw0vd3d1tFB8UGlTLeU0wAoGIyff29vYxY92knK2B0RAgcp4A5wJwFjW3PHn534hRq5bpjWnuGHB+qu1eLFsCIwCYsT4FAoHDwPniRSAFTZbBSMPOzs6vpFUrcKYLHWnPLKJyWlslXdsCIwJJq1+hUOgkxXEDwZ8N7BVhtg1G1HV0dPxhdRumKB8PqY8loqmit0t1XwnUCs2W+Sm3DRhR6susdRdg78y2dWO9vzv+PVLOdXkdAAAAAElFTkSuQmCC",height:8}))),k=n.a.createElement("div",{id:"image_container",key:"image_container"},n.a.createElement("div",{id:"arrow_left"},n.a.createElement("div",{id:"diamond"}),n.a.createElement("div",{id:"diamond_top"})),n.a.createElement("img",{id:"image_source_container",src:""}),n.a.createElement("div",{id:"image_loading_container"},n.a.createElement("div",{className:"table_loading_parent"},n.a.createElement("div",{className:"table_loader_container"},n.a.createElement("div",{className:"table_loader"})))));this.table_array.push(w),this.table_array.push(S),this.table_array.push(k);var O=this.table_array[0];for(m=1;m<this.table_array.length;m++)O=[O,this.table_array[m]];var T=this;this.setState({table:O},function(){if(t){T.y=a,T.column_name=i,T.drawTable();var e=String(parseInt(a,10)-1);"MacIntel"==window.navigator.platform?window.webkit.messageHandlers.scriptHandler.postMessage({status:"getAccordion",column:r,index:e}):window.postMessageToNativeClient('{"method":"get_accordion", "column": "'+r+'", "index": '+e+"}")}})}},{key:"updateData",value:function(e){this.data=e,this.data_sent=void 0,this.column_name=void 0,this.y=-1;for(var t=document.getElementsByClassName("active_element"),a=0;a<t.length;a++)t[a].children[0].children[1].children[0].style.display="block",t[a].children[0].children[1].children[1].style.display="none",t[a].children[0].children[1].classList.remove("active_arrow"),t[a].classList.remove("active_element");this.drawTable()}},{key:"cleanImageDictionary",value:function(){for(var e in this.image_dictionary)(parseInt(e,10)<this.set_lower*this.step_size||parseInt(e,10)>this.set_higher*this.step_size)&&delete this.image_dictionary[e]}},{key:"setImageData",value:function(e){if(this.cleanImageDictionary(),e.data&&e.data.data)for(var t=0;t<e.data.data.length;t++)this.image_dictionary[String(e.data.data[t].idx)]||(this.image_dictionary[String(e.data.data[t].idx)]={}),this.image_dictionary[String(e.data.data[t].idx)][e.data.data[t].column]||(this.image_dictionary[String(e.data.data[t].idx)][e.data.data[t].column]={}),this.image_dictionary[String(e.data.data[t].idx)][e.data.data[t].column].image=e.data.data[t].image,this.image_dictionary[String(e.data.data[t].idx)][e.data.data[t].column].format=e.data.data[t].format}},{key:"render",value:function(){return n.a.createElement("div",null,this.state.table)}}]),t}(i.Component),T=(a(141),a(22)),x=(a(143),a(91)),j=a.n(x),A=(a(145),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationSettingsSelection"},n.a.createElement("div",{className:"TCEvaluationSettingsSelectionTitle"},"Metrics"),n.a.createElement("div",{className:"TCEvaluationSettingsSelectionCont"},n.a.createElement("input",{type:"checkbox",name:"accuracy_checkbox",checked:this.props.accuracy,onChange:this.props.changeAccuracy.bind(this)}),n.a.createElement("span",{className:"TCEvaluationSettingsSelectionContText"},"Accuracy"),n.a.createElement("br",null),n.a.createElement("input",{type:"checkbox",name:"f1_score_checkbox",checked:this.props.f1_score,onChange:this.props.changeF1Score.bind(this)}),n.a.createElement("span",{className:"TCEvaluationSettingsSelectionContText"},"F1 Score"),n.a.createElement("br",null),n.a.createElement("input",{type:"checkbox",name:"precision_checkbox",checked:this.props.precision,onChange:this.props.changePrecision.bind(this)}),n.a.createElement("span",{className:"TCEvaluationSettingsSelectionContText"},"Precision"),n.a.createElement("br",null),n.a.createElement("input",{type:"checkbox",name:"recall_checkbox",checked:this.props.recall,onChange:this.props.changeRecall.bind(this)}),n.a.createElement("span",{className:"TCEvaluationSettingsSelectionContText"},"Recall")))}}]),t}(i.Component)),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).changeOpenClose=function(){a.setState({open:!a.state.open})},a.renderSettings=function(){if(a.state.open)return n.a.createElement("div",{className:"TCEvaluationSettingsSelectionContainer"},n.a.createElement(A,{accuracy:a.props.accuracy,changeAccuracy:a.props.changeAccuracy.bind(Object(T.a)(Object(T.a)(a))),precision:a.props.precision,changePrecision:a.props.changePrecision.bind(Object(T.a)(Object(T.a)(a))),recall:a.props.recall,changeRecall:a.props.changeRecall.bind(Object(T.a)(Object(T.a)(a))),f1_score:a.props.f1_score,changeF1Score:a.props.changeF1Score.bind(Object(T.a)(Object(T.a)(a)))}))},a.state={open:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationSettings"},n.a.createElement("div",{className:"TCEvaluationSettingsImage",onClick:this.changeOpenClose.bind(this)},n.a.createElement("img",{src:j.a,height:20,width:20})),this.renderSettings())}}]),t}(i.Component),I=(a(147),a(149),a(92)),D=a.n(I),L=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationTooltip"},n.a.createElement("div",{className:"TCEvaluationTooltipText"},this.props.text),n.a.createElement("div",{className:"TCEvaluationCarret"},n.a.createElement("img",{src:D.a,height:9,className:"TCEvaluationCarretIcon"})))}}]),t}(i.Component),R=a(93),H=a.n(R),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderIcon=function(){if(a.props.tooltip)return n.a.createElement("div",{className:"TCEvaluationMetricsInfoIcon"},n.a.createElement("img",{src:H.a,height:10,width:10}))},a.renderTooltip=function(){if(a.props.tooltip)return n.a.createElement("div",{className:"TCEvaluationMetricsTooltipContainer"},n.a.createElement(L,{text:a.props.tooltip}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationMetrics"},n.a.createElement("div",{className:"TCEvaluationMetricsTitleContainer"},n.a.createElement("div",{className:"TCEvaluationMetricsTitle"},this.props.title),this.renderIcon(),this.renderTooltip()),n.a.createElement("div",{className:"TCEvaluationMetricsValueContainer"},this.props.value))}}]),t}(i.Component),F=a(52),z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).formatDecimal=F.format(".2f"),a.state={accuracy:!0,f1_score:!1,precision:!1,recall:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderMetrics",value:function(){var e=[];return this.props.accuracy_visible&&e.push(n.a.createElement(M,{title:"Accuracy",value:this.formatDecimal(100*this.props.accuracy)+"%",tooltip:this.props.total_correct+" out of "+this.props.total_num+" predicted correctly"})),this.props.precision_visible&&e.push(n.a.createElement(M,{title:"Precision",value:this.formatDecimal(100*this.props.precision)+"%",tooltip:"Out of the labels predicted by the model, which were correct"})),this.props.recall_visible&&e.push(n.a.createElement(M,{title:"Recall",value:this.formatDecimal(100*this.props.recall)+"%",tooltip:"Out of the correct labels, which were predicted by the model"})),this.props.f1_score_visible&&e.push(n.a.createElement(M,{title:"F1 Score",value:this.formatDecimal(this.props.recall*this.props.precision*2/(this.props.recall+this.props.precision)*100)+"%",tooltip:"A harmonic average of precision and recall"})),e.push(n.a.createElement(M,{title:"Total Tested",value:this.props.total_num,tooltip:"Total number of examples tested"})),e}},{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationOverview"},n.a.createElement("div",{className:"TCEvaluationOverviewContainer"},n.a.createElement("div",{className:"TCEvaluationOverviewTitleContainer"},n.a.createElement("div",{className:"TCEvaluationOverviewTitle"},"Overview"),n.a.createElement(B,{accuracy:this.props.accuracy_visible,changeAccuracy:this.props.changeAccuracy.bind(this),precision:this.props.precision_visible,changePrecision:this.props.changePrecision.bind(this),recall:this.props.recall_visible,changeRecall:this.props.changeRecall.bind(this),f1_score:this.props.f1_score_visible,changeF1Score:this.props.changeF1Score.bind(this)})),n.a.createElement("div",{className:"TCEvaluationOverviewMetricsContainer"},n.a.createElement(M,{title:"Model",value:this.props.model_type}),n.a.createElement(M,{title:"Number of Iterations",value:this.props.iterations}),this.renderMetrics())))}}]),t}(i.Component),W=(a(151),a(153),a(155),a(94)),P=a.n(W),V=(a(157),a(159),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationImageCellsHover"},n.a.createElement("img",{width:200,src:this.props.src}))}}]),t}(i.Component)),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).onHoverState=function(){a.setState({hover:!0})},a.offHoverState=function(){a.setState({hover:!1})},a.renderImage=function(){if(a.state.hover)return n.a.createElement(V,{src:"data:image/"+a.props.value.format+";base64,"+a.props.value.data})},a.state={hover:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationImageCellsWrapper",onMouseEnter:this.onHoverState.bind(this),onMouseLeave:this.offHoverState.bind(this)},n.a.createElement("div",{className:"TCEvaluationImageCells"},n.a.createElement("img",{width:30,src:"data:image/"+this.props.value.format+";base64,"+this.props.value.data})),this.renderImage())}}]),t}(i.Component),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).renderPercentLeft=function(){if(a.props.value>=.5)return n.a.createElement("div",{className:"TCEvaluationCellsPercentShadedText",style:{color:"#FFFFFF"}},a.formatDecimal(100*a.props.value)+"%")},a.renderAmountLeft=function(){if(a.props.value/a.props.max>=.5)return n.a.createElement("div",{className:"TCEvaluationCellsPercentShadedText",style:{color:"#FFFFFF"}},a.formatDecimal(a.props.value))},a.renderPercentRight=function(){if(a.props.value<.5)return n.a.createElement("div",{className:"TCEvaluationCellsPercentShadedText",style:{color:"#484856"}},a.formatDecimal(100*a.props.value)+"%")},a.renderAmountRight=function(){if(a.props.value/a.props.max<.5)return n.a.createElement("div",{className:"TCEvaluationCellsPercentShadedText",style:{color:"#484856"}},a.formatDecimal(a.props.value))},a.renderWarning=function(){if(a.props.value<=.2)return n.a.createElement("div",{className:"TCEvaluationCellsPercentShadedWarning"},n.a.createElement("img",{src:P.a,height:16}))},a.formatDecimal=F.format(".0f"),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"images"==this.props.type?n.a.createElement("div",{className:"TCEvaluationCellsImages"},n.a.createElement("div",{className:"TCEvaluationCellsImagesContainer"},this.props.value.map(function(e,t){return n.a.createElement(Y,{value:e})}))):"percent"==this.props.type?n.a.createElement("div",{className:"TCEvaluationCellsPercent"},n.a.createElement("div",{className:"TCEvaluationCellsPercentShaded",style:{width:100*this.props.value+"%"}},this.renderPercentLeft()),this.renderPercentRight(),this.renderWarning()):"amount"==this.props.type?n.a.createElement("div",{className:"TCEvaluationCellsAmount"},n.a.createElement("div",{className:"TCEvaluationCellsAmountShaded",style:{width:this.props.value/this.props.max*100+"%"}},this.renderAmountLeft()),this.renderAmountRight()):n.a.createElement("div",{className:"TCEvaluationCellsText"},n.a.createElement("div",{className:"TCEvaluationCellsTextCont"},this.props.value))}}]),t}(i.Component),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).renderSelected=function(){if(a.props.selected)return{background:"#D6E7FB"}},a.renderAccuracy=function(){if(a.props.accuracy_visible)return n.a.createElement(U,{type:"percent",value:a.props.data.correct/(a.props.data.correct+a.props.data.incorrect),selected:a.props.selected,hovered:a.state.hovered})},a.renderPrecision=function(){if(a.props.precision_visible)return n.a.createElement(U,{type:"percent",value:a.props.data.precision,selected:a.props.selected,hovered:a.state.hovered})},a.renderRecall=function(){if(a.props.recall_visible)return n.a.createElement(U,{type:"percent",value:a.props.data.recall,selected:a.props.selected,hovered:a.state.hovered})},a.renderF1Score=function(){if(a.props.f1_score_visible)return n.a.createElement(U,{type:"percent",value:a.props.data.f1_score,selected:a.props.selected,hovered:a.state.hovered})},a.mouse_enter=function(){a.setState({hovered:!0})},a.mouse_leave=function(){a.setState({hovered:!1})},a.state={hovered:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationRows",style:this.renderSelected(),onClick:this.props.onclick.bind(this,this.props.data.name),onMouseEnter:this.mouse_enter.bind(this),onMouseLeave:this.mouse_leave.bind(this)},n.a.createElement("div",{className:"TCEvaluationRowContainer"},n.a.createElement(U,{value:this.props.data.name}),n.a.createElement(U,{type:"images",value:this.props.data.correct_images}),this.renderAccuracy(),this.renderPrecision(),this.renderRecall(),this.renderF1Score(),n.a.createElement(U,{type:"amount",value:this.props.data.num_examples,max:this.props.max_value,selected:this.props.selected,hovered:this.state.hovered})))}}]),t}(i.Component),X=(a(161),a(163),a(95)),G=a.n(X),K=a(75),q=a.n(K),Z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderCarret=function(){return a.props.enabled?a.props.direction?n.a.createElement("div",{className:"TCEvaluationHeaderCellDropDown",style:{transform:"rotate(180deg)"}},n.a.createElement("img",{src:q.a})):n.a.createElement("div",{className:"TCEvaluationHeaderCellDropDown"},n.a.createElement("img",{src:q.a})):n.a.createElement("div",{className:"TCEvaluationHeaderCellDropDown"},n.a.createElement("img",{src:G.a}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"images"==this.props.type?n.a.createElement("div",{className:"TCEvaluationHeaderCellImages"},this.props.name):"percent"==this.props.type?n.a.createElement("div",{className:"TCEvaluationHeaderCellPercent",onClick:this.props.onclick.bind(this)},this.props.name,this.renderCarret()):"amount"==this.props.type?n.a.createElement("div",{className:"TCEvaluationHeaderCellAmount",onClick:this.props.onclick.bind(this)},this.props.name,this.renderCarret()):n.a.createElement("div",{className:"TCEvaluationHeaderCellText",onClick:this.props.onclick.bind(this)},this.props.name,this.renderCarret())}}]),t}(i.Component),Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).clickedAccuracy=function(){a.props.updateSortBy("accuracy"),a.props.updateSortDirection()},a.clickedPrecision=function(){a.props.updateSortBy("precision"),a.props.updateSortDirection()},a.clickedRecall=function(){a.props.updateSortBy("recall"),a.props.updateSortDirection()},a.clickedF1Score=function(){a.props.updateSortBy("f1_score"),a.props.updateSortDirection()},a.clickedCell=function(){a.props.updateSortBy("class"),a.props.updateSortDirection()},a.clickNumTest=function(){a.props.updateSortBy("train"),a.props.updateSortDirection()},a.clickNumTrain=function(){a.props.updateSortBy("test"),a.props.updateSortDirection()},a.renderAccuracy=function(){if(a.props.accuracy_visible)return n.a.createElement(Z,{type:"percent",name:"ACCURACY",onclick:a.clickedAccuracy.bind(Object(T.a)(Object(T.a)(a))),enabled:"accuracy"==a.props.sort_by,direction:a.props.sort_direction})},a.renderPrecision=function(){if(a.props.precision_visible)return n.a.createElement(Z,{type:"percent",name:"PRECISION",onclick:a.clickedPrecision.bind(Object(T.a)(Object(T.a)(a))),enabled:"precision"==a.props.sort_by,direction:a.props.sort_direction})},a.renderRecall=function(){if(a.props.recall_visible)return n.a.createElement(Z,{type:"percent",name:"RECALL",onclick:a.clickedRecall.bind(Object(T.a)(Object(T.a)(a))),enabled:"recall"==a.props.sort_by,direction:a.props.sort_direction})},a.renderF1Score=function(){if(a.props.f1_score_visible)return n.a.createElement(Z,{type:"percent",name:"F1 SCORE",onclick:a.clickedF1Score.bind(Object(T.a)(Object(T.a)(a))),enabled:"f1_score"==a.props.sort_by,direction:a.props.sort_direction})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationHeader"},n.a.createElement("div",{className:"TCEvaluationHeaderContainer"},n.a.createElement(Z,{name:"CLASS NAME",onclick:this.clickedCell.bind(this),enabled:"class"==this.props.sort_by,direction:this.props.sort_direction}),n.a.createElement(Z,{type:"images",name:"EXAMPLE IMAGES"}),this.renderAccuracy(),this.renderPrecision(),this.renderRecall(),this.renderF1Score(),n.a.createElement(Z,{type:"amount",name:"NUM TEST",onclick:this.clickNumTest.bind(this),enabled:"train"==this.props.sort_by,direction:this.props.sort_direction})))}}]),t}(i.Component),$=function(e){function t(){var e,a;Object(o.a)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).maxValueNumTest=function(){return Math.max.apply(Math,a.props.data.map(function(e){return e.num_examples}))},a.sortingColumns=function(e,t){return"class"==a.props.sort_by&&a.props.sort_direction?e.name>t.name?-1:1:"class"!=a.props.sort_by||a.props.sort_direction?"accuracy"==a.props.sort_by&&a.props.sort_direction?e.correct/e.incorrect<t.correct/t.incorrect?-1:1:"accuracy"!=a.props.sort_by||a.props.sort_direction?"precision"==a.props.sort_by&&a.props.sort_direction?e.precision<t.precision?-1:1:"precision"!=a.props.sort_by||a.props.sort_direction?"f1_score"==a.props.sort_by&&a.props.sort_direction?e.f1_score<t.f1_score?-1:1:"f1_score"!=a.props.sort_by||a.props.sort_direction?"recall"==a.props.sort_by&&a.props.sort_direction?e.recall<t.recall?-1:1:"recall"!=a.props.sort_by||a.props.sort_direction?"train"==a.props.sort_by&&a.props.sort_direction?e.num_examples<t.num_examples?-1:1:"train"!=a.props.sort_by||a.props.sort_direction?"test"==a.props.sort_by&&a.props.sort_direction?e.num_examples<t.num_examples?-1:1:"test"!=a.props.sort_by||a.props.sort_direction?0:e.num_examples>t.num_examples?-1:1:e.num_examples>t.num_examples?-1:1:e.recall>t.recall?-1:1:e.f1_score>t.f1_score?-1:1:e.precision>t.precision?-1:1:e.correct/e.incorrect>t.correct/t.incorrect?-1:1:e.name<t.name?-1:1},a.selectClassName=function(){return a.props.footer_open?"TCEvaluationTable TCEvaluationTableOpen":"TCEvaluationTable"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.maxValueNumTest();return n.a.createElement("div",{className:this.selectClassName()},n.a.createElement(Q,{accuracy_visible:this.props.accuracy_visible,precision_visible:this.props.precision_visible,f1_score_visible:this.props.f1_score_visible,recall_visible:this.props.recall_visible,updateSortDirection:this.props.updateSortDirection.bind(this),updateSortBy:this.props.updateSortBy.bind(this),sort_direction:this.props.sort_direction,sort_by:this.props.sort_by}),this.props.data.sort(this.sortingColumns).map(function(a,i){return n.a.createElement(J,{data:a,accuracy_visible:e.props.accuracy_visible,precision_visible:e.props.precision_visible,f1_score_visible:e.props.f1_score_visible,recall_visible:e.props.recall_visible,max_value:t,selected:e.props.filter_confusion==a.name,onclick:e.props.row_click.bind(e)})}))}}]),t}(i.Component),ee=(a(165),a(96)),te=a.n(ee),ae=a(76),ie=a.n(ae),ne=(a(167),a(169),a(171),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).renderAmountLeft=function(){if(a.props.value/a.props.max>=.5)return n.a.createElement("div",{className:"TCEvaluationCellsPercentShadedText",style:{color:"#FFFFFF"}},a.formatDecimal(a.props.value))},a.renderAmountRight=function(){if(a.props.value/a.props.max<.5)return n.a.createElement("div",{className:"TCEvaluationCellsPercentShadedText",style:{color:"#484856"}},a.formatDecimal(a.props.value))},a.formatDecimal=F.format(".0f"),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"images"==this.props.type?n.a.createElement("div",{className:"TCEvaluationConfusionCellImage"},this.props.value.map(function(e,t){return n.a.createElement(Y,{value:e})})):"percent"==this.props.type?n.a.createElement("div",{className:"TCEvaluationConfusionCell"}):"amount"==this.props.type?n.a.createElement("div",{className:"TCEvaluationCellsAmount"},n.a.createElement("div",{className:"TCEvaluationCellsAmountShaded",style:{width:this.props.value/this.props.max*100+"%"}},this.renderAmountLeft()),this.renderAmountRight()):n.a.createElement("div",{className:"TCEvaluationConfusionCellText"},this.props.value)}}]),t}(i.Component)),re=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationConfusionRow",onClick:this.props.selectRowConfusions.bind(this,this.props.consideration.actual,this.props.consideration.predicted)},n.a.createElement(ne,{type:"text",value:this.props.consideration.actual}),n.a.createElement(ne,{type:"text",value:this.props.consideration.predicted}),n.a.createElement(ne,{type:"amount",value:this.props.consideration.count,max:this.props.maxValue}),n.a.createElement(ne,{type:"images",value:this.props.consideration.images}))}}]),t}(i.Component),se=(a(173),a(175),a(97)),oe=a.n(se),le=a(77),ce=a.n(le),pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderCaret=function(){return a.props.enabled?a.props.direction?n.a.createElement("div",{className:"TCEvaluationConfusionHeaderCellDropDown",style:{transform:"rotate(180deg)"}},n.a.createElement("img",{src:ce.a})):n.a.createElement("div",{className:"TCEvaluationConfusionHeaderCellDropDown"},n.a.createElement("img",{src:ce.a})):n.a.createElement("div",{className:"TCEvaluationConfusionHeaderCellDropDown"},n.a.createElement("img",{src:oe.a}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"images"==this.props.type?n.a.createElement("div",{className:"TCEvaluationConfusionHeaderCellImages"},this.props.name):"percent"==this.props.type?n.a.createElement("div",{className:"TCEvaluationConfusionHeaderCellPercent",onClick:this.props.onclick.bind(this)},this.props.name,this.renderCaret()):"amount"==this.props.type?n.a.createElement("div",{className:"TCEvaluationConfusionHeaderCellAmount",onClick:this.props.onclick.bind(this)},this.props.name,this.renderCaret()):n.a.createElement("div",{className:"TCEvaluationConfusionHeaderCellText",onClick:this.props.onclick.bind(this)},this.props.name,this.renderCaret())}}]),t}(i.Component),de=function(e){function t(){var e,a;Object(o.a)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).clickActual=function(){a.props.updateSortByConfusion("actual")},a.clickPredicted=function(){a.props.updateSortByConfusion("predicted")},a.clickCount=function(){a.props.updateSortByConfusion("count")},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationConfusionHeader"},n.a.createElement(pe,{name:"ACTUAL CLASS",onclick:this.clickActual.bind(this),enabled:"actual"==this.props.sort_by_confusions,direction:!this.props.sort_direction_confusions}),n.a.createElement(pe,{name:"PREDICTED CLASS",onclick:this.clickPredicted.bind(this),enabled:"predicted"==this.props.sort_by_confusions,direction:!this.props.sort_direction_confusions}),n.a.createElement(pe,{name:"NUMBER INCORRECT",type:"percent",onclick:this.clickCount.bind(this),enabled:"count"==this.props.sort_by_confusions,direction:!this.props.sort_direction_confusions}),n.a.createElement(pe,{name:"INCORRECT CLASSIFICATIONS",type:"images"}))}}]),t}(i.Component),ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).maxCount=function(){return Math.max.apply(Math,a.props.considerations.map(function(e){return e.count}))},a.filterData=function(e){return null==a.props.filter_confusion||e.actual==a.props.filter_confusion},a.sortData=function(e,t){return"actual"!=a.props.sort_by_confusions||a.props.sort_direction_confusions?"actual"==a.props.sort_by_confusions&&a.props.sort_direction_confusions?e.actual<t.actual?-1:1:"predicted"!=a.props.sort_by_confusions||a.props.sort_direction_confusions?"predicted"==a.props.sort_by_confusions&&a.props.sort_direction_confusions?e.predicted<t.predicted?-1:1:"count"!=a.props.sort_by_confusions||a.props.sort_direction_confusions?"count"==a.props.sort_by_confusions&&a.props.sort_direction_confusions?e.count<t.count?-1:1:0:e.count>t.count?-1:1:e.predicted>t.predicted?-1:1:e.actual>t.actual?-1:1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.maxCount();return n.a.createElement("div",{className:"TCEvaluationConfusionTable"},n.a.createElement("div",{className:"TCEvaluationConfusionTableContainer"},n.a.createElement(de,{updateSortByConfusion:this.props.updateSortByConfusion.bind(this),sort_by_confusions:this.props.sort_by_confusions,sort_direction_confusions:this.props.sort_direction_confusions}),this.props.considerations.filter(this.filterData).sort(this.sortData).map(function(a,i){return n.a.createElement(re,{consideration:a,selectRowConfusions:e.props.selectRowConfusions.bind(e),maxValue:t})})))}}]),t}(i.Component),he=(a(177),a(179),a(180),a(98)),me=a.n(he),fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).setHeight=function(){a.imgEl.current.clientWidth>a.imgEl.current.clientHeight?a.setState({height:130}):a.setState({width:130})},a.imgEl=n.a.createRef(),a.state={width:"auto",height:"auto"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationImageComponent"},n.a.createElement("img",{src:"data:image/"+this.props.src.format+";base64,"+this.props.src.data,className:"TCEvaluationImageComponentImage",ref:this.imgEl,width:this.state.width,height:this.state.height,onLoad:this.setHeight.bind(this)}),n.a.createElement("div",{className:"TCEvaluationImageComponentExport"},n.a.createElement("img",{src:me.a,width:10,height:10})))}}]),t}(i.Component),ge=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationImageViewerContainer"},n.a.createElement("div",{className:"TCEvaluationImageViewerContainerImages"},this.props.data.images.map(function(e,t){return n.a.createElement("div",{className:"TCEvaluationImageComponentWrapper"},n.a.createElement(fe,{src:e}))})))}}]),t}(i.Component),ve=function(e){function t(){var e,a;Object(o.a)(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).cssOpenStyleContainer=function(){if(a.props.footer_open)return{"min-height":parseInt(window.innerHeight/2,10)+"px"}},a.cssOpenStyleIcon=function(){if(a.props.footer_open)return{transform:"rotate(-180deg)"}},a.filterData=function(e){return e.actual==a.props.selected_actual&&e.predicted==a.props.selected_prediction},a.filterErrorData=function(e){return null==a.props.filter_confusion||e.actual==a.props.filter_confusion},a.render_table=function(){return null!=a.props.selected_actual&&null!=a.props.selected_prediction?n.a.createElement("div",null,n.a.createElement(ge,{reset:a.props.selectRowConfusions.bind(Object(T.a)(Object(T.a)(a)),null,null),data:a.props.considerations.filter(a.filterData)[0]})):n.a.createElement("div",null,n.a.createElement(ue,{considerations:a.props.considerations,filter_confusion:a.props.filter_confusion,sort_by_confusions:a.props.sort_by_confusions,sort_direction_confusions:a.props.sort_direction_confusions,updateSortByConfusion:a.props.updateSortByConfusion.bind(Object(T.a)(Object(T.a)(a))),selectRowConfusions:a.props.selectRowConfusions.bind(Object(T.a)(Object(T.a)(a)))}))},a.renderPill=function(e,t){return n.a.createElement("div",{className:"TCEvaluationFooterLabelIcon"},n.a.createElement("span",null,e," :\xa0"),t,"\xa0 \xa0",n.a.createElement("img",{src:ie.a,onClick:a.resetFilter.bind(Object(T.a)(Object(T.a)(a)))}))},a.renderPredictedPill=function(e,t){return n.a.createElement("div",{className:"TCEvaluationFooterLabelIcon"},n.a.createElement("span",null,e," :\xa0"),t,"\xa0 \xa0",n.a.createElement("img",{src:ie.a,onClick:a.props.selectRowConfusions.bind(Object(T.a)(Object(T.a)(a)),null,null)}))},a.resetFilter=function(){a.props.row_click(null)},a.renderLabel=function(){if(null!=a.props.filter_confusion)return n.a.createElement("div",{className:"TCEvaluationFooterLabel"},a.renderPill("Actual",a.props.filter_confusion))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluationFooter",style:this.cssOpenStyleContainer()},n.a.createElement("div",{className:"TCEvaluationFooterContainer"},n.a.createElement("div",{className:"TCEvaluationFooterText"},n.a.createElement("div",null,n.a.createElement("div",{className:"TCEvaluationErrorsPill"},this.props.considerations.filter(this.filterErrorData).length),"Errors"),this.renderLabel(),n.a.createElement("div",{className:"TCEvaluationFooterLabel"},null!=this.props.selected_prediction?this.renderPredictedPill("Predicted",this.props.considerations.filter(this.filterData)[0].predicted):[])),n.a.createElement("div",{className:"TCEvaluationFooterCarret",onClick:this.props.updateFooterOpen.bind(this)},n.a.createElement("img",{src:te.a,className:"TCEvaluationFooterCarretImage",style:this.cssOpenStyleIcon()}))),this.render_table())}}]),t}(i.Component),ye=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).loadIncorrect=function(){if(null!=a.state.selected_label&&null==a.state.incorrect_classification[a.state.selected_label]){var e=a.state.incorrect_classification;e[a.state.selected_label]="loading",a.setState({incorrect_classification:e}),"MacIntel"==window.navigator.platform&&window.webkit.messageHandlers.scriptHandler.postMessage({status:"getIncorrects",label:a.state.selected_label+""})}},a.updateSortDirection=function(){a.setState({sort_direction:!a.state.sort_direction})},a.updateSortBy=function(e){a.setState({sort_by:e})},a.updateSortByConfusion=function(e){a.setState({sort_by_confusions:e,sort_direction_confusions:!a.state.sort_direction_confusions})},a.updateFooterOpen=function(){a.setState({footer_open:!a.state.footer_open})},a.setFooterOpen=function(){a.setState({footer_open:!0})},a.summarySeedData=function(){return a.props.spec.label_metrics.map(function(e,t){for(var i={name:e.label,num_examples:e.count,correct:e.correct_count,incorrect:e.count-e.correct_count,f1_score:e.recall*e.precision*2/(e.recall+e.precision),precision:e.precision,recall:e.recall,correct_images:[]},n=[],r=0;r<a.state.correct_classification.length;r++)a.state.correct_classification[r].target==e.label&&(n=a.state.correct_classification[r].images);return i.correct_images=n,i})},a.totalCorrect=function(){for(var e=0,t=0;t<a.props.spec.label_metrics.length;t++)e+=a.props.spec.label_metrics[t].correct_count;return e},a.totalNum=function(){for(var e=0,t=0;t<a.props.spec.label_metrics.length;t++)e+=a.props.spec.label_metrics[t].count;return e},a.changeAccuracy=function(){a.setState({accuracy_visible:!a.state.accuracy_visible})},a.changeF1Score=function(){a.setState({f1_score_visible:!a.state.f1_score_visible})},a.changePrecision=function(){a.setState({precision_visible:!a.state.precision_visible})},a.changeRecall=function(){a.setState({recall_visible:!a.state.recall_visible})},a.createConsiderations=function(){for(var e=Object.keys(a.state.incorrect_classification),t=[],i=0;i<e.length;i++){var n=a.state.incorrect_classification[e[i]];if(null!=n&&"loading"!=n)for(var r=0;r<n.length;r++)t.push({actual:e[i],predicted:n[r].label,images:n[r].images,count:n[r].images.length})}return t},a.updatedSelectedRow=function(e){null!==e&&a.setFooterOpen(),a.setState({filter_confusion:e})},a.selectRowConfusions=function(e,t){a.setState({selected_actual_confusion:e,selected_actual_prediction:t})},a.state={accuracy_visible:!0,precision_visible:!1,f1_score_visible:!1,recall_visible:!1,sort_by:"accuracy",sort_direction:!0,incorrect_classification:a.props.spec.label_metrics.reduce(function(e,t){return e[t.label]=null,e},{}),correct_classification:[],filter_confusion:null,sort_by_confusions:"count",sort_direction_confusions:!1,selected_actual_confusion:null,selected_actual_prediction:null,footer_open:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;"MacIntel"===window.navigator.platform&&(window.webkit.messageHandlers.scriptHandler.postMessage({status:"ready"}),window.webkit.messageHandlers.scriptHandler.postMessage({status:"getCorrects"}),this.props.spec.labels.map(function(t,a){if(null==e.state.incorrect_classification[t]){var i=e.state.incorrect_classification;i[t]="loading",e.setState({incorrect_classification:i}),"MacIntel"==window.navigator.platform&&window.webkit.messageHandlers.scriptHandler.postMessage({status:"getIncorrects",label:t+""})}}),this.loadIncorrect())}},{key:"updateData",value:function(e){if("incorrects"in e){var t=e.incorrects,a=this.state.incorrect_classification;a[t.target]=t.data,this.setState({incorrect_classification:a})}"correct"in e&&this.setState({correct_classification:e.correct})}},{key:"render",value:function(){return n.a.createElement("div",{className:"TCEvaluation"},n.a.createElement(z,{accuracy:this.props.spec.accuracy,iterations:this.props.spec.max_iterations,precision:this.props.spec.precision,recall:this.props.spec.recall,model_type:"Resnet-50",accuracy_visible:this.state.accuracy_visible,precision_visible:this.state.precision_visible,f1_score_visible:this.state.f1_score_visible,recall_visible:this.state.recall_visible,changeAccuracy:this.changeAccuracy.bind(this),changePrecision:this.changePrecision.bind(this),changeRecall:this.changeRecall.bind(this),changeF1Score:this.changeF1Score.bind(this),total_correct:this.totalCorrect(),total_num:this.totalNum()}),n.a.createElement($,{data:this.summarySeedData(),accuracy_visible:this.state.accuracy_visible,precision_visible:this.state.precision_visible,f1_score_visible:this.state.f1_score_visible,recall_visible:this.state.recall_visible,sort_by:this.state.sort_by,sort_direction:this.state.sort_direction,updateSortDirection:this.updateSortDirection.bind(this),updateSortBy:this.updateSortBy.bind(this),filter_confusion:this.state.filter_confusion,footer_open:this.state.footer_open,row_click:this.updatedSelectedRow.bind(this)}),n.a.createElement(ve,{considerations:this.createConsiderations(),filter_confusion:this.state.filter_confusion,sort_by_confusions:this.state.sort_by_confusions,sort_direction_confusions:this.state.sort_direction_confusions,row_click:this.updatedSelectedRow.bind(this),updateSortByConfusion:this.updateSortByConfusion.bind(this),selectRowConfusions:this.selectRowConfusions.bind(this),selected_actual:this.state.selected_actual_confusion,selected_prediction:this.state.selected_actual_prediction,footer_open:this.state.footer_open,updateFooterOpen:this.updateFooterOpen.bind(this)}))}}]),t}(i.Component),be=a(99),_e=a(100),Ce=(a(199),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,"Placeholder")}}]),t}(i.Component)),Ee=0,we=100;document.onkeydown=function(e){var t=e.keyCode||e.charCode;91!=t&&93!=t||(Ee+=1),187==t&&Ee>0&&(we+=10,document.body.style.zoom=we+"%"),189==t&&Ee>0&&we>10&&(we-=10,document.body.style.zoom=we+"%")},document.onkeyup=function(e){var t=e.keyCode||e.charCode;91!=t&&93!=t||(Ee-=1)};var Se=Object.freeze({table:1,vega:2,summary:3,annotate:4,evaluate:5});window.flex_type_enum=Object.freeze({integer:0,float:1,string:2,vector:3,list:4,dict:5,datetime:6,undefined:7,image:8,nd_vector:9});var ke=null,Ne=null;window.setSpec=function(e){switch(document.getElementById("loading_container").style.display="block",document.getElementById("table_vis").style.display="none",document.getElementById("vega_vis").style.display="none",document.getElementById("annotate_viz").style.display="none",ke=null,Ne=null,e.type){case"vega":document.getElementById("vega_vis").style.display="block",ke=s.a.render(n.a.createElement(m,{vega_spec:e.data}),document.getElementById("vega_vis")),Ne=Se.vega;break;case"table":document.getElementById("table_vis").style.display="block",ke=s.a.render(n.a.createElement(O,{table_spec:e.data}),document.getElementById("table_vis")),Ne=Se.table;break;case"summary":Ne=Se.summary;break;case"evaluate":document.getElementById("loading_container").style.display="none",document.getElementById("evaluation_vis").style.display="block",ke=s.a.render(n.a.createElement(ye,{spec:e.data}),document.getElementById("evaluation_vis")),Ne=Se.evaluate}},window.setProtoMessage=function(e){document.getElementById("loading_container").style.display="none",document.getElementById("annotate_viz").style.display="block";var t=_e.Root.fromJSON(be).lookupType("TuriCreate.Annotation.Specification.Parcel"),a=Uint8Array.from(atob(e),function(e){return e.charCodeAt(0)});t.decode(a).hasOwnProperty("metadata")&&(ke=s.a.render(n.a.createElement(Ce,null),document.getElementById("annotate_viz")),Ne=Se.annotate)},window.updateData=function(e){switch(Ne){case Se.table:case Se.summary:case Se.vega:case Se.evaluate:document.getElementById("loading_container").style.display="none",ke.updateData(e);break;case Se.annotate:console.log("annotate");break;default:console.log("default")}},window.getSpec=function(){switch(Ne){case Se.summary:case Se.vega:return ke.getSpec();default:return""}},window.getData=function(){switch(Ne){case Se.summary:case Se.vega:return ke.getData();default:return""}},window.setImageData=function(e){switch(Ne){case Se.table:return ke.setImageData(e);default:return""}},window.setAccordionData=function(e){switch(Ne){case Se.table:return ke.setAccordionData(e);default:return""}},window.export_png=function(){switch(Ne){case Se.summary:case Se.vega:return ke.exportPNG();default:return""}},window.handleInput=function(e){var t,a=e;null!=a.table_spec&&((t={}).data=a.table_spec,t.type="table",window.setSpec(t));null!=a.vega_spec&&((t={}).data=a.vega_spec,t.type="vega",window.setSpec(t));(null!=a.data_spec&&window.updateData(a.data_spec),null!=a.image_spec)&&((t={}).data=a.image_spec,window.setImageData(t));null!=a.accordion_spec&&((t={}).data=a.accordion_spec,window.setAccordionData(t))},window.addEventListener("contextmenu",function(e){return e.preventDefault()})},75:function(e,t,a){e.exports=a.p+"static/media/caret-down.ed2cbc77.svg"},76:function(e,t,a){e.exports=a.p+"static/media/cancel.b73df5f8.svg"},77:function(e,t,a){e.exports=a.p+"static/media/caret-down.ed2cbc77.svg"},91:function(e,t,a){e.exports=a.p+"static/media/filter.6be96c8e.svg"},92:function(e,t,a){e.exports=a.p+"static/media/carret.d006a3ae.svg"},93:function(e,t,a){e.exports=a.p+"static/media/info.eb907d77.svg"},94:function(e,t,a){e.exports=a.p+"static/media/warning.1a77a1d2.svg"},95:function(e,t,a){e.exports=a.p+"static/media/down.02e4572e.svg"},96:function(e,t,a){e.exports=a.p+"static/media/down.2104bcc9.svg"},97:function(e,t,a){e.exports=a.p+"static/media/down.02e4572e.svg"},98:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABQCAYAAACdxrJZAAAAAXNSR0IArs4c6QAACEZJREFUeAHtnOtvFFUYh2kLglguWkQFIyARL4AYFYOXIN6jIWrUEjAYjUZJMHzwk1/4GyQxxlijCX5DRRHFGFCxgIhiVPCCgje8IyAgeCmlUJ+n7KztdttOpzO703be5MmZnT0z5z2/vuc9Z5YzDBiQWaZAb1agojc7H9b3RYsWDa6pqTlt4MCBFYsXL/4h7HVx1OsXAjc3Nw9HrOthBiyHLRUVFY2UidvAxFtIRwMG0plwP5wDLyD6O4i8i+NErb8IHIh4Mge3wESYisgrKLcmGc39TeBmBD0BpoARfS68iND1SUVzfxMYPVvMlGE0zwZTxgWI/ArlZwh9hDI2668CBwIG0TyGE+fB8lw07w4q9LTsLwKbGo51IJbRXAO3gtE8ORfNn8cRzX1eYMSyj6PhdOhsWTqY76fBWAhy8zpE3svnyNZZg21uiqNVnJDQ17S5QXwfgvYb6XzRqMTXSpo7BRz2k+EicA2sgMH1HHZoh/nmc3g1h7n5aIe1O/mi08Zw1Bw1HnT0DBgKnV7D90lZ0O7fNPAxtHtYyEWr+fQSmJ5D341g+9IdM60YvWvhedgQJZoDp7n+f8tFwGmcuQGug6kwChS4XGa07oHXwA4bVU2UA/DXkWUAXA6zwGidBNXQUwui2TWzbX/RnWhuJ3BO3Anc6B6YAzpqB8ppPtZuh2XwEnxNJ4/hq/6PBIW9Ca4G8+cQiNOCP+7b3PQFMJr3hWmgmMAm+QdhATgxlNv+xYHN8Cy8QcdaJh3Edcj7x58NrgAuhJMgSWvg5lvB3LwSvuoqmtusInBaB2fCvZAGcc236+BJWEtnFNuUMJzCaJ0L10KpfHVkmNvHg7ndp8B38Ws/x11aJZUngRelwQ7hxMtwDQzSe0p9HAsLYRMchnLZvzSsD4/ChXV1dS0+Fqqcj+Da2trBfDkRzGfFzGXKIbBM2hyKH8ISeM9hSCf0Vf/mw7zcMUXZzGi+DFy1DKuqqnqMch+0sbzAnB0BThCuHgpNYTeAw/UwtMvdnIvTTAWuQ9/PiWt0nA8PwV1QzEdOl9Rcxv0JW2DHUaxY64UCj6NS63PBNT9z8BSshpalUfBFUiXCOnObFhR3MjwMiuuqodxmkO2AVeBkt3XBggWOunaWF/MEjG+HtatBHzl3ALbTaZdLJbNcWnCloLi14Cgrp/lHdxXjSH7ZEk1+o+zQ8gJ3WOO4wH6t0CUzxPVx9yx4EIzccotrhH4BLtF84Aj1Y1AYgblXiyWdd4N2gvJUDu6GuVDOtGDU7oK3YAVsJGr3UIay7ggc6oZxVCJ6TVU3wn3QnQnN+UEcbWJQOBLsZxV01/7hgk/APPs6mCaLTmZ8V9RSJ3BuUpuGtw/AxKJeHxfPzhtJv8NucJ74G1yBOAlpiuvccjK4CpkOYUaiIv4Ca8BH800I64qh25Y6genBGDAtzCjSGwXcCdvgG/ganGQU+CAouv/ko0AO7SB6R3E8By6BriL5L+p8AEatqyZ/94g8/6RKYKLXX7+uhtthMASmeJ/B+2Dnv4Kf4CCdV8hOjfs2UKHlN4xOKppadoKiGrUfcm/F7pGlRmBEMNomgJHmD06aQ3072Om3YAvsiRBRQS7m8qLm8N8ELr3e5P47KWOx1AhMb4bDLLgKNHNqkAPX02ln8ritkRuaapzAXH59RDvm8NgsFQITvUbYOLgNFNq8uhyWwqd02uEbp5lT98F6MGr9pe5XytgtFQLTK3PvpTmcvZ+DpXTa6IrTTEOmnS/BhwXpFzt7XOveAE5Gy+BpxP2RMi5zhBi1rjbWgg8M62jDz4la2SOY9OA6dRK49jXn1sUsLrdsefhwSfc4rIJttBF32uG27a3sAuPSCHB96kxu5MadFrhty8PHZsrN3N/cWzJLg8A19NYJzoW9IsRuiOqDR15YRo39HsL5Hq9zu3I2DQL7ELEOPqDDLpsSM4T1Ke4s8JF5P7wJiVoaBPa3BJdKsa4/C1VDXFcqPn77lHgxONH1fYFzw9ffGBIxhB3EjU1BN8OdYL43NbhkS9zSEMGJdRJxnUCvhDvgOhgPmgK7bEvc+qzAiGuEToBHQJFPhJJbSYZJyXt1vEH7NhqmQVnE1Y2+LLD9Mw10+XOmFZOyvi5wUrqFvm8mcGipolXMBI6mW+irMoFDSxWtYiZwNN1CX5UJHFqqaBUzgaPpFvqqTODQUkWrmAkcTbfQV2UCh5YqWsVM4Gi6hb4qEzi0VNEqZgJH0y30VZnAoaWKVjETOJpuoa/KBA4tVbSKmcDRdAt9VSZwaKmiVcwEjqZb6KsygUNLFa1iJnA03UJf1R2BS7JRI7TnXVfU37L7nBe4sbHRHYjFNt+5edk3fkZCbzK3TLmzZ0gRpxW+tPuD+f8OfMfMHd82rqiBeTwW5rFbZhRlsT9CUDctpT7r62xw01+h2Yf9hSeT+JzfOtXQ0OBbPW5+diNeoVOncm4+XAE61/oPwMdUmq/jng3FXjx0s/e3pfA6L/CBAwfcELcDtsFlBY2bShRZeru5TdZ++iJM4pbPwfX19eak72EVKHZfNNOfr2vZxz9K0cG8wLnG3GZv42/Dkdy5vlSYd+3favYll2TPWj5FqKKboZnIfA/4CTB3zYLCfMypXmdGrjvpfQ/kGfqZxFujRUVpI7A1aNz/rmojh76w9x3MhLPhJCg2YXA6tWba2wsGzRpYSf+cY0pmHa4GEFkxx8B0mAJngvtsC9MKp1JnRqwpwBdsXC1sBf8z0fybRnwuiXUocKvWKxcuXDi0urp6ZGVlpS8N9gaBBzQ1NR11NFL+uWTJkkRfsGmlVXaYKZApkCmQKZAp0H8U+A8xtjUb6FW3lgAAAABJRU5ErkJggg=="},99:function(e){e.exports={options:{optimize_for:"LITE_RUNTIME"},nested:{TuriCreate:{nested:{Annotation:{nested:{Specification:{nested:{Parcel:{oneofs:{Message:{oneof:["annotations","data","metadata"]}},fields:{annotations:{type:"Annotations",id:1},data:{type:"Data",id:2},metadata:{type:"MetaData",id:3}}},ActivityClassificationLabel:{fields:{start:{type:"double",id:6},stop:{type:"double",id:7}}},AudioClassificationLabel:{fields:{start:{type:"double",id:6},stop:{type:"double",id:7}}},DrawingClassificationLabel:{fields:{}},ImageClassificationLabel:{fields:{}},ObjectDetectionLabel:{fields:{height:{type:"double",id:1},width:{type:"double",id:2},x:{type:"double",id:4},y:{type:"double",id:5}}},Label:{oneofs:{labelIdentifier:{oneof:["intLabel","stringLabel"]},labelType:{oneof:["activityClassificationLabel","audioClassificationLabel","drawingClassificationLabel","imageClassificationLabel","objectDetectionLabel"]}},fields:{intLabel:{type:"int64",id:1},stringLabel:{type:"string",id:2},activityClassificationLabel:{type:"ActivityClassificationLabel",id:100},audioClassificationLabel:{type:"AudioClassificationLabel",id:200},drawingClassificationLabel:{type:"DrawingClassificationLabel",id:300},imageClassificationLabel:{type:"ImageClassificationLabel",id:400},objectDetectionLabel:{type:"ObjectDetectionLabel",id:500}}},Annotation:{fields:{labels:{rule:"repeated",type:"Label",id:1},rowIndex:{rule:"repeated",type:"int64",id:2}}},Annotations:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}}},ImageDatum:{fields:{width:{type:"int32",id:1},height:{type:"int32",id:2},channels:{type:"int32",id:3},imgData:{type:"bytes",id:10}}},TextDatum:{fields:{text:{type:"string",id:1}}},Datum:{fields:{rowIndex:{type:"int64",id:1},images:{rule:"repeated",type:"ImageDatum",id:10},text:{rule:"repeated",type:"TextDatum",id:20}}},Data:{fields:{data:{rule:"repeated",type:"Datum",id:1}}},MetaString:{fields:{labels:{rule:"repeated",type:"string",id:1}}},MetaInteger:{fields:{labels:{rule:"repeated",type:"int64",id:1}}},ActivityClassificationMeta:{oneofs:{Label:{oneof:["strings","integers"]}},fields:{strings:{type:"MetaString",id:1},integers:{type:"MetaInteger",id:2}}},AudioClassificationMeta:{oneofs:{Label:{oneof:["strings","integers"]}},fields:{strings:{type:"MetaString",id:1},integers:{type:"MetaInteger",id:2}}},DrawingClassificationMeta:{oneofs:{Label:{oneof:["strings","integers"]}},fields:{strings:{type:"MetaString",id:1},integers:{type:"MetaInteger",id:2}}},ImageClassificationMeta:{oneofs:{Label:{oneof:["strings","integers"]}},fields:{strings:{type:"MetaString",id:1},integers:{type:"MetaInteger",id:2}}},ObjectDetectionMeta:{oneofs:{Label:{oneof:["strings","integers"]}},fields:{strings:{type:"MetaString",id:1},integers:{type:"MetaInteger",id:2}}},MetaData:{oneofs:{Type:{oneof:["activityClassification","audioClassification","drawingClassification","imageClassification","objectDetection"]}},fields:{numExamples:{type:"int64",id:1},type:{type:"AnnotationType",id:2},activityClassification:{type:"ActivityClassificationMeta",id:100},audioClassification:{type:"AudioClassificationMeta",id:101},drawingClassification:{type:"DrawingClassificationMeta",id:102},imageClassification:{type:"ImageClassificationMeta",id:103},objectDetection:{type:"ObjectDetectionMeta",id:104}},nested:{AnnotationType:{values:{ACTIVITY_CLASSIFICATION:0,AUDIO_CLASSIFICATION:1,DRAWING_CLASSIFICATION:2,IMAGE_CLASSIFICATION:3,OBJECT_DETECTION:4}}}}}}}}}}}}}},[[101,2,1]]]);
//# sourceMappingURL=main.916a6c26.chunk.js.map